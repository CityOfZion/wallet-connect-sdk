{"version":3,"file":"index.js","sources":["../node_modules/babel-plugin-transform-async-to-promises/helpers.js","../../../node_modules/tslib/tslib.es6.js","../../../node_modules/quick-format-unescaped/index.js","../../../node_modules/pino/browser.js","../../../node_modules/localStorage/lib/localStorage.js","../../../node_modules/safe-json-utils/dist/cjs/index.js","../../../node_modules/keyvaluestorage-interface/dist/cjs/index.js","../../../node_modules/keyvaluestorage/dist/cjs/shared/utils.js","../../../node_modules/keyvaluestorage/dist/cjs/browser/index.js","../../../node_modules/@json-rpc-tools/types/dist/cjs/provider.js","../../../node_modules/@json-rpc-tools/types/dist/cjs/blockchain.js","../../../node_modules/@json-rpc-tools/types/dist/cjs/router.js","../../../node_modules/@walletconnect/types/dist/cjs/sequence.js","../../../node_modules/@pedrouid/iso-crypto/dist/cjs/helpers/constants/index.js","../../../node_modules/@pedrouid/iso-crypto/dist/cjs/helpers/env/browser.js","../../../node_modules/aes-js/index.js","../../../node_modules/minimalistic-assert/index.js","../../../node_modules/inherits/inherits_browser.js","../../../node_modules/hash.js/lib/hash/utils.js","../../../node_modules/hash.js/lib/hash/common.js","../../../node_modules/hash.js/lib/hash/sha/common.js","../../../node_modules/hash.js/lib/hash/sha/1.js","../../../node_modules/hash.js/lib/hash/sha/256.js","../../../node_modules/hash.js/lib/hash/sha/224.js","../../../node_modules/hash.js/lib/hash/sha/512.js","../../../node_modules/hash.js/lib/hash/sha/384.js","../../../node_modules/hash.js/lib/hash/sha.js","../../../node_modules/hash.js/lib/hash/ripemd.js","../../../node_modules/hash.js/lib/hash/hmac.js","../../../node_modules/hash.js/lib/hash.js","../../../node_modules/is-typedarray/index.js","../../../node_modules/typedarray-to-buffer/index.js","../../../node_modules/enc-utils/dist/cjs/index.js","../../../node_modules/@pedrouid/iso-crypto/dist/cjs/helpers/env/fallback.js","../../../node_modules/@pedrouid/iso-crypto/dist/cjs/helpers/env/node.js","../../../node_modules/@pedrouid/iso-crypto/dist/cjs/helpers/pkcs7.js","../../../node_modules/@pedrouid/iso-crypto/dist/cjs/helpers/validators.js","../../../node_modules/@pedrouid/iso-crypto/dist/cjs/aes/async.js","../../../node_modules/@pedrouid/iso-crypto/dist/cjs/aes/sync.js","../../../node_modules/@pedrouid/iso-crypto/dist/cjs/hmac/async.js","../../../node_modules/@pedrouid/iso-crypto/dist/cjs/hmac/sync.js","../../../node_modules/@pedrouid/iso-crypto/dist/cjs/sha2/async.js","../../../node_modules/@pedrouid/iso-crypto/dist/cjs/sha2/sync.js","../../../node_modules/@stablelib/random/lib/source/browser.js","../../../node_modules/@stablelib/wipe/lib/wipe.js","../../../node_modules/@stablelib/random/lib/source/node.js","../../../node_modules/@stablelib/random/lib/source/system.js","../../../node_modules/@stablelib/int/lib/int.js","../../../node_modules/@stablelib/binary/lib/binary.js","../../../node_modules/@stablelib/random/lib/random.js","../../../node_modules/@stablelib/x25519/lib/x25519.js","../../../node_modules/ecies-25519/dist/cjs/ecies/shared/index.js","../../../node_modules/ecies-25519/dist/cjs/ecies/async.js","../../../node_modules/ecies-25519/dist/cjs/ecies/sync.js","../../../node_modules/@walletconnect/utils/dist/cjs/crypto.js","../../../node_modules/strict-uri-encode/index.js","../../../node_modules/decode-uri-component/index.js","../../../node_modules/split-on-first/index.js","../../../node_modules/filter-obj/index.js","../../../node_modules/query-string/index.js","../../../node_modules/window-getters/dist/cjs/index.js","../../../node_modules/window-metadata/dist/cjs/index.js","../../../node_modules/@walletconnect/utils/dist/cjs/misc.js","../../../node_modules/@walletconnect/utils/dist/cjs/error.js","../../../node_modules/@walletconnect/utils/dist/cjs/uri.js","../../../node_modules/@walletconnect/utils/dist/cjs/validators.js","../../../node_modules/@pedrouid/pino-utils/dist/cjs/utils.js","../../../node_modules/@json-rpc-tools/utils/dist/cjs/constants.js","../../../node_modules/@json-rpc-tools/utils/dist/cjs/error.js","../../../node_modules/@pedrouid/environment/dist/cjs/crypto.js","../../../node_modules/@pedrouid/environment/dist/cjs/env.js","../../../node_modules/@json-rpc-tools/utils/dist/cjs/format.js","../../../node_modules/@json-rpc-tools/utils/dist/cjs/routing.js","../../../node_modules/@json-rpc-tools/utils/dist/cjs/validators.js","../../../node_modules/@walletconnect/client/dist/cjs/constants/time.js","../../../node_modules/@walletconnect/client/dist/cjs/constants/client.js","../../../node_modules/@walletconnect/client/dist/cjs/constants/history.js","../../../node_modules/@walletconnect/client/dist/cjs/constants/pairing.js","../../../node_modules/@walletconnect/client/dist/cjs/constants/session.js","../../../node_modules/@walletconnect/client/dist/cjs/constants/subscription.js","../../../node_modules/@walletconnect/client/dist/cjs/controllers/subscription.js","../../../node_modules/@walletconnect/client/dist/cjs/controllers/history.js","../../../node_modules/@walletconnect/client/dist/cjs/controllers/pairing.js","../../../node_modules/axios/lib/helpers/bind.js","../../../node_modules/axios/lib/utils.js","../../../node_modules/axios/lib/helpers/buildURL.js","../../../node_modules/axios/lib/core/InterceptorManager.js","../../../node_modules/axios/lib/core/transformData.js","../../../node_modules/axios/lib/cancel/isCancel.js","../../../node_modules/axios/lib/helpers/normalizeHeaderName.js","../../../node_modules/axios/lib/core/enhanceError.js","../../../node_modules/axios/lib/core/createError.js","../../../node_modules/axios/lib/core/settle.js","../../../node_modules/axios/lib/helpers/cookies.js","../../../node_modules/axios/lib/helpers/isAbsoluteURL.js","../../../node_modules/axios/lib/helpers/combineURLs.js","../../../node_modules/axios/lib/core/buildFullPath.js","../../../node_modules/axios/lib/helpers/parseHeaders.js","../../../node_modules/axios/lib/helpers/isURLSameOrigin.js","../../../node_modules/axios/lib/adapters/xhr.js","../../../node_modules/axios/lib/defaults.js","../../../node_modules/axios/lib/core/dispatchRequest.js","../../../node_modules/axios/lib/core/mergeConfig.js","../../../node_modules/axios/lib/core/Axios.js","../../../node_modules/axios/lib/cancel/Cancel.js","../../../node_modules/axios/lib/cancel/CancelToken.js","../../../node_modules/axios/lib/helpers/spread.js","../../../node_modules/axios/lib/helpers/isAxiosError.js","../../../node_modules/axios/lib/axios.js","../../../node_modules/axios/index.js","../../../node_modules/@json-rpc-tools/provider/dist/cjs/url.js","../../../node_modules/@json-rpc-tools/provider/dist/cjs/http.js","../../../node_modules/ws/browser.js","../../../node_modules/@json-rpc-tools/provider/dist/cjs/ws.js","../../../node_modules/@json-rpc-tools/provider/dist/cjs/provider.js","../../../node_modules/relay-provider/dist/cjs/provider.js","../../../node_modules/relay-provider/dist/cjs/misc.js","../../../node_modules/relay-provider/dist/cjs/validators.js","../../../node_modules/relay-provider/dist/cjs/parsers.js","../../../node_modules/relay-provider/dist/cjs/jsonrpc.js","../../../node_modules/@walletconnect/client/dist/cjs/controllers/relayer.js","../../../node_modules/@walletconnect/client/dist/cjs/controllers/session.js","../../../node_modules/@walletconnect/client/dist/cjs/client.js","../src/index.tsx"],"sourcesContent":["// A type of promise-like that resolves synchronously and supports only one observer\nexport const _Pact = /*#__PURE__*/(function() {\n\tfunction _Pact() {}\n\t_Pact.prototype.then = function(onFulfilled, onRejected) {\n\t\tconst result = new _Pact();\n\t\tconst state = this.s;\n\t\tif (state) {\n\t\t\tconst callback = state & 1 ? onFulfilled : onRejected;\n\t\t\tif (callback) {\n\t\t\t\ttry {\n\t\t\t\t\t_settle(result, 1, callback(this.v));\n\t\t\t\t} catch (e) {\n\t\t\t\t\t_settle(result, 2, e);\n\t\t\t\t}\n\t\t\t\treturn result;\n\t\t\t} else {\n\t\t\t\treturn this;\n\t\t\t}\n\t\t}\n\t\tthis.o = function(_this) {\n\t\t\ttry {\n\t\t\t\tconst value = _this.v;\n\t\t\t\tif (_this.s & 1) {\n\t\t\t\t\t_settle(result, 1, onFulfilled ? onFulfilled(value) : value);\n\t\t\t\t} else if (onRejected) {\n\t\t\t\t\t_settle(result, 1, onRejected(value));\n\t\t\t\t} else {\n\t\t\t\t\t_settle(result, 2, value);\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\t_settle(result, 2, e);\n\t\t\t}\n\t\t};\n\t\treturn result;\n\t}\n\treturn _Pact;\n})();\n\n// Settles a pact synchronously\nexport function _settle(pact, state, value) {\n\tif (!pact.s) {\n\t\tif (value instanceof _Pact) {\n\t\t\tif (value.s) {\n\t\t\t\tif (state & 1) {\n\t\t\t\t\tstate = value.s;\n\t\t\t\t}\n\t\t\t\tvalue = value.v;\n\t\t\t} else {\n\t\t\t\tvalue.o = _settle.bind(null, pact, state);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\tif (value && value.then) {\n\t\t\tvalue.then(_settle.bind(null, pact, state), _settle.bind(null, pact, 2));\n\t\t\treturn;\n\t\t}\n\t\tpact.s = state;\n\t\tpact.v = value;\n\t\tconst observer = pact.o;\n\t\tif (observer) {\n\t\t\tobserver(pact);\n\t\t}\n\t}\n}\n\nexport function _isSettledPact(thenable) {\n\treturn thenable instanceof _Pact && thenable.s & 1;\n}\n\n// Converts argument to a function that always returns a Promise\nexport function _async(f) {\n\treturn function() {\n\t\tfor (var args = [], i = 0; i < arguments.length; i++) {\n\t\t\targs[i] = arguments[i];\n\t\t}\n\t\ttry {\n\t\t\treturn Promise.resolve(f.apply(this, args));\n\t\t} catch(e) {\n\t\t\treturn Promise.reject(e);\n\t\t}\n\t}\n}\n\n// Awaits on a value that may or may not be a Promise (equivalent to the await keyword in ES2015, with continuations passed explicitly)\nexport function _await(value, then, direct) {\n\tif (direct) {\n\t\treturn then ? then(value) : value;\n\t}\n\tif (!value || !value.then) {\n\t\tvalue = Promise.resolve(value);\n\t}\n\treturn then ? value.then(then) : value;\n}\n\n// Awaits on a value that may or may not be a Promise, then ignores it\nexport function _awaitIgnored(value, direct) {\n\tif (!direct) {\n\t\treturn value && value.then ? value.then(_empty) : Promise.resolve();\n\t}\n}\n\n// Proceeds after a value has resolved, or proceeds immediately if the value is not thenable\nexport function _continue(value, then) {\n\treturn value && value.then ? value.then(then) : then(value);\n}\n\n// Proceeds after a value has resolved, or proceeds immediately if the value is not thenable\nexport function _continueIgnored(value) {\n\tif (value && value.then) {\n\t\treturn value.then(_empty);\n\t}\n}\n\n// Asynchronously iterate through an object that has a length property, passing the index as the first argument to the callback (even as the length property changes)\nexport function _forTo(array, body, check) {\n\tvar i = -1, pact, reject;\n\tfunction _cycle(result) {\n\t\ttry {\n\t\t\twhile (++i < array.length && (!check || !check())) {\n\t\t\t\tresult = body(i);\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult.then(_cycle, reject || (reject = _settle.bind(null, pact = new _Pact(), 2)));\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (pact) {\n\t\t\t\t_settle(pact, 1, result);\n\t\t\t} else {\n\t\t\t\tpact = result;\n\t\t\t}\n\t\t} catch (e) {\n\t\t\t_settle(pact || (pact = new _Pact()), 2, e);\n\t\t}\n\t}\n\t_cycle();\n\treturn pact;\n}\n\n// Asynchronously iterate through an object's properties (including properties inherited from the prototype)\n// Uses a snapshot of the object's properties\nexport function _forIn(target, body, check) {\n\tvar keys = [];\n\tfor (var key in target) {\n\t\tkeys.push(key);\n\t}\n\treturn _forTo(keys, function(i) { return body(keys[i]); }, check);\n}\n\n// Asynchronously iterate through an object's own properties (excluding properties inherited from the prototype)\n// Uses a snapshot of the object's properties\nexport function _forOwn(target, body, check) {\n\tvar keys = [];\n\tfor (var key in target) {\n\t\tif (Object.prototype.hasOwnProperty.call(target, key)) {\n\t\t\tkeys.push(key);\n\t\t}\n\t}\n\treturn _forTo(keys, function(i) { return body(keys[i]); }, check);\n}\n\nexport const _iteratorSymbol = /*#__PURE__*/ typeof Symbol !== \"undefined\" ? (Symbol.iterator || (Symbol.iterator = Symbol(\"Symbol.iterator\"))) : \"@@iterator\";\n\n// Asynchronously iterate through an object's values\n// Uses for...of if the runtime supports it, otherwise iterates until length on a copy\nexport function _forOf(target, body, check) {\n\tif (typeof target[_iteratorSymbol] === \"function\") {\n\t\tvar iterator = target[_iteratorSymbol](), step, pact, reject;\n\t\tfunction _cycle(result) {\n\t\t\ttry {\n\t\t\t\twhile (!(step = iterator.next()).done && (!check || !check())) {\n\t\t\t\t\tresult = body(step.value);\n\t\t\t\t\tif (result && result.then) {\n\t\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tresult.then(_cycle, reject || (reject = _settle.bind(null, pact = new _Pact(), 2)));\n\t\t\t\t\t\t\treturn;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif (pact) {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t} else {\n\t\t\t\t\tpact = result;\n\t\t\t\t}\n\t\t\t} catch (e) {\n\t\t\t\t_settle(pact || (pact = new _Pact()), 2, e);\n\t\t\t}\n\t\t}\n\t\t_cycle();\n\t\tif (iterator.return) {\n\t\t\tvar _fixup = function(value) {\n\t\t\t\ttry {\n\t\t\t\t\tif (!step.done) {\n\t\t\t\t\t\titerator.return();\n\t\t\t\t\t}\n\t\t\t\t} catch(e) {\n\t\t\t\t}\n\t\t\t\treturn value;\n\t\t\t}\n\t\t\tif (pact && pact.then) {\n\t\t\t\treturn pact.then(_fixup, function(e) {\n\t\t\t\t\tthrow _fixup(e);\n\t\t\t\t});\n\t\t\t}\n\t\t\t_fixup();\n\t\t}\n\t\treturn pact;\n\t}\n\t// No support for Symbol.iterator\n\tif (!(\"length\" in target)) {\n\t\tthrow new TypeError(\"Object is not iterable\");\n\t}\n\t// Handle live collections properly\n\tvar values = [];\n\tfor (var i = 0; i < target.length; i++) {\n\t\tvalues.push(target[i]);\n\t}\n\treturn _forTo(values, function(i) { return body(values[i]); }, check);\n}\n\nexport const _asyncIteratorSymbol = /*#__PURE__*/ typeof Symbol !== \"undefined\" ? (Symbol.asyncIterator || (Symbol.asyncIterator = Symbol(\"Symbol.asyncIterator\"))) : \"@@asyncIterator\";\n\n// Asynchronously iterate on a value using it's async iterator if present, or its synchronous iterator if missing\nexport function _forAwaitOf(target, body, check) {\n\tif (typeof target[_asyncIteratorSymbol] === \"function\") {\n\t\tvar pact = new _Pact();\n\t\tvar iterator = target[_asyncIteratorSymbol]();\n\t\titerator.next().then(_resumeAfterNext).then(void 0, _reject);\n\t\treturn pact;\n\t\tfunction _resumeAfterBody(result) {\n\t\t\tif (check && check()) {\n\t\t\t\treturn _settle(pact, 1, iterator.return ? iterator.return().then(function() { return result; }) : result);\n\t\t\t}\n\t\t\titerator.next().then(_resumeAfterNext).then(void 0, _reject);\n\t\t}\n\t\tfunction _resumeAfterNext(step) {\n\t\t\tif (step.done) {\n\t\t\t\t_settle(pact, 1);\n\t\t\t} else {\n\t\t\t\tPromise.resolve(body(step.value)).then(_resumeAfterBody).then(void 0, _reject);\n\t\t\t}\n\t\t}\n\t\tfunction _reject(error) {\n\t\t\t_settle(pact, 2, iterator.return ? iterator.return().then(function() { return error; }) : error);\n\t\t}\n\t}\n\treturn Promise.resolve(_forOf(target, function(value) { return Promise.resolve(value).then(body); }, check));\n}\n\n// Asynchronously implement a generic for loop\nexport function _for(test, update, body) {\n\tvar stage;\n\tfor (;;) {\n\t\tvar shouldContinue = test();\n\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\tshouldContinue = shouldContinue.v;\n\t\t}\n\t\tif (!shouldContinue) {\n\t\t\treturn result;\n\t\t}\n\t\tif (shouldContinue.then) {\n\t\t\tstage = 0;\n\t\t\tbreak;\n\t\t}\n\t\tvar result = body();\n\t\tif (result && result.then) {\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.s;\n\t\t\t} else {\n\t\t\t\tstage = 1;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tif (update) {\n\t\t\tvar updateValue = update();\n\t\t\tif (updateValue && updateValue.then && !_isSettledPact(updateValue)) {\n\t\t\t\tstage = 2;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t}\n\tvar pact = new _Pact();\n\tvar reject = _settle.bind(null, pact, 2);\n\t(stage === 0 ? shouldContinue.then(_resumeAfterTest) : stage === 1 ? result.then(_resumeAfterBody) : updateValue.then(_resumeAfterUpdate)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterBody(value) {\n\t\tresult = value;\n\t\tdo {\n\t\t\tif (update) {\n\t\t\t\tupdateValue = update();\n\t\t\t\tif (updateValue && updateValue.then && !_isSettledPact(updateValue)) {\n\t\t\t\t\tupdateValue.then(_resumeAfterUpdate).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\tshouldContinue = test();\n\t\t\tif (!shouldContinue || (_isSettledPact(shouldContinue) && !shouldContinue.v)) {\n\t\t\t\t_settle(pact, 1, result);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.v;\n\t\t\t}\n\t\t} while (!result || !result.then);\n\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t}\n\tfunction _resumeAfterTest(shouldContinue) {\n\t\tif (shouldContinue) {\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t} else {\n\t\t\t\t_resumeAfterBody(result);\n\t\t\t}\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n\tfunction _resumeAfterUpdate() {\n\t\tif (shouldContinue = test()) {\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t} else {\n\t\t\t\t_resumeAfterTest(shouldContinue);\n\t\t\t}\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n}\n\n// Asynchronously implement a do ... while loop\nexport function _do(body, test) {\n\tvar awaitBody;\n\tdo {\n\t\tvar result = body();\n\t\tif (result && result.then) {\n\t\t\tif (_isSettledPact(result)) {\n\t\t\t\tresult = result.v;\n\t\t\t} else {\n\t\t\t\tawaitBody = true;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\t\tvar shouldContinue = test();\n\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\tshouldContinue = shouldContinue.v;\n\t\t}\n\t\tif (!shouldContinue) {\n\t\t\treturn result;\n\t\t}\n\t} while (!shouldContinue.then);\n\tconst pact = new _Pact();\n\tconst reject = _settle.bind(null, pact, 2);\n\t(awaitBody ? result.then(_resumeAfterBody) : shouldContinue.then(_resumeAfterTest)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterBody(value) {\n\t\tresult = value;\n\t\tfor (;;) {\n\t\t\tshouldContinue = test();\n\t\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\t\tshouldContinue = shouldContinue.v;\n\t\t\t}\n\t\t\tif (!shouldContinue) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (shouldContinue.then) {\n\t\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\tresult = result.v;\n\t\t\t\t} else {\n\t\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\t_settle(pact, 1, result);\n\t}\n\tfunction _resumeAfterTest(shouldContinue) {\n\t\tif (shouldContinue) {\n\t\t\tdo {\n\t\t\t\tresult = body();\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tif (_isSettledPact(result)) {\n\t\t\t\t\t\tresult = result.v;\n\t\t\t\t\t} else {\n\t\t\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\t\t\treturn;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tshouldContinue = test();\n\t\t\t\tif (_isSettledPact(shouldContinue)) {\n\t\t\t\t\tshouldContinue = shouldContinue.v;\n\t\t\t\t}\n\t\t\t\tif (!shouldContinue) {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} while (!shouldContinue.then);\n\t\t\tshouldContinue.then(_resumeAfterTest).then(void 0, reject);\n\t\t} else {\n\t\t\t_settle(pact, 1, result);\n\t\t}\n\t}\n}\n\n// Asynchronously implement a switch statement\nexport function _switch(discriminant, cases) {\n\tvar dispatchIndex = -1;\n\tvar awaitBody;\n\touter: {\n\t\tfor (var i = 0; i < cases.length; i++) {\n\t\t\tvar test = cases[i][0];\n\t\t\tif (test) {\n\t\t\t\tvar testValue = test();\n\t\t\t\tif (testValue && testValue.then) {\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\t\t\t\tif (testValue === discriminant) {\n\t\t\t\t\tdispatchIndex = i;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Found the default case, set it as the pending dispatch case\n\t\t\t\tdispatchIndex = i;\n\t\t\t}\n\t\t}\n\t\tif (dispatchIndex !== -1) {\n\t\t\tdo {\n\t\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\t\twhile (!body) {\n\t\t\t\t\tdispatchIndex++;\n\t\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t\t}\n\t\t\t\tvar result = body();\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tawaitBody = true;\n\t\t\t\t\tbreak outer;\n\t\t\t\t}\n\t\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\t\tdispatchIndex++;\n\t\t\t} while (fallthroughCheck && !fallthroughCheck());\n\t\t\treturn result;\n\t\t}\n\t}\n\tconst pact = new _Pact();\n\tconst reject = _settle.bind(null, pact, 2);\n\t(awaitBody ? result.then(_resumeAfterBody) : testValue.then(_resumeAfterTest)).then(void 0, reject);\n\treturn pact;\n\tfunction _resumeAfterTest(value) {\n\t\tfor (;;) {\n\t\t\tif (value === discriminant) {\n\t\t\t\tdispatchIndex = i;\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tif (++i === cases.length) {\n\t\t\t\tif (dispatchIndex !== -1) {\n\t\t\t\t\tbreak;\n\t\t\t\t} else {\n\t\t\t\t\t_settle(pact, 1, result);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t}\n\t\t\ttest = cases[i][0];\n\t\t\tif (test) {\n\t\t\t\tvalue = test();\n\t\t\t\tif (value && value.then) {\n\t\t\t\t\tvalue.then(_resumeAfterTest).then(void 0, reject);\n\t\t\t\t\treturn;\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\tdispatchIndex = i;\n\t\t\t}\n\t\t}\n\t\tdo {\n\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\twhile (!body) {\n\t\t\t\tdispatchIndex++;\n\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t}\n\t\t\tvar result = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\tdispatchIndex++;\n\t\t} while (fallthroughCheck && !fallthroughCheck());\n\t\t_settle(pact, 1, result);\n\t}\n\tfunction _resumeAfterBody(result) {\n\t\tfor (;;) {\n\t\t\tvar fallthroughCheck = cases[dispatchIndex][2];\n\t\t\tif (!fallthroughCheck || fallthroughCheck()) {\n\t\t\t\tbreak;\n\t\t\t}\n\t\t\tdispatchIndex++;\n\t\t\tvar body = cases[dispatchIndex][1];\n\t\t\twhile (!body) {\n\t\t\t\tdispatchIndex++;\n\t\t\t\tbody = cases[dispatchIndex][1];\n\t\t\t}\n\t\t\tresult = body();\n\t\t\tif (result && result.then) {\n\t\t\t\tresult.then(_resumeAfterBody).then(void 0, reject);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}\n\t\t_settle(pact, 1, result);\n\t}\n}\n\n// Asynchronously call a function and pass the result to explicitly passed continuations\nexport function _call(body, then, direct) {\n\tif (direct) {\n\t\treturn then ? then(body()) : body();\n\t}\n\ttry {\n\t\tvar result = Promise.resolve(body());\n\t\treturn then ? result.then(then) : result;\n\t} catch (e) {\n\t\treturn Promise.reject(e);\n\t}\n}\n\n// Asynchronously call a function and swallow the result\nexport function _callIgnored(body, direct) {\n\treturn _call(body, _empty, direct);\n}\n\n// Asynchronously call a function and pass the result to explicitly passed continuations\nexport function _invoke(body, then) {\n\tvar result = body();\n\tif (result && result.then) {\n\t\treturn result.then(then);\n\t}\n\treturn then(result);\n}\n\n// Asynchronously call a function and swallow the result\nexport function _invokeIgnored(body) {\n\tvar result = body();\n\tif (result && result.then) {\n\t\treturn result.then(_empty);\n\t}\n}\n\n// Asynchronously call a function and send errors to recovery continuation\nexport function _catch(body, recover) {\n\ttry {\n\t\tvar result = body();\n\t} catch(e) {\n\t\treturn recover(e);\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(void 0, recover);\n\t}\n\treturn result;\n}\n\n// Asynchronously await a promise and pass the result to a finally continuation\nexport function _finallyRethrows(body, finalizer) {\n\ttry {\n\t\tvar result = body();\n\t} catch (e) {\n\t\treturn finalizer(true, e);\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(finalizer.bind(null, false), finalizer.bind(null, true));\n\t}\n\treturn finalizer(false, result);\n}\n\n// Asynchronously await a promise and invoke a finally continuation that always overrides the result\nexport function _finally(body, finalizer) {\n\ttry {\n\t\tvar result = body();\n\t} catch (e) {\n\t\treturn finalizer();\n\t}\n\tif (result && result.then) {\n\t\treturn result.then(finalizer, finalizer);\n\t}\n\treturn finalizer();\n}\n\n// Rethrow or return a value from a finally continuation\nexport function _rethrow(thrown, value) {\n\tif (thrown)\n\t\tthrow value;\n\treturn value;\n}\n\n// Empty function to implement break and other control flow that ignores asynchronous results\nexport function _empty() {\n}\n\n// Sentinel value for early returns in generators \nexport const _earlyReturn = /*#__PURE__*/ {};\n\n// Asynchronously call a function and send errors to recovery continuation, skipping early returns\nexport function _catchInGenerator(body, recover) {\n\treturn _catch(body, function(e) {\n\t\tif (e === _earlyReturn) {\n\t\t\tthrow e;\n\t\t}\n\t\treturn recover(e);\n\t});\n}\n\n// Asynchronous generator class; accepts the entrypoint of the generator, to which it passes itself when the generator should start\nexport const _AsyncGenerator = /*#__PURE__*/(function() {\n\tfunction _AsyncGenerator(entry) {\n\t\tthis._entry = entry;\n\t\tthis._pact = null;\n\t\tthis._resolve = null;\n\t\tthis._return = null;\n\t\tthis._promise = null;\n\t}\n\n\tfunction _wrapReturnedValue(value) {\n\t\treturn { value: value, done: true };\n\t}\n\tfunction _wrapYieldedValue(value) {\n\t\treturn { value: value, done: false };\n\t}\n\n\t_AsyncGenerator.prototype._yield = function(value) {\n\t\t// Yield the value to the pending next call\n\t\tthis._resolve(value && value.then ? value.then(_wrapYieldedValue) : _wrapYieldedValue(value));\n\t\t// Return a pact for an upcoming next/return/throw call\n\t\treturn this._pact = new _Pact();\n\t};\n\t_AsyncGenerator.prototype.next = function(value) {\n\t\t// Advance the generator, starting it if it has yet to be started\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tconst _entry = _this._entry;\n\t\t\t\tif (_entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the next call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Start the generator\n\t\t\t\t_this._entry = null;\n\t\t\t\t_this._resolve = resolve;\n\t\t\t\tfunction returnValue(value) {\n\t\t\t\t\t_this._resolve(value && value.then ? value.then(_wrapReturnedValue) : _wrapReturnedValue(value));\n\t\t\t\t\t_this._pact = null;\n\t\t\t\t\t_this._resolve = null;\n\t\t\t\t}\n\t\t\t\tvar result = _entry(_this);\n\t\t\t\tif (result && result.then) {\n\t\t\t\t\tresult.then(returnValue, function(error) {\n\t\t\t\t\t\tif (error === _earlyReturn) {\n\t\t\t\t\t\t\treturnValue(_this._return);\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tconst pact = new _Pact();\n\t\t\t\t\t\t\t_this._resolve(pact);\n\t\t\t\t\t\t\t_this._pact = null;\n\t\t\t\t\t\t\t_this._resolve = null;\n\t\t\t\t\t\t\t_resolve(pact, 2, error);\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t} else {\n\t\t\t\t\treturnValue(result);\n\t\t\t\t}\n\t\t\t} else {\n\t\t\t\t// Generator is started and a yield expression is pending, settle it\n\t\t\t\t_this._pact = null;\n\t\t\t\t_this._resolve = resolve;\n\t\t\t\t_settle(_pact, 1, value);\n\t\t\t}\n\t\t});\n\t};\n\t_AsyncGenerator.prototype.return = function(value) {\n\t\t// Early return from the generator if started, otherwise abandons the generator\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tif (_this._entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the return call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Generator is not started, abandon it and return the specified value\n\t\t\t\t_this._entry = null;\n\t\t\t\treturn resolve(value && value.then ? value.then(_wrapReturnedValue) : _wrapReturnedValue(value));\n\t\t\t}\n\t\t\t// Settle the yield expression with a rejected \"early return\" value\n\t\t\t_this._return = value;\n\t\t\t_this._resolve = resolve;\n\t\t\t_this._pact = null;\n\t\t\t_settle(_pact, 2, _earlyReturn);\n\t\t});\n\t};\n\t_AsyncGenerator.prototype.throw = function(error) {\n\t\t// Inject an exception into the pending yield expression\n\t\tconst _this = this;\n\t\treturn _this._promise = new Promise(function (resolve, reject) {\n\t\t\tconst _pact = _this._pact;\n\t\t\tif (_pact === null) {\n\t\t\t\tif (_this._entry === null) {\n\t\t\t\t\t// Generator is started, but not awaiting a yield expression\n\t\t\t\t\t// Abandon the throw call!\n\t\t\t\t\treturn resolve(_this._promise);\n\t\t\t\t}\n\t\t\t\t// Generator is not started, abandon it and return a rejected Promise containing the error\n\t\t\t\t_this._entry = null;\n\t\t\t\treturn reject(error);\n\t\t\t}\n\t\t\t// Settle the yield expression with the value as a rejection\n\t\t\t_this._resolve = resolve;\n\t\t\t_this._pact = null;\n\t\t\t_settle(_pact, 2, error);\n\t\t});\n\t};\n\n\t_AsyncGenerator.prototype[_asyncIteratorSymbol] = function() {\n\t\treturn this;\n\t};\n\t\n\treturn _AsyncGenerator;\n})();\n","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport function __createBinding(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n}\r\n\r\nexport function __exportStar(m, exports) {\r\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) exports[p] = m[p];\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n};\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\r\n    result.default = mod;\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, privateMap) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to get private field on non-instance\");\r\n    }\r\n    return privateMap.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, privateMap, value) {\r\n    if (!privateMap.has(receiver)) {\r\n        throw new TypeError(\"attempted to set private field on non-instance\");\r\n    }\r\n    privateMap.set(receiver, value);\r\n    return value;\r\n}\r\n","'use strict'\nfunction tryStringify (o) {\n  try { return JSON.stringify(o) } catch(e) { return '\"[Circular]\"' }\n}\n\nmodule.exports = format\n\nfunction format(f, args, opts) {\n  var ss = (opts && opts.stringify) || tryStringify\n  var offset = 1\n  if (typeof f === 'object' && f !== null) {\n    var len = args.length + offset\n    if (len === 1) return f\n    var objects = new Array(len)\n    objects[0] = ss(f)\n    for (var index = 1; index < len; index++) {\n      objects[index] = ss(args[index])\n    }\n    return objects.join(' ')\n  }\n  if (typeof f !== 'string') {\n    return f\n  }\n  var argLen = args.length\n  if (argLen === 0) return f\n  var str = ''\n  var a = 1 - offset\n  var lastPos = -1\n  var flen = (f && f.length) || 0\n  for (var i = 0; i < flen;) {\n    if (f.charCodeAt(i) === 37 && i + 1 < flen) {\n      lastPos = lastPos > -1 ? lastPos : 0\n      switch (f.charCodeAt(i + 1)) {\n        case 100: // 'd'\n        case 102: // 'f'\n          if (a >= argLen)\n            break\n          if (lastPos < i)\n            str += f.slice(lastPos, i)\n          if (args[a] == null)  break\n          str += Number(args[a])\n          lastPos = i = i + 2\n          break\n        case 105: // 'i'\n          if (a >= argLen)\n            break\n          if (lastPos < i)\n            str += f.slice(lastPos, i)\n          if (args[a] == null)  break\n          str += Math.floor(Number(args[a]))\n          lastPos = i = i + 2\n          break\n        case 79: // 'O'\n        case 111: // 'o'\n        case 106: // 'j'\n          if (a >= argLen)\n            break\n          if (lastPos < i)\n            str += f.slice(lastPos, i)\n          if (args[a] === undefined) break\n          var type = typeof args[a]\n          if (type === 'string') {\n            str += '\\'' + args[a] + '\\''\n            lastPos = i + 2\n            i++\n            break\n          }\n          if (type === 'function') {\n            str += args[a].name || '<anonymous>'\n            lastPos = i + 2\n            i++\n            break\n          }\n          str += ss(args[a])\n          lastPos = i + 2\n          i++\n          break\n        case 115: // 's'\n          if (a >= argLen)\n            break\n          if (lastPos < i)\n            str += f.slice(lastPos, i)\n          str += String(args[a])\n          lastPos = i + 2\n          i++\n          break\n        case 37: // '%'\n          if (lastPos < i)\n            str += f.slice(lastPos, i)\n          str += '%'\n          lastPos = i + 2\n          i++\n          a--\n          break\n      }\n      ++a\n    }\n    ++i\n  }\n  if (lastPos === -1)\n    return f\n  else if (lastPos < flen) {\n    str += f.slice(lastPos)\n  }\n\n  return str\n}\n","'use strict'\n\nconst format = require('quick-format-unescaped')\n\nmodule.exports = pino\n\nconst _console = pfGlobalThisOrFallback().console || {}\nconst stdSerializers = {\n  mapHttpRequest: mock,\n  mapHttpResponse: mock,\n  wrapRequestSerializer: passthrough,\n  wrapResponseSerializer: passthrough,\n  wrapErrorSerializer: passthrough,\n  req: mock,\n  res: mock,\n  err: asErrValue\n}\n\nfunction shouldSerialize (serialize, serializers) {\n  if (Array.isArray(serialize)) {\n    const hasToFilter = serialize.filter(function (k) {\n      return k !== '!stdSerializers.err'\n    })\n    return hasToFilter\n  } else if (serialize === true) {\n    return Object.keys(serializers)\n  }\n\n  return false\n}\n\nfunction pino (opts) {\n  opts = opts || {}\n  opts.browser = opts.browser || {}\n\n  const transmit = opts.browser.transmit\n  if (transmit && typeof transmit.send !== 'function') { throw Error('pino: transmit option must have a send function') }\n\n  const proto = opts.browser.write || _console\n  if (opts.browser.write) opts.browser.asObject = true\n  const serializers = opts.serializers || {}\n  const serialize = shouldSerialize(opts.browser.serialize, serializers)\n  let stdErrSerialize = opts.browser.serialize\n\n  if (\n    Array.isArray(opts.browser.serialize) &&\n    opts.browser.serialize.indexOf('!stdSerializers.err') > -1\n  ) stdErrSerialize = false\n\n  const levels = ['error', 'fatal', 'warn', 'info', 'debug', 'trace']\n\n  if (typeof proto === 'function') {\n    proto.error = proto.fatal = proto.warn =\n    proto.info = proto.debug = proto.trace = proto\n  }\n  if (opts.enabled === false) opts.level = 'silent'\n  const level = opts.level || 'info'\n  const logger = Object.create(proto)\n  if (!logger.log) logger.log = noop\n\n  Object.defineProperty(logger, 'levelVal', {\n    get: getLevelVal\n  })\n  Object.defineProperty(logger, 'level', {\n    get: getLevel,\n    set: setLevel\n  })\n\n  const setOpts = {\n    transmit,\n    serialize,\n    asObject: opts.browser.asObject,\n    levels,\n    timestamp: getTimeFunction(opts)\n  }\n  logger.levels = pino.levels\n  logger.level = level\n\n  logger.setMaxListeners = logger.getMaxListeners =\n  logger.emit = logger.addListener = logger.on =\n  logger.prependListener = logger.once =\n  logger.prependOnceListener = logger.removeListener =\n  logger.removeAllListeners = logger.listeners =\n  logger.listenerCount = logger.eventNames =\n  logger.write = logger.flush = noop\n  logger.serializers = serializers\n  logger._serialize = serialize\n  logger._stdErrSerialize = stdErrSerialize\n  logger.child = child\n\n  if (transmit) logger._logEvent = createLogEventShape()\n\n  function getLevelVal () {\n    return this.level === 'silent'\n      ? Infinity\n      : this.levels.values[this.level]\n  }\n\n  function getLevel () {\n    return this._level\n  }\n  function setLevel (level) {\n    if (level !== 'silent' && !this.levels.values[level]) {\n      throw Error('unknown level ' + level)\n    }\n    this._level = level\n\n    set(setOpts, logger, 'error', 'log') // <-- must stay first\n    set(setOpts, logger, 'fatal', 'error')\n    set(setOpts, logger, 'warn', 'error')\n    set(setOpts, logger, 'info', 'log')\n    set(setOpts, logger, 'debug', 'log')\n    set(setOpts, logger, 'trace', 'log')\n  }\n\n  function child (bindings) {\n    if (!bindings) {\n      throw new Error('missing bindings for child Pino')\n    }\n    const bindingsSerializers = bindings.serializers\n    if (serialize && bindingsSerializers) {\n      var childSerializers = Object.assign({}, serializers, bindingsSerializers)\n      var childSerialize = opts.browser.serialize === true\n        ? Object.keys(childSerializers)\n        : serialize\n      delete bindings.serializers\n      applySerializers([bindings], childSerialize, childSerializers, this._stdErrSerialize)\n    }\n    function Child (parent) {\n      this._childLevel = (parent._childLevel | 0) + 1\n      this.error = bind(parent, bindings, 'error')\n      this.fatal = bind(parent, bindings, 'fatal')\n      this.warn = bind(parent, bindings, 'warn')\n      this.info = bind(parent, bindings, 'info')\n      this.debug = bind(parent, bindings, 'debug')\n      this.trace = bind(parent, bindings, 'trace')\n      if (childSerializers) {\n        this.serializers = childSerializers\n        this._serialize = childSerialize\n      }\n      if (transmit) {\n        this._logEvent = createLogEventShape(\n          [].concat(parent._logEvent.bindings, bindings)\n        )\n      }\n    }\n    Child.prototype = this\n    return new Child(this)\n  }\n  return logger\n}\n\npino.levels = {\n  values: {\n    fatal: 60,\n    error: 50,\n    warn: 40,\n    info: 30,\n    debug: 20,\n    trace: 10\n  },\n  labels: {\n    10: 'trace',\n    20: 'debug',\n    30: 'info',\n    40: 'warn',\n    50: 'error',\n    60: 'fatal'\n  }\n}\n\npino.stdSerializers = stdSerializers\npino.stdTimeFunctions = Object.assign({}, { nullTime, epochTime, unixTime, isoTime })\n\nfunction set (opts, logger, level, fallback) {\n  const proto = Object.getPrototypeOf(logger)\n  logger[level] = logger.levelVal > logger.levels.values[level]\n    ? noop\n    : (proto[level] ? proto[level] : (_console[level] || _console[fallback] || noop))\n\n  wrap(opts, logger, level)\n}\n\nfunction wrap (opts, logger, level) {\n  if (!opts.transmit && logger[level] === noop) return\n\n  logger[level] = (function (write) {\n    return function LOG () {\n      const ts = opts.timestamp()\n      const args = new Array(arguments.length)\n      const proto = (Object.getPrototypeOf && Object.getPrototypeOf(this) === _console) ? _console : this\n      for (var i = 0; i < args.length; i++) args[i] = arguments[i]\n\n      if (opts.serialize && !opts.asObject) {\n        applySerializers(args, this._serialize, this.serializers, this._stdErrSerialize)\n      }\n      if (opts.asObject) write.call(proto, asObject(this, level, args, ts))\n      else write.apply(proto, args)\n\n      if (opts.transmit) {\n        const transmitLevel = opts.transmit.level || logger.level\n        const transmitValue = pino.levels.values[transmitLevel]\n        const methodValue = pino.levels.values[level]\n        if (methodValue < transmitValue) return\n        transmit(this, {\n          ts,\n          methodLevel: level,\n          methodValue,\n          transmitLevel,\n          transmitValue: pino.levels.values[opts.transmit.level || logger.level],\n          send: opts.transmit.send,\n          val: logger.levelVal\n        }, args)\n      }\n    }\n  })(logger[level])\n}\n\nfunction asObject (logger, level, args, ts) {\n  if (logger._serialize) applySerializers(args, logger._serialize, logger.serializers, logger._stdErrSerialize)\n  const argsCloned = args.slice()\n  let msg = argsCloned[0]\n  const o = {}\n  if (ts) {\n    o.time = ts\n  }\n  o.level = pino.levels.values[level]\n  let lvl = (logger._childLevel | 0) + 1\n  if (lvl < 1) lvl = 1\n  // deliberate, catching objects, arrays\n  if (msg !== null && typeof msg === 'object') {\n    while (lvl-- && typeof argsCloned[0] === 'object') {\n      Object.assign(o, argsCloned.shift())\n    }\n    msg = argsCloned.length ? format(argsCloned.shift(), argsCloned) : undefined\n  } else if (typeof msg === 'string') msg = format(argsCloned.shift(), argsCloned)\n  if (msg !== undefined) o.msg = msg\n  return o\n}\n\nfunction applySerializers (args, serialize, serializers, stdErrSerialize) {\n  for (const i in args) {\n    if (stdErrSerialize && args[i] instanceof Error) {\n      args[i] = pino.stdSerializers.err(args[i])\n    } else if (typeof args[i] === 'object' && !Array.isArray(args[i])) {\n      for (const k in args[i]) {\n        if (serialize && serialize.indexOf(k) > -1 && k in serializers) {\n          args[i][k] = serializers[k](args[i][k])\n        }\n      }\n    }\n  }\n}\n\nfunction bind (parent, bindings, level) {\n  return function () {\n    const args = new Array(1 + arguments.length)\n    args[0] = bindings\n    for (var i = 1; i < args.length; i++) {\n      args[i] = arguments[i - 1]\n    }\n    return parent[level].apply(this, args)\n  }\n}\n\nfunction transmit (logger, opts, args) {\n  const send = opts.send\n  const ts = opts.ts\n  const methodLevel = opts.methodLevel\n  const methodValue = opts.methodValue\n  const val = opts.val\n  const bindings = logger._logEvent.bindings\n\n  applySerializers(\n    args,\n    logger._serialize || Object.keys(logger.serializers),\n    logger.serializers,\n    logger._stdErrSerialize === undefined ? true : logger._stdErrSerialize\n  )\n  logger._logEvent.ts = ts\n  logger._logEvent.messages = args.filter(function (arg) {\n    // bindings can only be objects, so reference equality check via indexOf is fine\n    return bindings.indexOf(arg) === -1\n  })\n\n  logger._logEvent.level.label = methodLevel\n  logger._logEvent.level.value = methodValue\n\n  send(methodLevel, logger._logEvent, val)\n\n  logger._logEvent = createLogEventShape(bindings)\n}\n\nfunction createLogEventShape (bindings) {\n  return {\n    ts: 0,\n    messages: [],\n    bindings: bindings || [],\n    level: { label: '', value: 0 }\n  }\n}\n\nfunction asErrValue (err) {\n  const obj = {\n    type: err.constructor.name,\n    msg: err.message,\n    stack: err.stack\n  }\n  for (const key in err) {\n    if (obj[key] === undefined) {\n      obj[key] = err[key]\n    }\n  }\n  return obj\n}\n\nfunction getTimeFunction (opts) {\n  if (typeof opts.timestamp === 'function') {\n    return opts.timestamp\n  }\n  if (opts.timestamp === false) {\n    return nullTime\n  }\n  return epochTime\n}\n\nfunction mock () { return {} }\nfunction passthrough (a) { return a }\nfunction noop () {}\n\nfunction nullTime () { return false }\nfunction epochTime () { return Date.now() }\nfunction unixTime () { return Math.round(Date.now() / 1000.0) }\nfunction isoTime () { return new Date(Date.now()).toISOString() } // using Date.now() for testability\n\n/* eslint-disable */\n/* istanbul ignore next */\nfunction pfGlobalThisOrFallback () {\n  function defd (o) { return typeof o !== 'undefined' && o }\n  try {\n    if (typeof globalThis !== 'undefined') return globalThis\n    Object.defineProperty(Object.prototype, 'globalThis', {\n      get: function () {\n        delete Object.prototype.globalThis\n        return (this.globalThis = this)\n      },\n      configurable: true\n    })\n    return globalThis\n  } catch (e) {\n    return defd(self) || defd(window) || defd(this) || {}\n  }\n}\n/* eslint-enable */\n","// http://www.rajdeepd.com/articles/chrome/localstrg/LocalStorageSample.htm\n\n// NOTE:\n// this varies from actual localStorage in some subtle ways\n\n// also, there is no persistence\n// TODO persist\n(function () {\n  \"use strict\";\n\n  var db;\n\n  function LocalStorage() {\n  }\n  db = LocalStorage;\n\n  db.prototype.getItem = function (key) {\n    if (this.hasOwnProperty(key)) {\n      return String(this[key]);\n    }\n    return null;\n  };\n\n  db.prototype.setItem = function (key, val) {\n    this[key] = String(val);\n  };\n\n  db.prototype.removeItem = function (key) {\n    delete this[key];\n  };\n\n  db.prototype.clear = function () {\n    var self = this;\n    Object.keys(self).forEach(function (key) {\n      self[key] = undefined;\n      delete self[key];\n    });\n  };\n\n  db.prototype.key = function (i) {\n    i = i || 0;\n    return Object.keys(this)[i];\n  };\n\n  db.prototype.__defineGetter__('length', function () {\n    return Object.keys(this).length;\n  });\n\n  if (global.localStorage) {\n    module.exports = localStorage;\n  } else {\n    module.exports = new LocalStorage();\n  }\n}());\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction safeJsonParse(value) {\n    if (typeof value !== 'string') {\n        throw new Error(`Cannot safe json parse value of type ${typeof value}`);\n    }\n    try {\n        return JSON.parse(value);\n    }\n    catch (_a) {\n        return value;\n    }\n}\nexports.safeJsonParse = safeJsonParse;\nfunction safeJsonStringify(value) {\n    return typeof value === 'string'\n        ? value\n        : JSON.stringify(value, (key, value) => typeof value === 'undefined' ? null : value);\n}\nexports.safeJsonStringify = safeJsonStringify;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nclass IKeyValueStorage {\n}\nexports.IKeyValueStorage = IKeyValueStorage;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst safe_json_utils_1 = require(\"safe-json-utils\");\nexports.REACT_NATIVE_REQUIRED_OPTION = 'asyncStorage';\nfunction isReactNativeOptions(opts) {\n    return exports.REACT_NATIVE_REQUIRED_OPTION in opts;\n}\nexports.isReactNativeOptions = isReactNativeOptions;\nfunction getReactNativeOptions(opts) {\n    if (typeof opts === 'undefined' || !isReactNativeOptions(opts)) {\n        throw new Error(`Missing ${exports.REACT_NATIVE_REQUIRED_OPTION} option required for React-Native`);\n    }\n    return opts;\n}\nexports.getReactNativeOptions = getReactNativeOptions;\nexports.NODE_JS_REQUIRED_OPTION = 'database';\nfunction isNodeJSOptions(opts) {\n    return exports.NODE_JS_REQUIRED_OPTION in opts;\n}\nexports.isNodeJSOptions = isNodeJSOptions;\nfunction getNodeJSOptions(opts) {\n    if (typeof opts === 'undefined' || !isNodeJSOptions(opts)) {\n        throw new Error(`Missing ${exports.NODE_JS_REQUIRED_OPTION} option required for NodeJS`);\n    }\n    return opts;\n}\nexports.getNodeJSOptions = getNodeJSOptions;\nfunction parseEntry(entry) {\n    return [entry[0], safe_json_utils_1.safeJsonParse(entry[1])];\n}\nexports.parseEntry = parseEntry;\n//# sourceMappingURL=utils.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst localStorage_1 = __importDefault(require(\"localStorage\"));\nconst safe_json_utils_1 = require(\"safe-json-utils\");\nconst shared_1 = require(\"../shared\");\nclass KeyValueStorage {\n    constructor() {\n        this.localStorage = localStorage_1.default;\n    }\n    getKeys() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return Object.keys(this.localStorage);\n        });\n    }\n    getEntries() {\n        return __awaiter(this, void 0, void 0, function* () {\n            return Object.entries(this.localStorage).map(shared_1.parseEntry);\n        });\n    }\n    getItem(key) {\n        return __awaiter(this, void 0, void 0, function* () {\n            const item = this.localStorage.getItem(key);\n            if (item === null) {\n                return undefined;\n            }\n            return safe_json_utils_1.safeJsonParse(item);\n        });\n    }\n    setItem(key, value) {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.localStorage.setItem(key, safe_json_utils_1.safeJsonStringify(value));\n        });\n    }\n    removeItem(key) {\n        return __awaiter(this, void 0, void 0, function* () {\n            this.localStorage.removeItem(key);\n        });\n    }\n}\nexports.KeyValueStorage = KeyValueStorage;\nexports.default = KeyValueStorage;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.IJsonRpcProvider = exports.IBaseJsonRpcProvider = exports.IJsonRpcConnection = void 0;\nconst misc_1 = require(\"./misc\");\nclass IJsonRpcConnection extends misc_1.IEvents {\n    constructor(opts) {\n        super();\n    }\n}\nexports.IJsonRpcConnection = IJsonRpcConnection;\nclass IBaseJsonRpcProvider extends misc_1.IEvents {\n    constructor() {\n        super();\n    }\n}\nexports.IBaseJsonRpcProvider = IBaseJsonRpcProvider;\nclass IJsonRpcProvider extends IBaseJsonRpcProvider {\n    constructor(connection) {\n        super();\n    }\n}\nexports.IJsonRpcProvider = IJsonRpcProvider;\n//# sourceMappingURL=provider.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.IBlockchainProvider = exports.IBlockchainAuthenticator = exports.IPendingRequests = void 0;\nconst misc_1 = require(\"./misc\");\nconst provider_1 = require(\"./provider\");\nclass IPendingRequests {\n    constructor(storage) {\n        this.storage = storage;\n    }\n}\nexports.IPendingRequests = IPendingRequests;\nclass IBlockchainAuthenticator extends misc_1.IEvents {\n    constructor(config) {\n        super();\n        this.config = config;\n    }\n}\nexports.IBlockchainAuthenticator = IBlockchainAuthenticator;\nclass IBlockchainProvider extends provider_1.IJsonRpcProvider {\n    constructor(connection, config) {\n        super(connection);\n    }\n}\nexports.IBlockchainProvider = IBlockchainProvider;\n//# sourceMappingURL=blockchain.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.IJsonRpcRouter = void 0;\nclass IJsonRpcRouter {\n    constructor(routes) {\n        this.routes = routes;\n    }\n}\nexports.IJsonRpcRouter = IJsonRpcRouter;\n//# sourceMappingURL=router.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ISequence = void 0;\nconst types_1 = require(\"@json-rpc-tools/types\");\nclass ISequence extends types_1.IEvents {\n    constructor(client, logger) {\n        super();\n        this.client = client;\n        this.logger = logger;\n    }\n}\nexports.ISequence = ISequence;\n//# sourceMappingURL=sequence.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ERROR_BAD_MAC = exports.EMPTY_UINT_ARRAY = exports.MAX_MSG_LENGTH = exports.MAX_KEY_LENGTH = exports.PREFIXED_KEY_LENGTH = exports.MAC_LENGTH = exports.IV_LENGTH = exports.KEY_LENGTH = exports.PREFIX_LENGTH = exports.RIPEMD160_NODE_ALGO = exports.SHA512_NODE_ALGO = exports.SHA256_NODE_ALGO = exports.HMAC_NODE_ALGO = exports.AES_NODE_ALGO = exports.SHA512_BROWSER_ALGO = exports.SHA256_BROWSER_ALGO = exports.HMAC_BROWSER = exports.HMAC_BROWSER_ALGO = exports.AES_BROWSER_ALGO = exports.HMAC_LENGTH = exports.AES_LENGTH = exports.LENGTH_1024 = exports.LENGTH_512 = exports.LENGTH_256 = exports.LENGTH_128 = exports.LENGTH_64 = exports.LENGTH_32 = exports.LENGTH_16 = exports.LENGTH_1 = exports.LENGTH_0 = exports.VERIFY_OP = exports.SIGN_OP = exports.DECRYPT_OP = exports.ENCRYPT_OP = exports.UTF8_ENC = exports.HEX_ENC = void 0;\nexports.HEX_ENC = 'hex';\nexports.UTF8_ENC = 'utf8';\nexports.ENCRYPT_OP = 'encrypt';\nexports.DECRYPT_OP = 'decrypt';\nexports.SIGN_OP = 'sign';\nexports.VERIFY_OP = 'verify';\nexports.LENGTH_0 = 0;\nexports.LENGTH_1 = 1;\nexports.LENGTH_16 = 16;\nexports.LENGTH_32 = 32;\nexports.LENGTH_64 = 64;\nexports.LENGTH_128 = 128;\nexports.LENGTH_256 = 256;\nexports.LENGTH_512 = 512;\nexports.LENGTH_1024 = 1024;\nexports.AES_LENGTH = exports.LENGTH_256;\nexports.HMAC_LENGTH = exports.LENGTH_256;\nexports.AES_BROWSER_ALGO = 'AES-CBC';\nexports.HMAC_BROWSER_ALGO = `SHA-${exports.AES_LENGTH}`;\nexports.HMAC_BROWSER = 'HMAC';\nexports.SHA256_BROWSER_ALGO = 'SHA-256';\nexports.SHA512_BROWSER_ALGO = 'SHA-512';\nexports.AES_NODE_ALGO = `aes-${exports.AES_LENGTH}-cbc`;\nexports.HMAC_NODE_ALGO = `sha${exports.HMAC_LENGTH}`;\nexports.SHA256_NODE_ALGO = 'sha256';\nexports.SHA512_NODE_ALGO = 'sha512';\nexports.RIPEMD160_NODE_ALGO = 'ripemd160';\nexports.PREFIX_LENGTH = exports.LENGTH_1;\nexports.KEY_LENGTH = exports.LENGTH_32;\nexports.IV_LENGTH = exports.LENGTH_16;\nexports.MAC_LENGTH = exports.LENGTH_32;\nexports.PREFIXED_KEY_LENGTH = exports.KEY_LENGTH + exports.PREFIX_LENGTH;\nexports.MAX_KEY_LENGTH = exports.LENGTH_1024;\nexports.MAX_MSG_LENGTH = exports.LENGTH_32;\nexports.EMPTY_UINT_ARRAY = new Uint8Array(exports.LENGTH_0);\nexports.ERROR_BAD_MAC = 'Bad MAC';\n//# sourceMappingURL=index.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.browserSha512 = exports.browserSha256 = exports.browserHmacSha512Sign = exports.browserHmacSha256Sign = exports.browserAesDecrypt = exports.browserAesEncrypt = exports.browserImportKey = exports.browserExportKey = exports.getOps = exports.getAlgo = exports.getSubtleCrypto = exports.getBrowerCrypto = void 0;\nconst constants_1 = require(\"../constants\");\nfunction getBrowerCrypto() {\n    return (global === null || global === void 0 ? void 0 : global.crypto) || (global === null || global === void 0 ? void 0 : global.msCrypto) || {};\n}\nexports.getBrowerCrypto = getBrowerCrypto;\nfunction getSubtleCrypto() {\n    const browserCrypto = getBrowerCrypto();\n    return browserCrypto.subtle || browserCrypto.webkitSubtle;\n}\nexports.getSubtleCrypto = getSubtleCrypto;\nfunction getAlgo(type) {\n    return type === constants_1.AES_BROWSER_ALGO\n        ? { length: constants_1.AES_LENGTH, name: constants_1.AES_BROWSER_ALGO }\n        : {\n            hash: { name: constants_1.HMAC_BROWSER_ALGO },\n            name: constants_1.HMAC_BROWSER,\n        };\n}\nexports.getAlgo = getAlgo;\nfunction getOps(type) {\n    return type === constants_1.AES_BROWSER_ALGO\n        ? [constants_1.ENCRYPT_OP, constants_1.DECRYPT_OP]\n        : [constants_1.SIGN_OP, constants_1.VERIFY_OP];\n}\nexports.getOps = getOps;\nfunction browserExportKey(cryptoKey, type = constants_1.AES_BROWSER_ALGO) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const subtle = getSubtleCrypto();\n        return new Uint8Array(yield subtle.exportKey('raw', cryptoKey));\n    });\n}\nexports.browserExportKey = browserExportKey;\nfunction browserImportKey(buffer, type = constants_1.AES_BROWSER_ALGO) {\n    return __awaiter(this, void 0, void 0, function* () {\n        return getSubtleCrypto().importKey('raw', buffer, getAlgo(type), true, getOps(type));\n    });\n}\nexports.browserImportKey = browserImportKey;\nfunction browserAesEncrypt(iv, key, data) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const subtle = getSubtleCrypto();\n        const cryptoKey = yield browserImportKey(key, constants_1.AES_BROWSER_ALGO);\n        const result = yield subtle.encrypt({\n            iv,\n            name: constants_1.AES_BROWSER_ALGO,\n        }, cryptoKey, data);\n        return new Uint8Array(result);\n    });\n}\nexports.browserAesEncrypt = browserAesEncrypt;\nfunction browserAesDecrypt(iv, key, data) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const subtle = getSubtleCrypto();\n        const cryptoKey = yield browserImportKey(key, constants_1.AES_BROWSER_ALGO);\n        const result = yield subtle.decrypt({\n            iv,\n            name: constants_1.AES_BROWSER_ALGO,\n        }, cryptoKey, data);\n        return new Uint8Array(result);\n    });\n}\nexports.browserAesDecrypt = browserAesDecrypt;\nfunction browserHmacSha256Sign(key, data) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const subtle = getSubtleCrypto();\n        const cryptoKey = yield browserImportKey(key, constants_1.HMAC_BROWSER);\n        const signature = yield subtle.sign({\n            length: constants_1.HMAC_LENGTH,\n            name: constants_1.HMAC_BROWSER,\n        }, cryptoKey, data);\n        return new Uint8Array(signature);\n    });\n}\nexports.browserHmacSha256Sign = browserHmacSha256Sign;\nfunction browserHmacSha512Sign(key, data) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const subtle = getSubtleCrypto();\n        const cryptoKey = yield browserImportKey(key, constants_1.HMAC_BROWSER);\n        const signature = yield subtle.sign({\n            length: constants_1.LENGTH_512,\n            name: constants_1.HMAC_BROWSER,\n        }, cryptoKey, data);\n        return new Uint8Array(signature);\n    });\n}\nexports.browserHmacSha512Sign = browserHmacSha512Sign;\nfunction browserSha256(data) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const subtle = getSubtleCrypto();\n        const result = yield subtle.digest({\n            name: constants_1.SHA256_BROWSER_ALGO,\n        }, data);\n        return new Uint8Array(result);\n    });\n}\nexports.browserSha256 = browserSha256;\nfunction browserSha512(data) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const subtle = getSubtleCrypto();\n        const result = yield subtle.digest({\n            name: constants_1.SHA512_BROWSER_ALGO,\n        }, data);\n        return new Uint8Array(result);\n    });\n}\nexports.browserSha512 = browserSha512;\n//# sourceMappingURL=browser.js.map","/*! MIT License. Copyright 2015-2018 Richard Moore <me@ricmoo.com>. See LICENSE.txt. */\n(function(root) {\n    \"use strict\";\n\n    function checkInt(value) {\n        return (parseInt(value) === value);\n    }\n\n    function checkInts(arrayish) {\n        if (!checkInt(arrayish.length)) { return false; }\n\n        for (var i = 0; i < arrayish.length; i++) {\n            if (!checkInt(arrayish[i]) || arrayish[i] < 0 || arrayish[i] > 255) {\n                return false;\n            }\n        }\n\n        return true;\n    }\n\n    function coerceArray(arg, copy) {\n\n        // ArrayBuffer view\n        if (arg.buffer && arg.name === 'Uint8Array') {\n\n            if (copy) {\n                if (arg.slice) {\n                    arg = arg.slice();\n                } else {\n                    arg = Array.prototype.slice.call(arg);\n                }\n            }\n\n            return arg;\n        }\n\n        // It's an array; check it is a valid representation of a byte\n        if (Array.isArray(arg)) {\n            if (!checkInts(arg)) {\n                throw new Error('Array contains invalid value: ' + arg);\n            }\n\n            return new Uint8Array(arg);\n        }\n\n        // Something else, but behaves like an array (maybe a Buffer? Arguments?)\n        if (checkInt(arg.length) && checkInts(arg)) {\n            return new Uint8Array(arg);\n        }\n\n        throw new Error('unsupported array-like object');\n    }\n\n    function createArray(length) {\n        return new Uint8Array(length);\n    }\n\n    function copyArray(sourceArray, targetArray, targetStart, sourceStart, sourceEnd) {\n        if (sourceStart != null || sourceEnd != null) {\n            if (sourceArray.slice) {\n                sourceArray = sourceArray.slice(sourceStart, sourceEnd);\n            } else {\n                sourceArray = Array.prototype.slice.call(sourceArray, sourceStart, sourceEnd);\n            }\n        }\n        targetArray.set(sourceArray, targetStart);\n    }\n\n\n\n    var convertUtf8 = (function() {\n        function toBytes(text) {\n            var result = [], i = 0;\n            text = encodeURI(text);\n            while (i < text.length) {\n                var c = text.charCodeAt(i++);\n\n                // if it is a % sign, encode the following 2 bytes as a hex value\n                if (c === 37) {\n                    result.push(parseInt(text.substr(i, 2), 16))\n                    i += 2;\n\n                // otherwise, just the actual byte\n                } else {\n                    result.push(c)\n                }\n            }\n\n            return coerceArray(result);\n        }\n\n        function fromBytes(bytes) {\n            var result = [], i = 0;\n\n            while (i < bytes.length) {\n                var c = bytes[i];\n\n                if (c < 128) {\n                    result.push(String.fromCharCode(c));\n                    i++;\n                } else if (c > 191 && c < 224) {\n                    result.push(String.fromCharCode(((c & 0x1f) << 6) | (bytes[i + 1] & 0x3f)));\n                    i += 2;\n                } else {\n                    result.push(String.fromCharCode(((c & 0x0f) << 12) | ((bytes[i + 1] & 0x3f) << 6) | (bytes[i + 2] & 0x3f)));\n                    i += 3;\n                }\n            }\n\n            return result.join('');\n        }\n\n        return {\n            toBytes: toBytes,\n            fromBytes: fromBytes,\n        }\n    })();\n\n    var convertHex = (function() {\n        function toBytes(text) {\n            var result = [];\n            for (var i = 0; i < text.length; i += 2) {\n                result.push(parseInt(text.substr(i, 2), 16));\n            }\n\n            return result;\n        }\n\n        // http://ixti.net/development/javascript/2011/11/11/base64-encodedecode-of-utf8-in-browser-with-js.html\n        var Hex = '0123456789abcdef';\n\n        function fromBytes(bytes) {\n                var result = [];\n                for (var i = 0; i < bytes.length; i++) {\n                    var v = bytes[i];\n                    result.push(Hex[(v & 0xf0) >> 4] + Hex[v & 0x0f]);\n                }\n                return result.join('');\n        }\n\n        return {\n            toBytes: toBytes,\n            fromBytes: fromBytes,\n        }\n    })();\n\n\n    // Number of rounds by keysize\n    var numberOfRounds = {16: 10, 24: 12, 32: 14}\n\n    // Round constant words\n    var rcon = [0x01, 0x02, 0x04, 0x08, 0x10, 0x20, 0x40, 0x80, 0x1b, 0x36, 0x6c, 0xd8, 0xab, 0x4d, 0x9a, 0x2f, 0x5e, 0xbc, 0x63, 0xc6, 0x97, 0x35, 0x6a, 0xd4, 0xb3, 0x7d, 0xfa, 0xef, 0xc5, 0x91];\n\n    // S-box and Inverse S-box (S is for Substitution)\n    var S = [0x63, 0x7c, 0x77, 0x7b, 0xf2, 0x6b, 0x6f, 0xc5, 0x30, 0x01, 0x67, 0x2b, 0xfe, 0xd7, 0xab, 0x76, 0xca, 0x82, 0xc9, 0x7d, 0xfa, 0x59, 0x47, 0xf0, 0xad, 0xd4, 0xa2, 0xaf, 0x9c, 0xa4, 0x72, 0xc0, 0xb7, 0xfd, 0x93, 0x26, 0x36, 0x3f, 0xf7, 0xcc, 0x34, 0xa5, 0xe5, 0xf1, 0x71, 0xd8, 0x31, 0x15, 0x04, 0xc7, 0x23, 0xc3, 0x18, 0x96, 0x05, 0x9a, 0x07, 0x12, 0x80, 0xe2, 0xeb, 0x27, 0xb2, 0x75, 0x09, 0x83, 0x2c, 0x1a, 0x1b, 0x6e, 0x5a, 0xa0, 0x52, 0x3b, 0xd6, 0xb3, 0x29, 0xe3, 0x2f, 0x84, 0x53, 0xd1, 0x00, 0xed, 0x20, 0xfc, 0xb1, 0x5b, 0x6a, 0xcb, 0xbe, 0x39, 0x4a, 0x4c, 0x58, 0xcf, 0xd0, 0xef, 0xaa, 0xfb, 0x43, 0x4d, 0x33, 0x85, 0x45, 0xf9, 0x02, 0x7f, 0x50, 0x3c, 0x9f, 0xa8, 0x51, 0xa3, 0x40, 0x8f, 0x92, 0x9d, 0x38, 0xf5, 0xbc, 0xb6, 0xda, 0x21, 0x10, 0xff, 0xf3, 0xd2, 0xcd, 0x0c, 0x13, 0xec, 0x5f, 0x97, 0x44, 0x17, 0xc4, 0xa7, 0x7e, 0x3d, 0x64, 0x5d, 0x19, 0x73, 0x60, 0x81, 0x4f, 0xdc, 0x22, 0x2a, 0x90, 0x88, 0x46, 0xee, 0xb8, 0x14, 0xde, 0x5e, 0x0b, 0xdb, 0xe0, 0x32, 0x3a, 0x0a, 0x49, 0x06, 0x24, 0x5c, 0xc2, 0xd3, 0xac, 0x62, 0x91, 0x95, 0xe4, 0x79, 0xe7, 0xc8, 0x37, 0x6d, 0x8d, 0xd5, 0x4e, 0xa9, 0x6c, 0x56, 0xf4, 0xea, 0x65, 0x7a, 0xae, 0x08, 0xba, 0x78, 0x25, 0x2e, 0x1c, 0xa6, 0xb4, 0xc6, 0xe8, 0xdd, 0x74, 0x1f, 0x4b, 0xbd, 0x8b, 0x8a, 0x70, 0x3e, 0xb5, 0x66, 0x48, 0x03, 0xf6, 0x0e, 0x61, 0x35, 0x57, 0xb9, 0x86, 0xc1, 0x1d, 0x9e, 0xe1, 0xf8, 0x98, 0x11, 0x69, 0xd9, 0x8e, 0x94, 0x9b, 0x1e, 0x87, 0xe9, 0xce, 0x55, 0x28, 0xdf, 0x8c, 0xa1, 0x89, 0x0d, 0xbf, 0xe6, 0x42, 0x68, 0x41, 0x99, 0x2d, 0x0f, 0xb0, 0x54, 0xbb, 0x16];\n    var Si =[0x52, 0x09, 0x6a, 0xd5, 0x30, 0x36, 0xa5, 0x38, 0xbf, 0x40, 0xa3, 0x9e, 0x81, 0xf3, 0xd7, 0xfb, 0x7c, 0xe3, 0x39, 0x82, 0x9b, 0x2f, 0xff, 0x87, 0x34, 0x8e, 0x43, 0x44, 0xc4, 0xde, 0xe9, 0xcb, 0x54, 0x7b, 0x94, 0x32, 0xa6, 0xc2, 0x23, 0x3d, 0xee, 0x4c, 0x95, 0x0b, 0x42, 0xfa, 0xc3, 0x4e, 0x08, 0x2e, 0xa1, 0x66, 0x28, 0xd9, 0x24, 0xb2, 0x76, 0x5b, 0xa2, 0x49, 0x6d, 0x8b, 0xd1, 0x25, 0x72, 0xf8, 0xf6, 0x64, 0x86, 0x68, 0x98, 0x16, 0xd4, 0xa4, 0x5c, 0xcc, 0x5d, 0x65, 0xb6, 0x92, 0x6c, 0x70, 0x48, 0x50, 0xfd, 0xed, 0xb9, 0xda, 0x5e, 0x15, 0x46, 0x57, 0xa7, 0x8d, 0x9d, 0x84, 0x90, 0xd8, 0xab, 0x00, 0x8c, 0xbc, 0xd3, 0x0a, 0xf7, 0xe4, 0x58, 0x05, 0xb8, 0xb3, 0x45, 0x06, 0xd0, 0x2c, 0x1e, 0x8f, 0xca, 0x3f, 0x0f, 0x02, 0xc1, 0xaf, 0xbd, 0x03, 0x01, 0x13, 0x8a, 0x6b, 0x3a, 0x91, 0x11, 0x41, 0x4f, 0x67, 0xdc, 0xea, 0x97, 0xf2, 0xcf, 0xce, 0xf0, 0xb4, 0xe6, 0x73, 0x96, 0xac, 0x74, 0x22, 0xe7, 0xad, 0x35, 0x85, 0xe2, 0xf9, 0x37, 0xe8, 0x1c, 0x75, 0xdf, 0x6e, 0x47, 0xf1, 0x1a, 0x71, 0x1d, 0x29, 0xc5, 0x89, 0x6f, 0xb7, 0x62, 0x0e, 0xaa, 0x18, 0xbe, 0x1b, 0xfc, 0x56, 0x3e, 0x4b, 0xc6, 0xd2, 0x79, 0x20, 0x9a, 0xdb, 0xc0, 0xfe, 0x78, 0xcd, 0x5a, 0xf4, 0x1f, 0xdd, 0xa8, 0x33, 0x88, 0x07, 0xc7, 0x31, 0xb1, 0x12, 0x10, 0x59, 0x27, 0x80, 0xec, 0x5f, 0x60, 0x51, 0x7f, 0xa9, 0x19, 0xb5, 0x4a, 0x0d, 0x2d, 0xe5, 0x7a, 0x9f, 0x93, 0xc9, 0x9c, 0xef, 0xa0, 0xe0, 0x3b, 0x4d, 0xae, 0x2a, 0xf5, 0xb0, 0xc8, 0xeb, 0xbb, 0x3c, 0x83, 0x53, 0x99, 0x61, 0x17, 0x2b, 0x04, 0x7e, 0xba, 0x77, 0xd6, 0x26, 0xe1, 0x69, 0x14, 0x63, 0x55, 0x21, 0x0c, 0x7d];\n\n    // Transformations for encryption\n    var T1 = [0xc66363a5, 0xf87c7c84, 0xee777799, 0xf67b7b8d, 0xfff2f20d, 0xd66b6bbd, 0xde6f6fb1, 0x91c5c554, 0x60303050, 0x02010103, 0xce6767a9, 0x562b2b7d, 0xe7fefe19, 0xb5d7d762, 0x4dababe6, 0xec76769a, 0x8fcaca45, 0x1f82829d, 0x89c9c940, 0xfa7d7d87, 0xeffafa15, 0xb25959eb, 0x8e4747c9, 0xfbf0f00b, 0x41adadec, 0xb3d4d467, 0x5fa2a2fd, 0x45afafea, 0x239c9cbf, 0x53a4a4f7, 0xe4727296, 0x9bc0c05b, 0x75b7b7c2, 0xe1fdfd1c, 0x3d9393ae, 0x4c26266a, 0x6c36365a, 0x7e3f3f41, 0xf5f7f702, 0x83cccc4f, 0x6834345c, 0x51a5a5f4, 0xd1e5e534, 0xf9f1f108, 0xe2717193, 0xabd8d873, 0x62313153, 0x2a15153f, 0x0804040c, 0x95c7c752, 0x46232365, 0x9dc3c35e, 0x30181828, 0x379696a1, 0x0a05050f, 0x2f9a9ab5, 0x0e070709, 0x24121236, 0x1b80809b, 0xdfe2e23d, 0xcdebeb26, 0x4e272769, 0x7fb2b2cd, 0xea75759f, 0x1209091b, 0x1d83839e, 0x582c2c74, 0x341a1a2e, 0x361b1b2d, 0xdc6e6eb2, 0xb45a5aee, 0x5ba0a0fb, 0xa45252f6, 0x763b3b4d, 0xb7d6d661, 0x7db3b3ce, 0x5229297b, 0xdde3e33e, 0x5e2f2f71, 0x13848497, 0xa65353f5, 0xb9d1d168, 0x00000000, 0xc1eded2c, 0x40202060, 0xe3fcfc1f, 0x79b1b1c8, 0xb65b5bed, 0xd46a6abe, 0x8dcbcb46, 0x67bebed9, 0x7239394b, 0x944a4ade, 0x984c4cd4, 0xb05858e8, 0x85cfcf4a, 0xbbd0d06b, 0xc5efef2a, 0x4faaaae5, 0xedfbfb16, 0x864343c5, 0x9a4d4dd7, 0x66333355, 0x11858594, 0x8a4545cf, 0xe9f9f910, 0x04020206, 0xfe7f7f81, 0xa05050f0, 0x783c3c44, 0x259f9fba, 0x4ba8a8e3, 0xa25151f3, 0x5da3a3fe, 0x804040c0, 0x058f8f8a, 0x3f9292ad, 0x219d9dbc, 0x70383848, 0xf1f5f504, 0x63bcbcdf, 0x77b6b6c1, 0xafdada75, 0x42212163, 0x20101030, 0xe5ffff1a, 0xfdf3f30e, 0xbfd2d26d, 0x81cdcd4c, 0x180c0c14, 0x26131335, 0xc3ecec2f, 0xbe5f5fe1, 0x359797a2, 0x884444cc, 0x2e171739, 0x93c4c457, 0x55a7a7f2, 0xfc7e7e82, 0x7a3d3d47, 0xc86464ac, 0xba5d5de7, 0x3219192b, 0xe6737395, 0xc06060a0, 0x19818198, 0x9e4f4fd1, 0xa3dcdc7f, 0x44222266, 0x542a2a7e, 0x3b9090ab, 0x0b888883, 0x8c4646ca, 0xc7eeee29, 0x6bb8b8d3, 0x2814143c, 0xa7dede79, 0xbc5e5ee2, 0x160b0b1d, 0xaddbdb76, 0xdbe0e03b, 0x64323256, 0x743a3a4e, 0x140a0a1e, 0x924949db, 0x0c06060a, 0x4824246c, 0xb85c5ce4, 0x9fc2c25d, 0xbdd3d36e, 0x43acacef, 0xc46262a6, 0x399191a8, 0x319595a4, 0xd3e4e437, 0xf279798b, 0xd5e7e732, 0x8bc8c843, 0x6e373759, 0xda6d6db7, 0x018d8d8c, 0xb1d5d564, 0x9c4e4ed2, 0x49a9a9e0, 0xd86c6cb4, 0xac5656fa, 0xf3f4f407, 0xcfeaea25, 0xca6565af, 0xf47a7a8e, 0x47aeaee9, 0x10080818, 0x6fbabad5, 0xf0787888, 0x4a25256f, 0x5c2e2e72, 0x381c1c24, 0x57a6a6f1, 0x73b4b4c7, 0x97c6c651, 0xcbe8e823, 0xa1dddd7c, 0xe874749c, 0x3e1f1f21, 0x964b4bdd, 0x61bdbddc, 0x0d8b8b86, 0x0f8a8a85, 0xe0707090, 0x7c3e3e42, 0x71b5b5c4, 0xcc6666aa, 0x904848d8, 0x06030305, 0xf7f6f601, 0x1c0e0e12, 0xc26161a3, 0x6a35355f, 0xae5757f9, 0x69b9b9d0, 0x17868691, 0x99c1c158, 0x3a1d1d27, 0x279e9eb9, 0xd9e1e138, 0xebf8f813, 0x2b9898b3, 0x22111133, 0xd26969bb, 0xa9d9d970, 0x078e8e89, 0x339494a7, 0x2d9b9bb6, 0x3c1e1e22, 0x15878792, 0xc9e9e920, 0x87cece49, 0xaa5555ff, 0x50282878, 0xa5dfdf7a, 0x038c8c8f, 0x59a1a1f8, 0x09898980, 0x1a0d0d17, 0x65bfbfda, 0xd7e6e631, 0x844242c6, 0xd06868b8, 0x824141c3, 0x299999b0, 0x5a2d2d77, 0x1e0f0f11, 0x7bb0b0cb, 0xa85454fc, 0x6dbbbbd6, 0x2c16163a];\n    var T2 = [0xa5c66363, 0x84f87c7c, 0x99ee7777, 0x8df67b7b, 0x0dfff2f2, 0xbdd66b6b, 0xb1de6f6f, 0x5491c5c5, 0x50603030, 0x03020101, 0xa9ce6767, 0x7d562b2b, 0x19e7fefe, 0x62b5d7d7, 0xe64dabab, 0x9aec7676, 0x458fcaca, 0x9d1f8282, 0x4089c9c9, 0x87fa7d7d, 0x15effafa, 0xebb25959, 0xc98e4747, 0x0bfbf0f0, 0xec41adad, 0x67b3d4d4, 0xfd5fa2a2, 0xea45afaf, 0xbf239c9c, 0xf753a4a4, 0x96e47272, 0x5b9bc0c0, 0xc275b7b7, 0x1ce1fdfd, 0xae3d9393, 0x6a4c2626, 0x5a6c3636, 0x417e3f3f, 0x02f5f7f7, 0x4f83cccc, 0x5c683434, 0xf451a5a5, 0x34d1e5e5, 0x08f9f1f1, 0x93e27171, 0x73abd8d8, 0x53623131, 0x3f2a1515, 0x0c080404, 0x5295c7c7, 0x65462323, 0x5e9dc3c3, 0x28301818, 0xa1379696, 0x0f0a0505, 0xb52f9a9a, 0x090e0707, 0x36241212, 0x9b1b8080, 0x3ddfe2e2, 0x26cdebeb, 0x694e2727, 0xcd7fb2b2, 0x9fea7575, 0x1b120909, 0x9e1d8383, 0x74582c2c, 0x2e341a1a, 0x2d361b1b, 0xb2dc6e6e, 0xeeb45a5a, 0xfb5ba0a0, 0xf6a45252, 0x4d763b3b, 0x61b7d6d6, 0xce7db3b3, 0x7b522929, 0x3edde3e3, 0x715e2f2f, 0x97138484, 0xf5a65353, 0x68b9d1d1, 0x00000000, 0x2cc1eded, 0x60402020, 0x1fe3fcfc, 0xc879b1b1, 0xedb65b5b, 0xbed46a6a, 0x468dcbcb, 0xd967bebe, 0x4b723939, 0xde944a4a, 0xd4984c4c, 0xe8b05858, 0x4a85cfcf, 0x6bbbd0d0, 0x2ac5efef, 0xe54faaaa, 0x16edfbfb, 0xc5864343, 0xd79a4d4d, 0x55663333, 0x94118585, 0xcf8a4545, 0x10e9f9f9, 0x06040202, 0x81fe7f7f, 0xf0a05050, 0x44783c3c, 0xba259f9f, 0xe34ba8a8, 0xf3a25151, 0xfe5da3a3, 0xc0804040, 0x8a058f8f, 0xad3f9292, 0xbc219d9d, 0x48703838, 0x04f1f5f5, 0xdf63bcbc, 0xc177b6b6, 0x75afdada, 0x63422121, 0x30201010, 0x1ae5ffff, 0x0efdf3f3, 0x6dbfd2d2, 0x4c81cdcd, 0x14180c0c, 0x35261313, 0x2fc3ecec, 0xe1be5f5f, 0xa2359797, 0xcc884444, 0x392e1717, 0x5793c4c4, 0xf255a7a7, 0x82fc7e7e, 0x477a3d3d, 0xacc86464, 0xe7ba5d5d, 0x2b321919, 0x95e67373, 0xa0c06060, 0x98198181, 0xd19e4f4f, 0x7fa3dcdc, 0x66442222, 0x7e542a2a, 0xab3b9090, 0x830b8888, 0xca8c4646, 0x29c7eeee, 0xd36bb8b8, 0x3c281414, 0x79a7dede, 0xe2bc5e5e, 0x1d160b0b, 0x76addbdb, 0x3bdbe0e0, 0x56643232, 0x4e743a3a, 0x1e140a0a, 0xdb924949, 0x0a0c0606, 0x6c482424, 0xe4b85c5c, 0x5d9fc2c2, 0x6ebdd3d3, 0xef43acac, 0xa6c46262, 0xa8399191, 0xa4319595, 0x37d3e4e4, 0x8bf27979, 0x32d5e7e7, 0x438bc8c8, 0x596e3737, 0xb7da6d6d, 0x8c018d8d, 0x64b1d5d5, 0xd29c4e4e, 0xe049a9a9, 0xb4d86c6c, 0xfaac5656, 0x07f3f4f4, 0x25cfeaea, 0xafca6565, 0x8ef47a7a, 0xe947aeae, 0x18100808, 0xd56fbaba, 0x88f07878, 0x6f4a2525, 0x725c2e2e, 0x24381c1c, 0xf157a6a6, 0xc773b4b4, 0x5197c6c6, 0x23cbe8e8, 0x7ca1dddd, 0x9ce87474, 0x213e1f1f, 0xdd964b4b, 0xdc61bdbd, 0x860d8b8b, 0x850f8a8a, 0x90e07070, 0x427c3e3e, 0xc471b5b5, 0xaacc6666, 0xd8904848, 0x05060303, 0x01f7f6f6, 0x121c0e0e, 0xa3c26161, 0x5f6a3535, 0xf9ae5757, 0xd069b9b9, 0x91178686, 0x5899c1c1, 0x273a1d1d, 0xb9279e9e, 0x38d9e1e1, 0x13ebf8f8, 0xb32b9898, 0x33221111, 0xbbd26969, 0x70a9d9d9, 0x89078e8e, 0xa7339494, 0xb62d9b9b, 0x223c1e1e, 0x92158787, 0x20c9e9e9, 0x4987cece, 0xffaa5555, 0x78502828, 0x7aa5dfdf, 0x8f038c8c, 0xf859a1a1, 0x80098989, 0x171a0d0d, 0xda65bfbf, 0x31d7e6e6, 0xc6844242, 0xb8d06868, 0xc3824141, 0xb0299999, 0x775a2d2d, 0x111e0f0f, 0xcb7bb0b0, 0xfca85454, 0xd66dbbbb, 0x3a2c1616];\n    var T3 = [0x63a5c663, 0x7c84f87c, 0x7799ee77, 0x7b8df67b, 0xf20dfff2, 0x6bbdd66b, 0x6fb1de6f, 0xc55491c5, 0x30506030, 0x01030201, 0x67a9ce67, 0x2b7d562b, 0xfe19e7fe, 0xd762b5d7, 0xabe64dab, 0x769aec76, 0xca458fca, 0x829d1f82, 0xc94089c9, 0x7d87fa7d, 0xfa15effa, 0x59ebb259, 0x47c98e47, 0xf00bfbf0, 0xadec41ad, 0xd467b3d4, 0xa2fd5fa2, 0xafea45af, 0x9cbf239c, 0xa4f753a4, 0x7296e472, 0xc05b9bc0, 0xb7c275b7, 0xfd1ce1fd, 0x93ae3d93, 0x266a4c26, 0x365a6c36, 0x3f417e3f, 0xf702f5f7, 0xcc4f83cc, 0x345c6834, 0xa5f451a5, 0xe534d1e5, 0xf108f9f1, 0x7193e271, 0xd873abd8, 0x31536231, 0x153f2a15, 0x040c0804, 0xc75295c7, 0x23654623, 0xc35e9dc3, 0x18283018, 0x96a13796, 0x050f0a05, 0x9ab52f9a, 0x07090e07, 0x12362412, 0x809b1b80, 0xe23ddfe2, 0xeb26cdeb, 0x27694e27, 0xb2cd7fb2, 0x759fea75, 0x091b1209, 0x839e1d83, 0x2c74582c, 0x1a2e341a, 0x1b2d361b, 0x6eb2dc6e, 0x5aeeb45a, 0xa0fb5ba0, 0x52f6a452, 0x3b4d763b, 0xd661b7d6, 0xb3ce7db3, 0x297b5229, 0xe33edde3, 0x2f715e2f, 0x84971384, 0x53f5a653, 0xd168b9d1, 0x00000000, 0xed2cc1ed, 0x20604020, 0xfc1fe3fc, 0xb1c879b1, 0x5bedb65b, 0x6abed46a, 0xcb468dcb, 0xbed967be, 0x394b7239, 0x4ade944a, 0x4cd4984c, 0x58e8b058, 0xcf4a85cf, 0xd06bbbd0, 0xef2ac5ef, 0xaae54faa, 0xfb16edfb, 0x43c58643, 0x4dd79a4d, 0x33556633, 0x85941185, 0x45cf8a45, 0xf910e9f9, 0x02060402, 0x7f81fe7f, 0x50f0a050, 0x3c44783c, 0x9fba259f, 0xa8e34ba8, 0x51f3a251, 0xa3fe5da3, 0x40c08040, 0x8f8a058f, 0x92ad3f92, 0x9dbc219d, 0x38487038, 0xf504f1f5, 0xbcdf63bc, 0xb6c177b6, 0xda75afda, 0x21634221, 0x10302010, 0xff1ae5ff, 0xf30efdf3, 0xd26dbfd2, 0xcd4c81cd, 0x0c14180c, 0x13352613, 0xec2fc3ec, 0x5fe1be5f, 0x97a23597, 0x44cc8844, 0x17392e17, 0xc45793c4, 0xa7f255a7, 0x7e82fc7e, 0x3d477a3d, 0x64acc864, 0x5de7ba5d, 0x192b3219, 0x7395e673, 0x60a0c060, 0x81981981, 0x4fd19e4f, 0xdc7fa3dc, 0x22664422, 0x2a7e542a, 0x90ab3b90, 0x88830b88, 0x46ca8c46, 0xee29c7ee, 0xb8d36bb8, 0x143c2814, 0xde79a7de, 0x5ee2bc5e, 0x0b1d160b, 0xdb76addb, 0xe03bdbe0, 0x32566432, 0x3a4e743a, 0x0a1e140a, 0x49db9249, 0x060a0c06, 0x246c4824, 0x5ce4b85c, 0xc25d9fc2, 0xd36ebdd3, 0xacef43ac, 0x62a6c462, 0x91a83991, 0x95a43195, 0xe437d3e4, 0x798bf279, 0xe732d5e7, 0xc8438bc8, 0x37596e37, 0x6db7da6d, 0x8d8c018d, 0xd564b1d5, 0x4ed29c4e, 0xa9e049a9, 0x6cb4d86c, 0x56faac56, 0xf407f3f4, 0xea25cfea, 0x65afca65, 0x7a8ef47a, 0xaee947ae, 0x08181008, 0xbad56fba, 0x7888f078, 0x256f4a25, 0x2e725c2e, 0x1c24381c, 0xa6f157a6, 0xb4c773b4, 0xc65197c6, 0xe823cbe8, 0xdd7ca1dd, 0x749ce874, 0x1f213e1f, 0x4bdd964b, 0xbddc61bd, 0x8b860d8b, 0x8a850f8a, 0x7090e070, 0x3e427c3e, 0xb5c471b5, 0x66aacc66, 0x48d89048, 0x03050603, 0xf601f7f6, 0x0e121c0e, 0x61a3c261, 0x355f6a35, 0x57f9ae57, 0xb9d069b9, 0x86911786, 0xc15899c1, 0x1d273a1d, 0x9eb9279e, 0xe138d9e1, 0xf813ebf8, 0x98b32b98, 0x11332211, 0x69bbd269, 0xd970a9d9, 0x8e89078e, 0x94a73394, 0x9bb62d9b, 0x1e223c1e, 0x87921587, 0xe920c9e9, 0xce4987ce, 0x55ffaa55, 0x28785028, 0xdf7aa5df, 0x8c8f038c, 0xa1f859a1, 0x89800989, 0x0d171a0d, 0xbfda65bf, 0xe631d7e6, 0x42c68442, 0x68b8d068, 0x41c38241, 0x99b02999, 0x2d775a2d, 0x0f111e0f, 0xb0cb7bb0, 0x54fca854, 0xbbd66dbb, 0x163a2c16];\n    var T4 = [0x6363a5c6, 0x7c7c84f8, 0x777799ee, 0x7b7b8df6, 0xf2f20dff, 0x6b6bbdd6, 0x6f6fb1de, 0xc5c55491, 0x30305060, 0x01010302, 0x6767a9ce, 0x2b2b7d56, 0xfefe19e7, 0xd7d762b5, 0xababe64d, 0x76769aec, 0xcaca458f, 0x82829d1f, 0xc9c94089, 0x7d7d87fa, 0xfafa15ef, 0x5959ebb2, 0x4747c98e, 0xf0f00bfb, 0xadadec41, 0xd4d467b3, 0xa2a2fd5f, 0xafafea45, 0x9c9cbf23, 0xa4a4f753, 0x727296e4, 0xc0c05b9b, 0xb7b7c275, 0xfdfd1ce1, 0x9393ae3d, 0x26266a4c, 0x36365a6c, 0x3f3f417e, 0xf7f702f5, 0xcccc4f83, 0x34345c68, 0xa5a5f451, 0xe5e534d1, 0xf1f108f9, 0x717193e2, 0xd8d873ab, 0x31315362, 0x15153f2a, 0x04040c08, 0xc7c75295, 0x23236546, 0xc3c35e9d, 0x18182830, 0x9696a137, 0x05050f0a, 0x9a9ab52f, 0x0707090e, 0x12123624, 0x80809b1b, 0xe2e23ddf, 0xebeb26cd, 0x2727694e, 0xb2b2cd7f, 0x75759fea, 0x09091b12, 0x83839e1d, 0x2c2c7458, 0x1a1a2e34, 0x1b1b2d36, 0x6e6eb2dc, 0x5a5aeeb4, 0xa0a0fb5b, 0x5252f6a4, 0x3b3b4d76, 0xd6d661b7, 0xb3b3ce7d, 0x29297b52, 0xe3e33edd, 0x2f2f715e, 0x84849713, 0x5353f5a6, 0xd1d168b9, 0x00000000, 0xeded2cc1, 0x20206040, 0xfcfc1fe3, 0xb1b1c879, 0x5b5bedb6, 0x6a6abed4, 0xcbcb468d, 0xbebed967, 0x39394b72, 0x4a4ade94, 0x4c4cd498, 0x5858e8b0, 0xcfcf4a85, 0xd0d06bbb, 0xefef2ac5, 0xaaaae54f, 0xfbfb16ed, 0x4343c586, 0x4d4dd79a, 0x33335566, 0x85859411, 0x4545cf8a, 0xf9f910e9, 0x02020604, 0x7f7f81fe, 0x5050f0a0, 0x3c3c4478, 0x9f9fba25, 0xa8a8e34b, 0x5151f3a2, 0xa3a3fe5d, 0x4040c080, 0x8f8f8a05, 0x9292ad3f, 0x9d9dbc21, 0x38384870, 0xf5f504f1, 0xbcbcdf63, 0xb6b6c177, 0xdada75af, 0x21216342, 0x10103020, 0xffff1ae5, 0xf3f30efd, 0xd2d26dbf, 0xcdcd4c81, 0x0c0c1418, 0x13133526, 0xecec2fc3, 0x5f5fe1be, 0x9797a235, 0x4444cc88, 0x1717392e, 0xc4c45793, 0xa7a7f255, 0x7e7e82fc, 0x3d3d477a, 0x6464acc8, 0x5d5de7ba, 0x19192b32, 0x737395e6, 0x6060a0c0, 0x81819819, 0x4f4fd19e, 0xdcdc7fa3, 0x22226644, 0x2a2a7e54, 0x9090ab3b, 0x8888830b, 0x4646ca8c, 0xeeee29c7, 0xb8b8d36b, 0x14143c28, 0xdede79a7, 0x5e5ee2bc, 0x0b0b1d16, 0xdbdb76ad, 0xe0e03bdb, 0x32325664, 0x3a3a4e74, 0x0a0a1e14, 0x4949db92, 0x06060a0c, 0x24246c48, 0x5c5ce4b8, 0xc2c25d9f, 0xd3d36ebd, 0xacacef43, 0x6262a6c4, 0x9191a839, 0x9595a431, 0xe4e437d3, 0x79798bf2, 0xe7e732d5, 0xc8c8438b, 0x3737596e, 0x6d6db7da, 0x8d8d8c01, 0xd5d564b1, 0x4e4ed29c, 0xa9a9e049, 0x6c6cb4d8, 0x5656faac, 0xf4f407f3, 0xeaea25cf, 0x6565afca, 0x7a7a8ef4, 0xaeaee947, 0x08081810, 0xbabad56f, 0x787888f0, 0x25256f4a, 0x2e2e725c, 0x1c1c2438, 0xa6a6f157, 0xb4b4c773, 0xc6c65197, 0xe8e823cb, 0xdddd7ca1, 0x74749ce8, 0x1f1f213e, 0x4b4bdd96, 0xbdbddc61, 0x8b8b860d, 0x8a8a850f, 0x707090e0, 0x3e3e427c, 0xb5b5c471, 0x6666aacc, 0x4848d890, 0x03030506, 0xf6f601f7, 0x0e0e121c, 0x6161a3c2, 0x35355f6a, 0x5757f9ae, 0xb9b9d069, 0x86869117, 0xc1c15899, 0x1d1d273a, 0x9e9eb927, 0xe1e138d9, 0xf8f813eb, 0x9898b32b, 0x11113322, 0x6969bbd2, 0xd9d970a9, 0x8e8e8907, 0x9494a733, 0x9b9bb62d, 0x1e1e223c, 0x87879215, 0xe9e920c9, 0xcece4987, 0x5555ffaa, 0x28287850, 0xdfdf7aa5, 0x8c8c8f03, 0xa1a1f859, 0x89898009, 0x0d0d171a, 0xbfbfda65, 0xe6e631d7, 0x4242c684, 0x6868b8d0, 0x4141c382, 0x9999b029, 0x2d2d775a, 0x0f0f111e, 0xb0b0cb7b, 0x5454fca8, 0xbbbbd66d, 0x16163a2c];\n\n    // Transformations for decryption\n    var T5 = [0x51f4a750, 0x7e416553, 0x1a17a4c3, 0x3a275e96, 0x3bab6bcb, 0x1f9d45f1, 0xacfa58ab, 0x4be30393, 0x2030fa55, 0xad766df6, 0x88cc7691, 0xf5024c25, 0x4fe5d7fc, 0xc52acbd7, 0x26354480, 0xb562a38f, 0xdeb15a49, 0x25ba1b67, 0x45ea0e98, 0x5dfec0e1, 0xc32f7502, 0x814cf012, 0x8d4697a3, 0x6bd3f9c6, 0x038f5fe7, 0x15929c95, 0xbf6d7aeb, 0x955259da, 0xd4be832d, 0x587421d3, 0x49e06929, 0x8ec9c844, 0x75c2896a, 0xf48e7978, 0x99583e6b, 0x27b971dd, 0xbee14fb6, 0xf088ad17, 0xc920ac66, 0x7dce3ab4, 0x63df4a18, 0xe51a3182, 0x97513360, 0x62537f45, 0xb16477e0, 0xbb6bae84, 0xfe81a01c, 0xf9082b94, 0x70486858, 0x8f45fd19, 0x94de6c87, 0x527bf8b7, 0xab73d323, 0x724b02e2, 0xe31f8f57, 0x6655ab2a, 0xb2eb2807, 0x2fb5c203, 0x86c57b9a, 0xd33708a5, 0x302887f2, 0x23bfa5b2, 0x02036aba, 0xed16825c, 0x8acf1c2b, 0xa779b492, 0xf307f2f0, 0x4e69e2a1, 0x65daf4cd, 0x0605bed5, 0xd134621f, 0xc4a6fe8a, 0x342e539d, 0xa2f355a0, 0x058ae132, 0xa4f6eb75, 0x0b83ec39, 0x4060efaa, 0x5e719f06, 0xbd6e1051, 0x3e218af9, 0x96dd063d, 0xdd3e05ae, 0x4de6bd46, 0x91548db5, 0x71c45d05, 0x0406d46f, 0x605015ff, 0x1998fb24, 0xd6bde997, 0x894043cc, 0x67d99e77, 0xb0e842bd, 0x07898b88, 0xe7195b38, 0x79c8eedb, 0xa17c0a47, 0x7c420fe9, 0xf8841ec9, 0x00000000, 0x09808683, 0x322bed48, 0x1e1170ac, 0x6c5a724e, 0xfd0efffb, 0x0f853856, 0x3daed51e, 0x362d3927, 0x0a0fd964, 0x685ca621, 0x9b5b54d1, 0x24362e3a, 0x0c0a67b1, 0x9357e70f, 0xb4ee96d2, 0x1b9b919e, 0x80c0c54f, 0x61dc20a2, 0x5a774b69, 0x1c121a16, 0xe293ba0a, 0xc0a02ae5, 0x3c22e043, 0x121b171d, 0x0e090d0b, 0xf28bc7ad, 0x2db6a8b9, 0x141ea9c8, 0x57f11985, 0xaf75074c, 0xee99ddbb, 0xa37f60fd, 0xf701269f, 0x5c72f5bc, 0x44663bc5, 0x5bfb7e34, 0x8b432976, 0xcb23c6dc, 0xb6edfc68, 0xb8e4f163, 0xd731dcca, 0x42638510, 0x13972240, 0x84c61120, 0x854a247d, 0xd2bb3df8, 0xaef93211, 0xc729a16d, 0x1d9e2f4b, 0xdcb230f3, 0x0d8652ec, 0x77c1e3d0, 0x2bb3166c, 0xa970b999, 0x119448fa, 0x47e96422, 0xa8fc8cc4, 0xa0f03f1a, 0x567d2cd8, 0x223390ef, 0x87494ec7, 0xd938d1c1, 0x8ccaa2fe, 0x98d40b36, 0xa6f581cf, 0xa57ade28, 0xdab78e26, 0x3fadbfa4, 0x2c3a9de4, 0x5078920d, 0x6a5fcc9b, 0x547e4662, 0xf68d13c2, 0x90d8b8e8, 0x2e39f75e, 0x82c3aff5, 0x9f5d80be, 0x69d0937c, 0x6fd52da9, 0xcf2512b3, 0xc8ac993b, 0x10187da7, 0xe89c636e, 0xdb3bbb7b, 0xcd267809, 0x6e5918f4, 0xec9ab701, 0x834f9aa8, 0xe6956e65, 0xaaffe67e, 0x21bccf08, 0xef15e8e6, 0xbae79bd9, 0x4a6f36ce, 0xea9f09d4, 0x29b07cd6, 0x31a4b2af, 0x2a3f2331, 0xc6a59430, 0x35a266c0, 0x744ebc37, 0xfc82caa6, 0xe090d0b0, 0x33a7d815, 0xf104984a, 0x41ecdaf7, 0x7fcd500e, 0x1791f62f, 0x764dd68d, 0x43efb04d, 0xccaa4d54, 0xe49604df, 0x9ed1b5e3, 0x4c6a881b, 0xc12c1fb8, 0x4665517f, 0x9d5eea04, 0x018c355d, 0xfa877473, 0xfb0b412e, 0xb3671d5a, 0x92dbd252, 0xe9105633, 0x6dd64713, 0x9ad7618c, 0x37a10c7a, 0x59f8148e, 0xeb133c89, 0xcea927ee, 0xb761c935, 0xe11ce5ed, 0x7a47b13c, 0x9cd2df59, 0x55f2733f, 0x1814ce79, 0x73c737bf, 0x53f7cdea, 0x5ffdaa5b, 0xdf3d6f14, 0x7844db86, 0xcaaff381, 0xb968c43e, 0x3824342c, 0xc2a3405f, 0x161dc372, 0xbce2250c, 0x283c498b, 0xff0d9541, 0x39a80171, 0x080cb3de, 0xd8b4e49c, 0x6456c190, 0x7bcb8461, 0xd532b670, 0x486c5c74, 0xd0b85742];\n    var T6 = [0x5051f4a7, 0x537e4165, 0xc31a17a4, 0x963a275e, 0xcb3bab6b, 0xf11f9d45, 0xabacfa58, 0x934be303, 0x552030fa, 0xf6ad766d, 0x9188cc76, 0x25f5024c, 0xfc4fe5d7, 0xd7c52acb, 0x80263544, 0x8fb562a3, 0x49deb15a, 0x6725ba1b, 0x9845ea0e, 0xe15dfec0, 0x02c32f75, 0x12814cf0, 0xa38d4697, 0xc66bd3f9, 0xe7038f5f, 0x9515929c, 0xebbf6d7a, 0xda955259, 0x2dd4be83, 0xd3587421, 0x2949e069, 0x448ec9c8, 0x6a75c289, 0x78f48e79, 0x6b99583e, 0xdd27b971, 0xb6bee14f, 0x17f088ad, 0x66c920ac, 0xb47dce3a, 0x1863df4a, 0x82e51a31, 0x60975133, 0x4562537f, 0xe0b16477, 0x84bb6bae, 0x1cfe81a0, 0x94f9082b, 0x58704868, 0x198f45fd, 0x8794de6c, 0xb7527bf8, 0x23ab73d3, 0xe2724b02, 0x57e31f8f, 0x2a6655ab, 0x07b2eb28, 0x032fb5c2, 0x9a86c57b, 0xa5d33708, 0xf2302887, 0xb223bfa5, 0xba02036a, 0x5ced1682, 0x2b8acf1c, 0x92a779b4, 0xf0f307f2, 0xa14e69e2, 0xcd65daf4, 0xd50605be, 0x1fd13462, 0x8ac4a6fe, 0x9d342e53, 0xa0a2f355, 0x32058ae1, 0x75a4f6eb, 0x390b83ec, 0xaa4060ef, 0x065e719f, 0x51bd6e10, 0xf93e218a, 0x3d96dd06, 0xaedd3e05, 0x464de6bd, 0xb591548d, 0x0571c45d, 0x6f0406d4, 0xff605015, 0x241998fb, 0x97d6bde9, 0xcc894043, 0x7767d99e, 0xbdb0e842, 0x8807898b, 0x38e7195b, 0xdb79c8ee, 0x47a17c0a, 0xe97c420f, 0xc9f8841e, 0x00000000, 0x83098086, 0x48322bed, 0xac1e1170, 0x4e6c5a72, 0xfbfd0eff, 0x560f8538, 0x1e3daed5, 0x27362d39, 0x640a0fd9, 0x21685ca6, 0xd19b5b54, 0x3a24362e, 0xb10c0a67, 0x0f9357e7, 0xd2b4ee96, 0x9e1b9b91, 0x4f80c0c5, 0xa261dc20, 0x695a774b, 0x161c121a, 0x0ae293ba, 0xe5c0a02a, 0x433c22e0, 0x1d121b17, 0x0b0e090d, 0xadf28bc7, 0xb92db6a8, 0xc8141ea9, 0x8557f119, 0x4caf7507, 0xbbee99dd, 0xfda37f60, 0x9ff70126, 0xbc5c72f5, 0xc544663b, 0x345bfb7e, 0x768b4329, 0xdccb23c6, 0x68b6edfc, 0x63b8e4f1, 0xcad731dc, 0x10426385, 0x40139722, 0x2084c611, 0x7d854a24, 0xf8d2bb3d, 0x11aef932, 0x6dc729a1, 0x4b1d9e2f, 0xf3dcb230, 0xec0d8652, 0xd077c1e3, 0x6c2bb316, 0x99a970b9, 0xfa119448, 0x2247e964, 0xc4a8fc8c, 0x1aa0f03f, 0xd8567d2c, 0xef223390, 0xc787494e, 0xc1d938d1, 0xfe8ccaa2, 0x3698d40b, 0xcfa6f581, 0x28a57ade, 0x26dab78e, 0xa43fadbf, 0xe42c3a9d, 0x0d507892, 0x9b6a5fcc, 0x62547e46, 0xc2f68d13, 0xe890d8b8, 0x5e2e39f7, 0xf582c3af, 0xbe9f5d80, 0x7c69d093, 0xa96fd52d, 0xb3cf2512, 0x3bc8ac99, 0xa710187d, 0x6ee89c63, 0x7bdb3bbb, 0x09cd2678, 0xf46e5918, 0x01ec9ab7, 0xa8834f9a, 0x65e6956e, 0x7eaaffe6, 0x0821bccf, 0xe6ef15e8, 0xd9bae79b, 0xce4a6f36, 0xd4ea9f09, 0xd629b07c, 0xaf31a4b2, 0x312a3f23, 0x30c6a594, 0xc035a266, 0x37744ebc, 0xa6fc82ca, 0xb0e090d0, 0x1533a7d8, 0x4af10498, 0xf741ecda, 0x0e7fcd50, 0x2f1791f6, 0x8d764dd6, 0x4d43efb0, 0x54ccaa4d, 0xdfe49604, 0xe39ed1b5, 0x1b4c6a88, 0xb8c12c1f, 0x7f466551, 0x049d5eea, 0x5d018c35, 0x73fa8774, 0x2efb0b41, 0x5ab3671d, 0x5292dbd2, 0x33e91056, 0x136dd647, 0x8c9ad761, 0x7a37a10c, 0x8e59f814, 0x89eb133c, 0xeecea927, 0x35b761c9, 0xede11ce5, 0x3c7a47b1, 0x599cd2df, 0x3f55f273, 0x791814ce, 0xbf73c737, 0xea53f7cd, 0x5b5ffdaa, 0x14df3d6f, 0x867844db, 0x81caaff3, 0x3eb968c4, 0x2c382434, 0x5fc2a340, 0x72161dc3, 0x0cbce225, 0x8b283c49, 0x41ff0d95, 0x7139a801, 0xde080cb3, 0x9cd8b4e4, 0x906456c1, 0x617bcb84, 0x70d532b6, 0x74486c5c, 0x42d0b857];\n    var T7 = [0xa75051f4, 0x65537e41, 0xa4c31a17, 0x5e963a27, 0x6bcb3bab, 0x45f11f9d, 0x58abacfa, 0x03934be3, 0xfa552030, 0x6df6ad76, 0x769188cc, 0x4c25f502, 0xd7fc4fe5, 0xcbd7c52a, 0x44802635, 0xa38fb562, 0x5a49deb1, 0x1b6725ba, 0x0e9845ea, 0xc0e15dfe, 0x7502c32f, 0xf012814c, 0x97a38d46, 0xf9c66bd3, 0x5fe7038f, 0x9c951592, 0x7aebbf6d, 0x59da9552, 0x832dd4be, 0x21d35874, 0x692949e0, 0xc8448ec9, 0x896a75c2, 0x7978f48e, 0x3e6b9958, 0x71dd27b9, 0x4fb6bee1, 0xad17f088, 0xac66c920, 0x3ab47dce, 0x4a1863df, 0x3182e51a, 0x33609751, 0x7f456253, 0x77e0b164, 0xae84bb6b, 0xa01cfe81, 0x2b94f908, 0x68587048, 0xfd198f45, 0x6c8794de, 0xf8b7527b, 0xd323ab73, 0x02e2724b, 0x8f57e31f, 0xab2a6655, 0x2807b2eb, 0xc2032fb5, 0x7b9a86c5, 0x08a5d337, 0x87f23028, 0xa5b223bf, 0x6aba0203, 0x825ced16, 0x1c2b8acf, 0xb492a779, 0xf2f0f307, 0xe2a14e69, 0xf4cd65da, 0xbed50605, 0x621fd134, 0xfe8ac4a6, 0x539d342e, 0x55a0a2f3, 0xe132058a, 0xeb75a4f6, 0xec390b83, 0xefaa4060, 0x9f065e71, 0x1051bd6e, 0x8af93e21, 0x063d96dd, 0x05aedd3e, 0xbd464de6, 0x8db59154, 0x5d0571c4, 0xd46f0406, 0x15ff6050, 0xfb241998, 0xe997d6bd, 0x43cc8940, 0x9e7767d9, 0x42bdb0e8, 0x8b880789, 0x5b38e719, 0xeedb79c8, 0x0a47a17c, 0x0fe97c42, 0x1ec9f884, 0x00000000, 0x86830980, 0xed48322b, 0x70ac1e11, 0x724e6c5a, 0xfffbfd0e, 0x38560f85, 0xd51e3dae, 0x3927362d, 0xd9640a0f, 0xa621685c, 0x54d19b5b, 0x2e3a2436, 0x67b10c0a, 0xe70f9357, 0x96d2b4ee, 0x919e1b9b, 0xc54f80c0, 0x20a261dc, 0x4b695a77, 0x1a161c12, 0xba0ae293, 0x2ae5c0a0, 0xe0433c22, 0x171d121b, 0x0d0b0e09, 0xc7adf28b, 0xa8b92db6, 0xa9c8141e, 0x198557f1, 0x074caf75, 0xddbbee99, 0x60fda37f, 0x269ff701, 0xf5bc5c72, 0x3bc54466, 0x7e345bfb, 0x29768b43, 0xc6dccb23, 0xfc68b6ed, 0xf163b8e4, 0xdccad731, 0x85104263, 0x22401397, 0x112084c6, 0x247d854a, 0x3df8d2bb, 0x3211aef9, 0xa16dc729, 0x2f4b1d9e, 0x30f3dcb2, 0x52ec0d86, 0xe3d077c1, 0x166c2bb3, 0xb999a970, 0x48fa1194, 0x642247e9, 0x8cc4a8fc, 0x3f1aa0f0, 0x2cd8567d, 0x90ef2233, 0x4ec78749, 0xd1c1d938, 0xa2fe8cca, 0x0b3698d4, 0x81cfa6f5, 0xde28a57a, 0x8e26dab7, 0xbfa43fad, 0x9de42c3a, 0x920d5078, 0xcc9b6a5f, 0x4662547e, 0x13c2f68d, 0xb8e890d8, 0xf75e2e39, 0xaff582c3, 0x80be9f5d, 0x937c69d0, 0x2da96fd5, 0x12b3cf25, 0x993bc8ac, 0x7da71018, 0x636ee89c, 0xbb7bdb3b, 0x7809cd26, 0x18f46e59, 0xb701ec9a, 0x9aa8834f, 0x6e65e695, 0xe67eaaff, 0xcf0821bc, 0xe8e6ef15, 0x9bd9bae7, 0x36ce4a6f, 0x09d4ea9f, 0x7cd629b0, 0xb2af31a4, 0x23312a3f, 0x9430c6a5, 0x66c035a2, 0xbc37744e, 0xcaa6fc82, 0xd0b0e090, 0xd81533a7, 0x984af104, 0xdaf741ec, 0x500e7fcd, 0xf62f1791, 0xd68d764d, 0xb04d43ef, 0x4d54ccaa, 0x04dfe496, 0xb5e39ed1, 0x881b4c6a, 0x1fb8c12c, 0x517f4665, 0xea049d5e, 0x355d018c, 0x7473fa87, 0x412efb0b, 0x1d5ab367, 0xd25292db, 0x5633e910, 0x47136dd6, 0x618c9ad7, 0x0c7a37a1, 0x148e59f8, 0x3c89eb13, 0x27eecea9, 0xc935b761, 0xe5ede11c, 0xb13c7a47, 0xdf599cd2, 0x733f55f2, 0xce791814, 0x37bf73c7, 0xcdea53f7, 0xaa5b5ffd, 0x6f14df3d, 0xdb867844, 0xf381caaf, 0xc43eb968, 0x342c3824, 0x405fc2a3, 0xc372161d, 0x250cbce2, 0x498b283c, 0x9541ff0d, 0x017139a8, 0xb3de080c, 0xe49cd8b4, 0xc1906456, 0x84617bcb, 0xb670d532, 0x5c74486c, 0x5742d0b8];\n    var T8 = [0xf4a75051, 0x4165537e, 0x17a4c31a, 0x275e963a, 0xab6bcb3b, 0x9d45f11f, 0xfa58abac, 0xe303934b, 0x30fa5520, 0x766df6ad, 0xcc769188, 0x024c25f5, 0xe5d7fc4f, 0x2acbd7c5, 0x35448026, 0x62a38fb5, 0xb15a49de, 0xba1b6725, 0xea0e9845, 0xfec0e15d, 0x2f7502c3, 0x4cf01281, 0x4697a38d, 0xd3f9c66b, 0x8f5fe703, 0x929c9515, 0x6d7aebbf, 0x5259da95, 0xbe832dd4, 0x7421d358, 0xe0692949, 0xc9c8448e, 0xc2896a75, 0x8e7978f4, 0x583e6b99, 0xb971dd27, 0xe14fb6be, 0x88ad17f0, 0x20ac66c9, 0xce3ab47d, 0xdf4a1863, 0x1a3182e5, 0x51336097, 0x537f4562, 0x6477e0b1, 0x6bae84bb, 0x81a01cfe, 0x082b94f9, 0x48685870, 0x45fd198f, 0xde6c8794, 0x7bf8b752, 0x73d323ab, 0x4b02e272, 0x1f8f57e3, 0x55ab2a66, 0xeb2807b2, 0xb5c2032f, 0xc57b9a86, 0x3708a5d3, 0x2887f230, 0xbfa5b223, 0x036aba02, 0x16825ced, 0xcf1c2b8a, 0x79b492a7, 0x07f2f0f3, 0x69e2a14e, 0xdaf4cd65, 0x05bed506, 0x34621fd1, 0xa6fe8ac4, 0x2e539d34, 0xf355a0a2, 0x8ae13205, 0xf6eb75a4, 0x83ec390b, 0x60efaa40, 0x719f065e, 0x6e1051bd, 0x218af93e, 0xdd063d96, 0x3e05aedd, 0xe6bd464d, 0x548db591, 0xc45d0571, 0x06d46f04, 0x5015ff60, 0x98fb2419, 0xbde997d6, 0x4043cc89, 0xd99e7767, 0xe842bdb0, 0x898b8807, 0x195b38e7, 0xc8eedb79, 0x7c0a47a1, 0x420fe97c, 0x841ec9f8, 0x00000000, 0x80868309, 0x2bed4832, 0x1170ac1e, 0x5a724e6c, 0x0efffbfd, 0x8538560f, 0xaed51e3d, 0x2d392736, 0x0fd9640a, 0x5ca62168, 0x5b54d19b, 0x362e3a24, 0x0a67b10c, 0x57e70f93, 0xee96d2b4, 0x9b919e1b, 0xc0c54f80, 0xdc20a261, 0x774b695a, 0x121a161c, 0x93ba0ae2, 0xa02ae5c0, 0x22e0433c, 0x1b171d12, 0x090d0b0e, 0x8bc7adf2, 0xb6a8b92d, 0x1ea9c814, 0xf1198557, 0x75074caf, 0x99ddbbee, 0x7f60fda3, 0x01269ff7, 0x72f5bc5c, 0x663bc544, 0xfb7e345b, 0x4329768b, 0x23c6dccb, 0xedfc68b6, 0xe4f163b8, 0x31dccad7, 0x63851042, 0x97224013, 0xc6112084, 0x4a247d85, 0xbb3df8d2, 0xf93211ae, 0x29a16dc7, 0x9e2f4b1d, 0xb230f3dc, 0x8652ec0d, 0xc1e3d077, 0xb3166c2b, 0x70b999a9, 0x9448fa11, 0xe9642247, 0xfc8cc4a8, 0xf03f1aa0, 0x7d2cd856, 0x3390ef22, 0x494ec787, 0x38d1c1d9, 0xcaa2fe8c, 0xd40b3698, 0xf581cfa6, 0x7ade28a5, 0xb78e26da, 0xadbfa43f, 0x3a9de42c, 0x78920d50, 0x5fcc9b6a, 0x7e466254, 0x8d13c2f6, 0xd8b8e890, 0x39f75e2e, 0xc3aff582, 0x5d80be9f, 0xd0937c69, 0xd52da96f, 0x2512b3cf, 0xac993bc8, 0x187da710, 0x9c636ee8, 0x3bbb7bdb, 0x267809cd, 0x5918f46e, 0x9ab701ec, 0x4f9aa883, 0x956e65e6, 0xffe67eaa, 0xbccf0821, 0x15e8e6ef, 0xe79bd9ba, 0x6f36ce4a, 0x9f09d4ea, 0xb07cd629, 0xa4b2af31, 0x3f23312a, 0xa59430c6, 0xa266c035, 0x4ebc3774, 0x82caa6fc, 0x90d0b0e0, 0xa7d81533, 0x04984af1, 0xecdaf741, 0xcd500e7f, 0x91f62f17, 0x4dd68d76, 0xefb04d43, 0xaa4d54cc, 0x9604dfe4, 0xd1b5e39e, 0x6a881b4c, 0x2c1fb8c1, 0x65517f46, 0x5eea049d, 0x8c355d01, 0x877473fa, 0x0b412efb, 0x671d5ab3, 0xdbd25292, 0x105633e9, 0xd647136d, 0xd7618c9a, 0xa10c7a37, 0xf8148e59, 0x133c89eb, 0xa927eece, 0x61c935b7, 0x1ce5ede1, 0x47b13c7a, 0xd2df599c, 0xf2733f55, 0x14ce7918, 0xc737bf73, 0xf7cdea53, 0xfdaa5b5f, 0x3d6f14df, 0x44db8678, 0xaff381ca, 0x68c43eb9, 0x24342c38, 0xa3405fc2, 0x1dc37216, 0xe2250cbc, 0x3c498b28, 0x0d9541ff, 0xa8017139, 0x0cb3de08, 0xb4e49cd8, 0x56c19064, 0xcb84617b, 0x32b670d5, 0x6c5c7448, 0xb85742d0];\n\n    // Transformations for decryption key expansion\n    var U1 = [0x00000000, 0x0e090d0b, 0x1c121a16, 0x121b171d, 0x3824342c, 0x362d3927, 0x24362e3a, 0x2a3f2331, 0x70486858, 0x7e416553, 0x6c5a724e, 0x62537f45, 0x486c5c74, 0x4665517f, 0x547e4662, 0x5a774b69, 0xe090d0b0, 0xee99ddbb, 0xfc82caa6, 0xf28bc7ad, 0xd8b4e49c, 0xd6bde997, 0xc4a6fe8a, 0xcaaff381, 0x90d8b8e8, 0x9ed1b5e3, 0x8ccaa2fe, 0x82c3aff5, 0xa8fc8cc4, 0xa6f581cf, 0xb4ee96d2, 0xbae79bd9, 0xdb3bbb7b, 0xd532b670, 0xc729a16d, 0xc920ac66, 0xe31f8f57, 0xed16825c, 0xff0d9541, 0xf104984a, 0xab73d323, 0xa57ade28, 0xb761c935, 0xb968c43e, 0x9357e70f, 0x9d5eea04, 0x8f45fd19, 0x814cf012, 0x3bab6bcb, 0x35a266c0, 0x27b971dd, 0x29b07cd6, 0x038f5fe7, 0x0d8652ec, 0x1f9d45f1, 0x119448fa, 0x4be30393, 0x45ea0e98, 0x57f11985, 0x59f8148e, 0x73c737bf, 0x7dce3ab4, 0x6fd52da9, 0x61dc20a2, 0xad766df6, 0xa37f60fd, 0xb16477e0, 0xbf6d7aeb, 0x955259da, 0x9b5b54d1, 0x894043cc, 0x87494ec7, 0xdd3e05ae, 0xd33708a5, 0xc12c1fb8, 0xcf2512b3, 0xe51a3182, 0xeb133c89, 0xf9082b94, 0xf701269f, 0x4de6bd46, 0x43efb04d, 0x51f4a750, 0x5ffdaa5b, 0x75c2896a, 0x7bcb8461, 0x69d0937c, 0x67d99e77, 0x3daed51e, 0x33a7d815, 0x21bccf08, 0x2fb5c203, 0x058ae132, 0x0b83ec39, 0x1998fb24, 0x1791f62f, 0x764dd68d, 0x7844db86, 0x6a5fcc9b, 0x6456c190, 0x4e69e2a1, 0x4060efaa, 0x527bf8b7, 0x5c72f5bc, 0x0605bed5, 0x080cb3de, 0x1a17a4c3, 0x141ea9c8, 0x3e218af9, 0x302887f2, 0x223390ef, 0x2c3a9de4, 0x96dd063d, 0x98d40b36, 0x8acf1c2b, 0x84c61120, 0xaef93211, 0xa0f03f1a, 0xb2eb2807, 0xbce2250c, 0xe6956e65, 0xe89c636e, 0xfa877473, 0xf48e7978, 0xdeb15a49, 0xd0b85742, 0xc2a3405f, 0xccaa4d54, 0x41ecdaf7, 0x4fe5d7fc, 0x5dfec0e1, 0x53f7cdea, 0x79c8eedb, 0x77c1e3d0, 0x65daf4cd, 0x6bd3f9c6, 0x31a4b2af, 0x3fadbfa4, 0x2db6a8b9, 0x23bfa5b2, 0x09808683, 0x07898b88, 0x15929c95, 0x1b9b919e, 0xa17c0a47, 0xaf75074c, 0xbd6e1051, 0xb3671d5a, 0x99583e6b, 0x97513360, 0x854a247d, 0x8b432976, 0xd134621f, 0xdf3d6f14, 0xcd267809, 0xc32f7502, 0xe9105633, 0xe7195b38, 0xf5024c25, 0xfb0b412e, 0x9ad7618c, 0x94de6c87, 0x86c57b9a, 0x88cc7691, 0xa2f355a0, 0xacfa58ab, 0xbee14fb6, 0xb0e842bd, 0xea9f09d4, 0xe49604df, 0xf68d13c2, 0xf8841ec9, 0xd2bb3df8, 0xdcb230f3, 0xcea927ee, 0xc0a02ae5, 0x7a47b13c, 0x744ebc37, 0x6655ab2a, 0x685ca621, 0x42638510, 0x4c6a881b, 0x5e719f06, 0x5078920d, 0x0a0fd964, 0x0406d46f, 0x161dc372, 0x1814ce79, 0x322bed48, 0x3c22e043, 0x2e39f75e, 0x2030fa55, 0xec9ab701, 0xe293ba0a, 0xf088ad17, 0xfe81a01c, 0xd4be832d, 0xdab78e26, 0xc8ac993b, 0xc6a59430, 0x9cd2df59, 0x92dbd252, 0x80c0c54f, 0x8ec9c844, 0xa4f6eb75, 0xaaffe67e, 0xb8e4f163, 0xb6edfc68, 0x0c0a67b1, 0x02036aba, 0x10187da7, 0x1e1170ac, 0x342e539d, 0x3a275e96, 0x283c498b, 0x26354480, 0x7c420fe9, 0x724b02e2, 0x605015ff, 0x6e5918f4, 0x44663bc5, 0x4a6f36ce, 0x587421d3, 0x567d2cd8, 0x37a10c7a, 0x39a80171, 0x2bb3166c, 0x25ba1b67, 0x0f853856, 0x018c355d, 0x13972240, 0x1d9e2f4b, 0x47e96422, 0x49e06929, 0x5bfb7e34, 0x55f2733f, 0x7fcd500e, 0x71c45d05, 0x63df4a18, 0x6dd64713, 0xd731dcca, 0xd938d1c1, 0xcb23c6dc, 0xc52acbd7, 0xef15e8e6, 0xe11ce5ed, 0xf307f2f0, 0xfd0efffb, 0xa779b492, 0xa970b999, 0xbb6bae84, 0xb562a38f, 0x9f5d80be, 0x91548db5, 0x834f9aa8, 0x8d4697a3];\n    var U2 = [0x00000000, 0x0b0e090d, 0x161c121a, 0x1d121b17, 0x2c382434, 0x27362d39, 0x3a24362e, 0x312a3f23, 0x58704868, 0x537e4165, 0x4e6c5a72, 0x4562537f, 0x74486c5c, 0x7f466551, 0x62547e46, 0x695a774b, 0xb0e090d0, 0xbbee99dd, 0xa6fc82ca, 0xadf28bc7, 0x9cd8b4e4, 0x97d6bde9, 0x8ac4a6fe, 0x81caaff3, 0xe890d8b8, 0xe39ed1b5, 0xfe8ccaa2, 0xf582c3af, 0xc4a8fc8c, 0xcfa6f581, 0xd2b4ee96, 0xd9bae79b, 0x7bdb3bbb, 0x70d532b6, 0x6dc729a1, 0x66c920ac, 0x57e31f8f, 0x5ced1682, 0x41ff0d95, 0x4af10498, 0x23ab73d3, 0x28a57ade, 0x35b761c9, 0x3eb968c4, 0x0f9357e7, 0x049d5eea, 0x198f45fd, 0x12814cf0, 0xcb3bab6b, 0xc035a266, 0xdd27b971, 0xd629b07c, 0xe7038f5f, 0xec0d8652, 0xf11f9d45, 0xfa119448, 0x934be303, 0x9845ea0e, 0x8557f119, 0x8e59f814, 0xbf73c737, 0xb47dce3a, 0xa96fd52d, 0xa261dc20, 0xf6ad766d, 0xfda37f60, 0xe0b16477, 0xebbf6d7a, 0xda955259, 0xd19b5b54, 0xcc894043, 0xc787494e, 0xaedd3e05, 0xa5d33708, 0xb8c12c1f, 0xb3cf2512, 0x82e51a31, 0x89eb133c, 0x94f9082b, 0x9ff70126, 0x464de6bd, 0x4d43efb0, 0x5051f4a7, 0x5b5ffdaa, 0x6a75c289, 0x617bcb84, 0x7c69d093, 0x7767d99e, 0x1e3daed5, 0x1533a7d8, 0x0821bccf, 0x032fb5c2, 0x32058ae1, 0x390b83ec, 0x241998fb, 0x2f1791f6, 0x8d764dd6, 0x867844db, 0x9b6a5fcc, 0x906456c1, 0xa14e69e2, 0xaa4060ef, 0xb7527bf8, 0xbc5c72f5, 0xd50605be, 0xde080cb3, 0xc31a17a4, 0xc8141ea9, 0xf93e218a, 0xf2302887, 0xef223390, 0xe42c3a9d, 0x3d96dd06, 0x3698d40b, 0x2b8acf1c, 0x2084c611, 0x11aef932, 0x1aa0f03f, 0x07b2eb28, 0x0cbce225, 0x65e6956e, 0x6ee89c63, 0x73fa8774, 0x78f48e79, 0x49deb15a, 0x42d0b857, 0x5fc2a340, 0x54ccaa4d, 0xf741ecda, 0xfc4fe5d7, 0xe15dfec0, 0xea53f7cd, 0xdb79c8ee, 0xd077c1e3, 0xcd65daf4, 0xc66bd3f9, 0xaf31a4b2, 0xa43fadbf, 0xb92db6a8, 0xb223bfa5, 0x83098086, 0x8807898b, 0x9515929c, 0x9e1b9b91, 0x47a17c0a, 0x4caf7507, 0x51bd6e10, 0x5ab3671d, 0x6b99583e, 0x60975133, 0x7d854a24, 0x768b4329, 0x1fd13462, 0x14df3d6f, 0x09cd2678, 0x02c32f75, 0x33e91056, 0x38e7195b, 0x25f5024c, 0x2efb0b41, 0x8c9ad761, 0x8794de6c, 0x9a86c57b, 0x9188cc76, 0xa0a2f355, 0xabacfa58, 0xb6bee14f, 0xbdb0e842, 0xd4ea9f09, 0xdfe49604, 0xc2f68d13, 0xc9f8841e, 0xf8d2bb3d, 0xf3dcb230, 0xeecea927, 0xe5c0a02a, 0x3c7a47b1, 0x37744ebc, 0x2a6655ab, 0x21685ca6, 0x10426385, 0x1b4c6a88, 0x065e719f, 0x0d507892, 0x640a0fd9, 0x6f0406d4, 0x72161dc3, 0x791814ce, 0x48322bed, 0x433c22e0, 0x5e2e39f7, 0x552030fa, 0x01ec9ab7, 0x0ae293ba, 0x17f088ad, 0x1cfe81a0, 0x2dd4be83, 0x26dab78e, 0x3bc8ac99, 0x30c6a594, 0x599cd2df, 0x5292dbd2, 0x4f80c0c5, 0x448ec9c8, 0x75a4f6eb, 0x7eaaffe6, 0x63b8e4f1, 0x68b6edfc, 0xb10c0a67, 0xba02036a, 0xa710187d, 0xac1e1170, 0x9d342e53, 0x963a275e, 0x8b283c49, 0x80263544, 0xe97c420f, 0xe2724b02, 0xff605015, 0xf46e5918, 0xc544663b, 0xce4a6f36, 0xd3587421, 0xd8567d2c, 0x7a37a10c, 0x7139a801, 0x6c2bb316, 0x6725ba1b, 0x560f8538, 0x5d018c35, 0x40139722, 0x4b1d9e2f, 0x2247e964, 0x2949e069, 0x345bfb7e, 0x3f55f273, 0x0e7fcd50, 0x0571c45d, 0x1863df4a, 0x136dd647, 0xcad731dc, 0xc1d938d1, 0xdccb23c6, 0xd7c52acb, 0xe6ef15e8, 0xede11ce5, 0xf0f307f2, 0xfbfd0eff, 0x92a779b4, 0x99a970b9, 0x84bb6bae, 0x8fb562a3, 0xbe9f5d80, 0xb591548d, 0xa8834f9a, 0xa38d4697];\n    var U3 = [0x00000000, 0x0d0b0e09, 0x1a161c12, 0x171d121b, 0x342c3824, 0x3927362d, 0x2e3a2436, 0x23312a3f, 0x68587048, 0x65537e41, 0x724e6c5a, 0x7f456253, 0x5c74486c, 0x517f4665, 0x4662547e, 0x4b695a77, 0xd0b0e090, 0xddbbee99, 0xcaa6fc82, 0xc7adf28b, 0xe49cd8b4, 0xe997d6bd, 0xfe8ac4a6, 0xf381caaf, 0xb8e890d8, 0xb5e39ed1, 0xa2fe8cca, 0xaff582c3, 0x8cc4a8fc, 0x81cfa6f5, 0x96d2b4ee, 0x9bd9bae7, 0xbb7bdb3b, 0xb670d532, 0xa16dc729, 0xac66c920, 0x8f57e31f, 0x825ced16, 0x9541ff0d, 0x984af104, 0xd323ab73, 0xde28a57a, 0xc935b761, 0xc43eb968, 0xe70f9357, 0xea049d5e, 0xfd198f45, 0xf012814c, 0x6bcb3bab, 0x66c035a2, 0x71dd27b9, 0x7cd629b0, 0x5fe7038f, 0x52ec0d86, 0x45f11f9d, 0x48fa1194, 0x03934be3, 0x0e9845ea, 0x198557f1, 0x148e59f8, 0x37bf73c7, 0x3ab47dce, 0x2da96fd5, 0x20a261dc, 0x6df6ad76, 0x60fda37f, 0x77e0b164, 0x7aebbf6d, 0x59da9552, 0x54d19b5b, 0x43cc8940, 0x4ec78749, 0x05aedd3e, 0x08a5d337, 0x1fb8c12c, 0x12b3cf25, 0x3182e51a, 0x3c89eb13, 0x2b94f908, 0x269ff701, 0xbd464de6, 0xb04d43ef, 0xa75051f4, 0xaa5b5ffd, 0x896a75c2, 0x84617bcb, 0x937c69d0, 0x9e7767d9, 0xd51e3dae, 0xd81533a7, 0xcf0821bc, 0xc2032fb5, 0xe132058a, 0xec390b83, 0xfb241998, 0xf62f1791, 0xd68d764d, 0xdb867844, 0xcc9b6a5f, 0xc1906456, 0xe2a14e69, 0xefaa4060, 0xf8b7527b, 0xf5bc5c72, 0xbed50605, 0xb3de080c, 0xa4c31a17, 0xa9c8141e, 0x8af93e21, 0x87f23028, 0x90ef2233, 0x9de42c3a, 0x063d96dd, 0x0b3698d4, 0x1c2b8acf, 0x112084c6, 0x3211aef9, 0x3f1aa0f0, 0x2807b2eb, 0x250cbce2, 0x6e65e695, 0x636ee89c, 0x7473fa87, 0x7978f48e, 0x5a49deb1, 0x5742d0b8, 0x405fc2a3, 0x4d54ccaa, 0xdaf741ec, 0xd7fc4fe5, 0xc0e15dfe, 0xcdea53f7, 0xeedb79c8, 0xe3d077c1, 0xf4cd65da, 0xf9c66bd3, 0xb2af31a4, 0xbfa43fad, 0xa8b92db6, 0xa5b223bf, 0x86830980, 0x8b880789, 0x9c951592, 0x919e1b9b, 0x0a47a17c, 0x074caf75, 0x1051bd6e, 0x1d5ab367, 0x3e6b9958, 0x33609751, 0x247d854a, 0x29768b43, 0x621fd134, 0x6f14df3d, 0x7809cd26, 0x7502c32f, 0x5633e910, 0x5b38e719, 0x4c25f502, 0x412efb0b, 0x618c9ad7, 0x6c8794de, 0x7b9a86c5, 0x769188cc, 0x55a0a2f3, 0x58abacfa, 0x4fb6bee1, 0x42bdb0e8, 0x09d4ea9f, 0x04dfe496, 0x13c2f68d, 0x1ec9f884, 0x3df8d2bb, 0x30f3dcb2, 0x27eecea9, 0x2ae5c0a0, 0xb13c7a47, 0xbc37744e, 0xab2a6655, 0xa621685c, 0x85104263, 0x881b4c6a, 0x9f065e71, 0x920d5078, 0xd9640a0f, 0xd46f0406, 0xc372161d, 0xce791814, 0xed48322b, 0xe0433c22, 0xf75e2e39, 0xfa552030, 0xb701ec9a, 0xba0ae293, 0xad17f088, 0xa01cfe81, 0x832dd4be, 0x8e26dab7, 0x993bc8ac, 0x9430c6a5, 0xdf599cd2, 0xd25292db, 0xc54f80c0, 0xc8448ec9, 0xeb75a4f6, 0xe67eaaff, 0xf163b8e4, 0xfc68b6ed, 0x67b10c0a, 0x6aba0203, 0x7da71018, 0x70ac1e11, 0x539d342e, 0x5e963a27, 0x498b283c, 0x44802635, 0x0fe97c42, 0x02e2724b, 0x15ff6050, 0x18f46e59, 0x3bc54466, 0x36ce4a6f, 0x21d35874, 0x2cd8567d, 0x0c7a37a1, 0x017139a8, 0x166c2bb3, 0x1b6725ba, 0x38560f85, 0x355d018c, 0x22401397, 0x2f4b1d9e, 0x642247e9, 0x692949e0, 0x7e345bfb, 0x733f55f2, 0x500e7fcd, 0x5d0571c4, 0x4a1863df, 0x47136dd6, 0xdccad731, 0xd1c1d938, 0xc6dccb23, 0xcbd7c52a, 0xe8e6ef15, 0xe5ede11c, 0xf2f0f307, 0xfffbfd0e, 0xb492a779, 0xb999a970, 0xae84bb6b, 0xa38fb562, 0x80be9f5d, 0x8db59154, 0x9aa8834f, 0x97a38d46];\n    var U4 = [0x00000000, 0x090d0b0e, 0x121a161c, 0x1b171d12, 0x24342c38, 0x2d392736, 0x362e3a24, 0x3f23312a, 0x48685870, 0x4165537e, 0x5a724e6c, 0x537f4562, 0x6c5c7448, 0x65517f46, 0x7e466254, 0x774b695a, 0x90d0b0e0, 0x99ddbbee, 0x82caa6fc, 0x8bc7adf2, 0xb4e49cd8, 0xbde997d6, 0xa6fe8ac4, 0xaff381ca, 0xd8b8e890, 0xd1b5e39e, 0xcaa2fe8c, 0xc3aff582, 0xfc8cc4a8, 0xf581cfa6, 0xee96d2b4, 0xe79bd9ba, 0x3bbb7bdb, 0x32b670d5, 0x29a16dc7, 0x20ac66c9, 0x1f8f57e3, 0x16825ced, 0x0d9541ff, 0x04984af1, 0x73d323ab, 0x7ade28a5, 0x61c935b7, 0x68c43eb9, 0x57e70f93, 0x5eea049d, 0x45fd198f, 0x4cf01281, 0xab6bcb3b, 0xa266c035, 0xb971dd27, 0xb07cd629, 0x8f5fe703, 0x8652ec0d, 0x9d45f11f, 0x9448fa11, 0xe303934b, 0xea0e9845, 0xf1198557, 0xf8148e59, 0xc737bf73, 0xce3ab47d, 0xd52da96f, 0xdc20a261, 0x766df6ad, 0x7f60fda3, 0x6477e0b1, 0x6d7aebbf, 0x5259da95, 0x5b54d19b, 0x4043cc89, 0x494ec787, 0x3e05aedd, 0x3708a5d3, 0x2c1fb8c1, 0x2512b3cf, 0x1a3182e5, 0x133c89eb, 0x082b94f9, 0x01269ff7, 0xe6bd464d, 0xefb04d43, 0xf4a75051, 0xfdaa5b5f, 0xc2896a75, 0xcb84617b, 0xd0937c69, 0xd99e7767, 0xaed51e3d, 0xa7d81533, 0xbccf0821, 0xb5c2032f, 0x8ae13205, 0x83ec390b, 0x98fb2419, 0x91f62f17, 0x4dd68d76, 0x44db8678, 0x5fcc9b6a, 0x56c19064, 0x69e2a14e, 0x60efaa40, 0x7bf8b752, 0x72f5bc5c, 0x05bed506, 0x0cb3de08, 0x17a4c31a, 0x1ea9c814, 0x218af93e, 0x2887f230, 0x3390ef22, 0x3a9de42c, 0xdd063d96, 0xd40b3698, 0xcf1c2b8a, 0xc6112084, 0xf93211ae, 0xf03f1aa0, 0xeb2807b2, 0xe2250cbc, 0x956e65e6, 0x9c636ee8, 0x877473fa, 0x8e7978f4, 0xb15a49de, 0xb85742d0, 0xa3405fc2, 0xaa4d54cc, 0xecdaf741, 0xe5d7fc4f, 0xfec0e15d, 0xf7cdea53, 0xc8eedb79, 0xc1e3d077, 0xdaf4cd65, 0xd3f9c66b, 0xa4b2af31, 0xadbfa43f, 0xb6a8b92d, 0xbfa5b223, 0x80868309, 0x898b8807, 0x929c9515, 0x9b919e1b, 0x7c0a47a1, 0x75074caf, 0x6e1051bd, 0x671d5ab3, 0x583e6b99, 0x51336097, 0x4a247d85, 0x4329768b, 0x34621fd1, 0x3d6f14df, 0x267809cd, 0x2f7502c3, 0x105633e9, 0x195b38e7, 0x024c25f5, 0x0b412efb, 0xd7618c9a, 0xde6c8794, 0xc57b9a86, 0xcc769188, 0xf355a0a2, 0xfa58abac, 0xe14fb6be, 0xe842bdb0, 0x9f09d4ea, 0x9604dfe4, 0x8d13c2f6, 0x841ec9f8, 0xbb3df8d2, 0xb230f3dc, 0xa927eece, 0xa02ae5c0, 0x47b13c7a, 0x4ebc3774, 0x55ab2a66, 0x5ca62168, 0x63851042, 0x6a881b4c, 0x719f065e, 0x78920d50, 0x0fd9640a, 0x06d46f04, 0x1dc37216, 0x14ce7918, 0x2bed4832, 0x22e0433c, 0x39f75e2e, 0x30fa5520, 0x9ab701ec, 0x93ba0ae2, 0x88ad17f0, 0x81a01cfe, 0xbe832dd4, 0xb78e26da, 0xac993bc8, 0xa59430c6, 0xd2df599c, 0xdbd25292, 0xc0c54f80, 0xc9c8448e, 0xf6eb75a4, 0xffe67eaa, 0xe4f163b8, 0xedfc68b6, 0x0a67b10c, 0x036aba02, 0x187da710, 0x1170ac1e, 0x2e539d34, 0x275e963a, 0x3c498b28, 0x35448026, 0x420fe97c, 0x4b02e272, 0x5015ff60, 0x5918f46e, 0x663bc544, 0x6f36ce4a, 0x7421d358, 0x7d2cd856, 0xa10c7a37, 0xa8017139, 0xb3166c2b, 0xba1b6725, 0x8538560f, 0x8c355d01, 0x97224013, 0x9e2f4b1d, 0xe9642247, 0xe0692949, 0xfb7e345b, 0xf2733f55, 0xcd500e7f, 0xc45d0571, 0xdf4a1863, 0xd647136d, 0x31dccad7, 0x38d1c1d9, 0x23c6dccb, 0x2acbd7c5, 0x15e8e6ef, 0x1ce5ede1, 0x07f2f0f3, 0x0efffbfd, 0x79b492a7, 0x70b999a9, 0x6bae84bb, 0x62a38fb5, 0x5d80be9f, 0x548db591, 0x4f9aa883, 0x4697a38d];\n\n    function convertToInt32(bytes) {\n        var result = [];\n        for (var i = 0; i < bytes.length; i += 4) {\n            result.push(\n                (bytes[i    ] << 24) |\n                (bytes[i + 1] << 16) |\n                (bytes[i + 2] <<  8) |\n                 bytes[i + 3]\n            );\n        }\n        return result;\n    }\n\n    var AES = function(key) {\n        if (!(this instanceof AES)) {\n            throw Error('AES must be instanitated with `new`');\n        }\n\n        Object.defineProperty(this, 'key', {\n            value: coerceArray(key, true)\n        });\n\n        this._prepare();\n    }\n\n\n    AES.prototype._prepare = function() {\n\n        var rounds = numberOfRounds[this.key.length];\n        if (rounds == null) {\n            throw new Error('invalid key size (must be 16, 24 or 32 bytes)');\n        }\n\n        // encryption round keys\n        this._Ke = [];\n\n        // decryption round keys\n        this._Kd = [];\n\n        for (var i = 0; i <= rounds; i++) {\n            this._Ke.push([0, 0, 0, 0]);\n            this._Kd.push([0, 0, 0, 0]);\n        }\n\n        var roundKeyCount = (rounds + 1) * 4;\n        var KC = this.key.length / 4;\n\n        // convert the key into ints\n        var tk = convertToInt32(this.key);\n\n        // copy values into round key arrays\n        var index;\n        for (var i = 0; i < KC; i++) {\n            index = i >> 2;\n            this._Ke[index][i % 4] = tk[i];\n            this._Kd[rounds - index][i % 4] = tk[i];\n        }\n\n        // key expansion (fips-197 section 5.2)\n        var rconpointer = 0;\n        var t = KC, tt;\n        while (t < roundKeyCount) {\n            tt = tk[KC - 1];\n            tk[0] ^= ((S[(tt >> 16) & 0xFF] << 24) ^\n                      (S[(tt >>  8) & 0xFF] << 16) ^\n                      (S[ tt        & 0xFF] <<  8) ^\n                       S[(tt >> 24) & 0xFF]        ^\n                      (rcon[rconpointer] << 24));\n            rconpointer += 1;\n\n            // key expansion (for non-256 bit)\n            if (KC != 8) {\n                for (var i = 1; i < KC; i++) {\n                    tk[i] ^= tk[i - 1];\n                }\n\n            // key expansion for 256-bit keys is \"slightly different\" (fips-197)\n            } else {\n                for (var i = 1; i < (KC / 2); i++) {\n                    tk[i] ^= tk[i - 1];\n                }\n                tt = tk[(KC / 2) - 1];\n\n                tk[KC / 2] ^= (S[ tt        & 0xFF]        ^\n                              (S[(tt >>  8) & 0xFF] <<  8) ^\n                              (S[(tt >> 16) & 0xFF] << 16) ^\n                              (S[(tt >> 24) & 0xFF] << 24));\n\n                for (var i = (KC / 2) + 1; i < KC; i++) {\n                    tk[i] ^= tk[i - 1];\n                }\n            }\n\n            // copy values into round key arrays\n            var i = 0, r, c;\n            while (i < KC && t < roundKeyCount) {\n                r = t >> 2;\n                c = t % 4;\n                this._Ke[r][c] = tk[i];\n                this._Kd[rounds - r][c] = tk[i++];\n                t++;\n            }\n        }\n\n        // inverse-cipher-ify the decryption round key (fips-197 section 5.3)\n        for (var r = 1; r < rounds; r++) {\n            for (var c = 0; c < 4; c++) {\n                tt = this._Kd[r][c];\n                this._Kd[r][c] = (U1[(tt >> 24) & 0xFF] ^\n                                  U2[(tt >> 16) & 0xFF] ^\n                                  U3[(tt >>  8) & 0xFF] ^\n                                  U4[ tt        & 0xFF]);\n            }\n        }\n    }\n\n    AES.prototype.encrypt = function(plaintext) {\n        if (plaintext.length != 16) {\n            throw new Error('invalid plaintext size (must be 16 bytes)');\n        }\n\n        var rounds = this._Ke.length - 1;\n        var a = [0, 0, 0, 0];\n\n        // convert plaintext to (ints ^ key)\n        var t = convertToInt32(plaintext);\n        for (var i = 0; i < 4; i++) {\n            t[i] ^= this._Ke[0][i];\n        }\n\n        // apply round transforms\n        for (var r = 1; r < rounds; r++) {\n            for (var i = 0; i < 4; i++) {\n                a[i] = (T1[(t[ i         ] >> 24) & 0xff] ^\n                        T2[(t[(i + 1) % 4] >> 16) & 0xff] ^\n                        T3[(t[(i + 2) % 4] >>  8) & 0xff] ^\n                        T4[ t[(i + 3) % 4]        & 0xff] ^\n                        this._Ke[r][i]);\n            }\n            t = a.slice();\n        }\n\n        // the last round is special\n        var result = createArray(16), tt;\n        for (var i = 0; i < 4; i++) {\n            tt = this._Ke[rounds][i];\n            result[4 * i    ] = (S[(t[ i         ] >> 24) & 0xff] ^ (tt >> 24)) & 0xff;\n            result[4 * i + 1] = (S[(t[(i + 1) % 4] >> 16) & 0xff] ^ (tt >> 16)) & 0xff;\n            result[4 * i + 2] = (S[(t[(i + 2) % 4] >>  8) & 0xff] ^ (tt >>  8)) & 0xff;\n            result[4 * i + 3] = (S[ t[(i + 3) % 4]        & 0xff] ^  tt       ) & 0xff;\n        }\n\n        return result;\n    }\n\n    AES.prototype.decrypt = function(ciphertext) {\n        if (ciphertext.length != 16) {\n            throw new Error('invalid ciphertext size (must be 16 bytes)');\n        }\n\n        var rounds = this._Kd.length - 1;\n        var a = [0, 0, 0, 0];\n\n        // convert plaintext to (ints ^ key)\n        var t = convertToInt32(ciphertext);\n        for (var i = 0; i < 4; i++) {\n            t[i] ^= this._Kd[0][i];\n        }\n\n        // apply round transforms\n        for (var r = 1; r < rounds; r++) {\n            for (var i = 0; i < 4; i++) {\n                a[i] = (T5[(t[ i          ] >> 24) & 0xff] ^\n                        T6[(t[(i + 3) % 4] >> 16) & 0xff] ^\n                        T7[(t[(i + 2) % 4] >>  8) & 0xff] ^\n                        T8[ t[(i + 1) % 4]        & 0xff] ^\n                        this._Kd[r][i]);\n            }\n            t = a.slice();\n        }\n\n        // the last round is special\n        var result = createArray(16), tt;\n        for (var i = 0; i < 4; i++) {\n            tt = this._Kd[rounds][i];\n            result[4 * i    ] = (Si[(t[ i         ] >> 24) & 0xff] ^ (tt >> 24)) & 0xff;\n            result[4 * i + 1] = (Si[(t[(i + 3) % 4] >> 16) & 0xff] ^ (tt >> 16)) & 0xff;\n            result[4 * i + 2] = (Si[(t[(i + 2) % 4] >>  8) & 0xff] ^ (tt >>  8)) & 0xff;\n            result[4 * i + 3] = (Si[ t[(i + 1) % 4]        & 0xff] ^  tt       ) & 0xff;\n        }\n\n        return result;\n    }\n\n\n    /**\n     *  Mode Of Operation - Electonic Codebook (ECB)\n     */\n    var ModeOfOperationECB = function(key) {\n        if (!(this instanceof ModeOfOperationECB)) {\n            throw Error('AES must be instanitated with `new`');\n        }\n\n        this.description = \"Electronic Code Block\";\n        this.name = \"ecb\";\n\n        this._aes = new AES(key);\n    }\n\n    ModeOfOperationECB.prototype.encrypt = function(plaintext) {\n        plaintext = coerceArray(plaintext);\n\n        if ((plaintext.length % 16) !== 0) {\n            throw new Error('invalid plaintext size (must be multiple of 16 bytes)');\n        }\n\n        var ciphertext = createArray(plaintext.length);\n        var block = createArray(16);\n\n        for (var i = 0; i < plaintext.length; i += 16) {\n            copyArray(plaintext, block, 0, i, i + 16);\n            block = this._aes.encrypt(block);\n            copyArray(block, ciphertext, i);\n        }\n\n        return ciphertext;\n    }\n\n    ModeOfOperationECB.prototype.decrypt = function(ciphertext) {\n        ciphertext = coerceArray(ciphertext);\n\n        if ((ciphertext.length % 16) !== 0) {\n            throw new Error('invalid ciphertext size (must be multiple of 16 bytes)');\n        }\n\n        var plaintext = createArray(ciphertext.length);\n        var block = createArray(16);\n\n        for (var i = 0; i < ciphertext.length; i += 16) {\n            copyArray(ciphertext, block, 0, i, i + 16);\n            block = this._aes.decrypt(block);\n            copyArray(block, plaintext, i);\n        }\n\n        return plaintext;\n    }\n\n\n    /**\n     *  Mode Of Operation - Cipher Block Chaining (CBC)\n     */\n    var ModeOfOperationCBC = function(key, iv) {\n        if (!(this instanceof ModeOfOperationCBC)) {\n            throw Error('AES must be instanitated with `new`');\n        }\n\n        this.description = \"Cipher Block Chaining\";\n        this.name = \"cbc\";\n\n        if (!iv) {\n            iv = createArray(16);\n\n        } else if (iv.length != 16) {\n            throw new Error('invalid initialation vector size (must be 16 bytes)');\n        }\n\n        this._lastCipherblock = coerceArray(iv, true);\n\n        this._aes = new AES(key);\n    }\n\n    ModeOfOperationCBC.prototype.encrypt = function(plaintext) {\n        plaintext = coerceArray(plaintext);\n\n        if ((plaintext.length % 16) !== 0) {\n            throw new Error('invalid plaintext size (must be multiple of 16 bytes)');\n        }\n\n        var ciphertext = createArray(plaintext.length);\n        var block = createArray(16);\n\n        for (var i = 0; i < plaintext.length; i += 16) {\n            copyArray(plaintext, block, 0, i, i + 16);\n\n            for (var j = 0; j < 16; j++) {\n                block[j] ^= this._lastCipherblock[j];\n            }\n\n            this._lastCipherblock = this._aes.encrypt(block);\n            copyArray(this._lastCipherblock, ciphertext, i);\n        }\n\n        return ciphertext;\n    }\n\n    ModeOfOperationCBC.prototype.decrypt = function(ciphertext) {\n        ciphertext = coerceArray(ciphertext);\n\n        if ((ciphertext.length % 16) !== 0) {\n            throw new Error('invalid ciphertext size (must be multiple of 16 bytes)');\n        }\n\n        var plaintext = createArray(ciphertext.length);\n        var block = createArray(16);\n\n        for (var i = 0; i < ciphertext.length; i += 16) {\n            copyArray(ciphertext, block, 0, i, i + 16);\n            block = this._aes.decrypt(block);\n\n            for (var j = 0; j < 16; j++) {\n                plaintext[i + j] = block[j] ^ this._lastCipherblock[j];\n            }\n\n            copyArray(ciphertext, this._lastCipherblock, 0, i, i + 16);\n        }\n\n        return plaintext;\n    }\n\n\n    /**\n     *  Mode Of Operation - Cipher Feedback (CFB)\n     */\n    var ModeOfOperationCFB = function(key, iv, segmentSize) {\n        if (!(this instanceof ModeOfOperationCFB)) {\n            throw Error('AES must be instanitated with `new`');\n        }\n\n        this.description = \"Cipher Feedback\";\n        this.name = \"cfb\";\n\n        if (!iv) {\n            iv = createArray(16);\n\n        } else if (iv.length != 16) {\n            throw new Error('invalid initialation vector size (must be 16 size)');\n        }\n\n        if (!segmentSize) { segmentSize = 1; }\n\n        this.segmentSize = segmentSize;\n\n        this._shiftRegister = coerceArray(iv, true);\n\n        this._aes = new AES(key);\n    }\n\n    ModeOfOperationCFB.prototype.encrypt = function(plaintext) {\n        if ((plaintext.length % this.segmentSize) != 0) {\n            throw new Error('invalid plaintext size (must be segmentSize bytes)');\n        }\n\n        var encrypted = coerceArray(plaintext, true);\n\n        var xorSegment;\n        for (var i = 0; i < encrypted.length; i += this.segmentSize) {\n            xorSegment = this._aes.encrypt(this._shiftRegister);\n            for (var j = 0; j < this.segmentSize; j++) {\n                encrypted[i + j] ^= xorSegment[j];\n            }\n\n            // Shift the register\n            copyArray(this._shiftRegister, this._shiftRegister, 0, this.segmentSize);\n            copyArray(encrypted, this._shiftRegister, 16 - this.segmentSize, i, i + this.segmentSize);\n        }\n\n        return encrypted;\n    }\n\n    ModeOfOperationCFB.prototype.decrypt = function(ciphertext) {\n        if ((ciphertext.length % this.segmentSize) != 0) {\n            throw new Error('invalid ciphertext size (must be segmentSize bytes)');\n        }\n\n        var plaintext = coerceArray(ciphertext, true);\n\n        var xorSegment;\n        for (var i = 0; i < plaintext.length; i += this.segmentSize) {\n            xorSegment = this._aes.encrypt(this._shiftRegister);\n\n            for (var j = 0; j < this.segmentSize; j++) {\n                plaintext[i + j] ^= xorSegment[j];\n            }\n\n            // Shift the register\n            copyArray(this._shiftRegister, this._shiftRegister, 0, this.segmentSize);\n            copyArray(ciphertext, this._shiftRegister, 16 - this.segmentSize, i, i + this.segmentSize);\n        }\n\n        return plaintext;\n    }\n\n    /**\n     *  Mode Of Operation - Output Feedback (OFB)\n     */\n    var ModeOfOperationOFB = function(key, iv) {\n        if (!(this instanceof ModeOfOperationOFB)) {\n            throw Error('AES must be instanitated with `new`');\n        }\n\n        this.description = \"Output Feedback\";\n        this.name = \"ofb\";\n\n        if (!iv) {\n            iv = createArray(16);\n\n        } else if (iv.length != 16) {\n            throw new Error('invalid initialation vector size (must be 16 bytes)');\n        }\n\n        this._lastPrecipher = coerceArray(iv, true);\n        this._lastPrecipherIndex = 16;\n\n        this._aes = new AES(key);\n    }\n\n    ModeOfOperationOFB.prototype.encrypt = function(plaintext) {\n        var encrypted = coerceArray(plaintext, true);\n\n        for (var i = 0; i < encrypted.length; i++) {\n            if (this._lastPrecipherIndex === 16) {\n                this._lastPrecipher = this._aes.encrypt(this._lastPrecipher);\n                this._lastPrecipherIndex = 0;\n            }\n            encrypted[i] ^= this._lastPrecipher[this._lastPrecipherIndex++];\n        }\n\n        return encrypted;\n    }\n\n    // Decryption is symetric\n    ModeOfOperationOFB.prototype.decrypt = ModeOfOperationOFB.prototype.encrypt;\n\n\n    /**\n     *  Counter object for CTR common mode of operation\n     */\n    var Counter = function(initialValue) {\n        if (!(this instanceof Counter)) {\n            throw Error('Counter must be instanitated with `new`');\n        }\n\n        // We allow 0, but anything false-ish uses the default 1\n        if (initialValue !== 0 && !initialValue) { initialValue = 1; }\n\n        if (typeof(initialValue) === 'number') {\n            this._counter = createArray(16);\n            this.setValue(initialValue);\n\n        } else {\n            this.setBytes(initialValue);\n        }\n    }\n\n    Counter.prototype.setValue = function(value) {\n        if (typeof(value) !== 'number' || parseInt(value) != value) {\n            throw new Error('invalid counter value (must be an integer)');\n        }\n\n        // We cannot safely handle numbers beyond the safe range for integers\n        if (value > Number.MAX_SAFE_INTEGER) {\n            throw new Error('integer value out of safe range');\n        }\n\n        for (var index = 15; index >= 0; --index) {\n            this._counter[index] = value % 256;\n            value = parseInt(value / 256);\n        }\n    }\n\n    Counter.prototype.setBytes = function(bytes) {\n        bytes = coerceArray(bytes, true);\n\n        if (bytes.length != 16) {\n            throw new Error('invalid counter bytes size (must be 16 bytes)');\n        }\n\n        this._counter = bytes;\n    };\n\n    Counter.prototype.increment = function() {\n        for (var i = 15; i >= 0; i--) {\n            if (this._counter[i] === 255) {\n                this._counter[i] = 0;\n            } else {\n                this._counter[i]++;\n                break;\n            }\n        }\n    }\n\n\n    /**\n     *  Mode Of Operation - Counter (CTR)\n     */\n    var ModeOfOperationCTR = function(key, counter) {\n        if (!(this instanceof ModeOfOperationCTR)) {\n            throw Error('AES must be instanitated with `new`');\n        }\n\n        this.description = \"Counter\";\n        this.name = \"ctr\";\n\n        if (!(counter instanceof Counter)) {\n            counter = new Counter(counter)\n        }\n\n        this._counter = counter;\n\n        this._remainingCounter = null;\n        this._remainingCounterIndex = 16;\n\n        this._aes = new AES(key);\n    }\n\n    ModeOfOperationCTR.prototype.encrypt = function(plaintext) {\n        var encrypted = coerceArray(plaintext, true);\n\n        for (var i = 0; i < encrypted.length; i++) {\n            if (this._remainingCounterIndex === 16) {\n                this._remainingCounter = this._aes.encrypt(this._counter._counter);\n                this._remainingCounterIndex = 0;\n                this._counter.increment();\n            }\n            encrypted[i] ^= this._remainingCounter[this._remainingCounterIndex++];\n        }\n\n        return encrypted;\n    }\n\n    // Decryption is symetric\n    ModeOfOperationCTR.prototype.decrypt = ModeOfOperationCTR.prototype.encrypt;\n\n\n    ///////////////////////\n    // Padding\n\n    // See:https://tools.ietf.org/html/rfc2315\n    function pkcs7pad(data) {\n        data = coerceArray(data, true);\n        var padder = 16 - (data.length % 16);\n        var result = createArray(data.length + padder);\n        copyArray(data, result);\n        for (var i = data.length; i < result.length; i++) {\n            result[i] = padder;\n        }\n        return result;\n    }\n\n    function pkcs7strip(data) {\n        data = coerceArray(data, true);\n        if (data.length < 16) { throw new Error('PKCS#7 invalid length'); }\n\n        var padder = data[data.length - 1];\n        if (padder > 16) { throw new Error('PKCS#7 padding byte out of range'); }\n\n        var length = data.length - padder;\n        for (var i = 0; i < padder; i++) {\n            if (data[length + i] !== padder) {\n                throw new Error('PKCS#7 invalid padding byte');\n            }\n        }\n\n        var result = createArray(length);\n        copyArray(data, result, 0, 0, length);\n        return result;\n    }\n\n    ///////////////////////\n    // Exporting\n\n\n    // The block cipher\n    var aesjs = {\n        AES: AES,\n        Counter: Counter,\n\n        ModeOfOperation: {\n            ecb: ModeOfOperationECB,\n            cbc: ModeOfOperationCBC,\n            cfb: ModeOfOperationCFB,\n            ofb: ModeOfOperationOFB,\n            ctr: ModeOfOperationCTR\n        },\n\n        utils: {\n            hex: convertHex,\n            utf8: convertUtf8\n        },\n\n        padding: {\n            pkcs7: {\n                pad: pkcs7pad,\n                strip: pkcs7strip\n            }\n        },\n\n        _arrayTest: {\n            coerceArray: coerceArray,\n            createArray: createArray,\n            copyArray: copyArray,\n        }\n    };\n\n\n    // node.js\n    if (typeof exports !== 'undefined') {\n        module.exports = aesjs\n\n    // RequireJS/AMD\n    // http://www.requirejs.org/docs/api.html\n    // https://github.com/amdjs/amdjs-api/wiki/AMD\n    } else if (typeof(define) === 'function' && define.amd) {\n        define([], function() { return aesjs; });\n\n    // Web Browsers\n    } else {\n\n        // If there was an existing library at \"aesjs\" make sure it's still available\n        if (root.aesjs) {\n            aesjs._aesjs = root.aesjs;\n        }\n\n        root.aesjs = aesjs;\n    }\n\n\n})(this);\n","module.exports = assert;\n\nfunction assert(val, msg) {\n  if (!val)\n    throw new Error(msg || 'Assertion failed');\n}\n\nassert.equal = function assertEqual(l, r, msg) {\n  if (l != r)\n    throw new Error(msg || ('Assertion failed: ' + l + ' != ' + r));\n};\n","if (typeof Object.create === 'function') {\n  // implementation from standard node.js 'util' module\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      ctor.prototype = Object.create(superCtor.prototype, {\n        constructor: {\n          value: ctor,\n          enumerable: false,\n          writable: true,\n          configurable: true\n        }\n      })\n    }\n  };\n} else {\n  // old school shim for old browsers\n  module.exports = function inherits(ctor, superCtor) {\n    if (superCtor) {\n      ctor.super_ = superCtor\n      var TempCtor = function () {}\n      TempCtor.prototype = superCtor.prototype\n      ctor.prototype = new TempCtor()\n      ctor.prototype.constructor = ctor\n    }\n  }\n}\n","'use strict';\n\nvar assert = require('minimalistic-assert');\nvar inherits = require('inherits');\n\nexports.inherits = inherits;\n\nfunction isSurrogatePair(msg, i) {\n  if ((msg.charCodeAt(i) & 0xFC00) !== 0xD800) {\n    return false;\n  }\n  if (i < 0 || i + 1 >= msg.length) {\n    return false;\n  }\n  return (msg.charCodeAt(i + 1) & 0xFC00) === 0xDC00;\n}\n\nfunction toArray(msg, enc) {\n  if (Array.isArray(msg))\n    return msg.slice();\n  if (!msg)\n    return [];\n  var res = [];\n  if (typeof msg === 'string') {\n    if (!enc) {\n      // Inspired by stringToUtf8ByteArray() in closure-library by Google\n      // https://github.com/google/closure-library/blob/8598d87242af59aac233270742c8984e2b2bdbe0/closure/goog/crypt/crypt.js#L117-L143\n      // Apache License 2.0\n      // https://github.com/google/closure-library/blob/master/LICENSE\n      var p = 0;\n      for (var i = 0; i < msg.length; i++) {\n        var c = msg.charCodeAt(i);\n        if (c < 128) {\n          res[p++] = c;\n        } else if (c < 2048) {\n          res[p++] = (c >> 6) | 192;\n          res[p++] = (c & 63) | 128;\n        } else if (isSurrogatePair(msg, i)) {\n          c = 0x10000 + ((c & 0x03FF) << 10) + (msg.charCodeAt(++i) & 0x03FF);\n          res[p++] = (c >> 18) | 240;\n          res[p++] = ((c >> 12) & 63) | 128;\n          res[p++] = ((c >> 6) & 63) | 128;\n          res[p++] = (c & 63) | 128;\n        } else {\n          res[p++] = (c >> 12) | 224;\n          res[p++] = ((c >> 6) & 63) | 128;\n          res[p++] = (c & 63) | 128;\n        }\n      }\n    } else if (enc === 'hex') {\n      msg = msg.replace(/[^a-z0-9]+/ig, '');\n      if (msg.length % 2 !== 0)\n        msg = '0' + msg;\n      for (i = 0; i < msg.length; i += 2)\n        res.push(parseInt(msg[i] + msg[i + 1], 16));\n    }\n  } else {\n    for (i = 0; i < msg.length; i++)\n      res[i] = msg[i] | 0;\n  }\n  return res;\n}\nexports.toArray = toArray;\n\nfunction toHex(msg) {\n  var res = '';\n  for (var i = 0; i < msg.length; i++)\n    res += zero2(msg[i].toString(16));\n  return res;\n}\nexports.toHex = toHex;\n\nfunction htonl(w) {\n  var res = (w >>> 24) |\n            ((w >>> 8) & 0xff00) |\n            ((w << 8) & 0xff0000) |\n            ((w & 0xff) << 24);\n  return res >>> 0;\n}\nexports.htonl = htonl;\n\nfunction toHex32(msg, endian) {\n  var res = '';\n  for (var i = 0; i < msg.length; i++) {\n    var w = msg[i];\n    if (endian === 'little')\n      w = htonl(w);\n    res += zero8(w.toString(16));\n  }\n  return res;\n}\nexports.toHex32 = toHex32;\n\nfunction zero2(word) {\n  if (word.length === 1)\n    return '0' + word;\n  else\n    return word;\n}\nexports.zero2 = zero2;\n\nfunction zero8(word) {\n  if (word.length === 7)\n    return '0' + word;\n  else if (word.length === 6)\n    return '00' + word;\n  else if (word.length === 5)\n    return '000' + word;\n  else if (word.length === 4)\n    return '0000' + word;\n  else if (word.length === 3)\n    return '00000' + word;\n  else if (word.length === 2)\n    return '000000' + word;\n  else if (word.length === 1)\n    return '0000000' + word;\n  else\n    return word;\n}\nexports.zero8 = zero8;\n\nfunction join32(msg, start, end, endian) {\n  var len = end - start;\n  assert(len % 4 === 0);\n  var res = new Array(len / 4);\n  for (var i = 0, k = start; i < res.length; i++, k += 4) {\n    var w;\n    if (endian === 'big')\n      w = (msg[k] << 24) | (msg[k + 1] << 16) | (msg[k + 2] << 8) | msg[k + 3];\n    else\n      w = (msg[k + 3] << 24) | (msg[k + 2] << 16) | (msg[k + 1] << 8) | msg[k];\n    res[i] = w >>> 0;\n  }\n  return res;\n}\nexports.join32 = join32;\n\nfunction split32(msg, endian) {\n  var res = new Array(msg.length * 4);\n  for (var i = 0, k = 0; i < msg.length; i++, k += 4) {\n    var m = msg[i];\n    if (endian === 'big') {\n      res[k] = m >>> 24;\n      res[k + 1] = (m >>> 16) & 0xff;\n      res[k + 2] = (m >>> 8) & 0xff;\n      res[k + 3] = m & 0xff;\n    } else {\n      res[k + 3] = m >>> 24;\n      res[k + 2] = (m >>> 16) & 0xff;\n      res[k + 1] = (m >>> 8) & 0xff;\n      res[k] = m & 0xff;\n    }\n  }\n  return res;\n}\nexports.split32 = split32;\n\nfunction rotr32(w, b) {\n  return (w >>> b) | (w << (32 - b));\n}\nexports.rotr32 = rotr32;\n\nfunction rotl32(w, b) {\n  return (w << b) | (w >>> (32 - b));\n}\nexports.rotl32 = rotl32;\n\nfunction sum32(a, b) {\n  return (a + b) >>> 0;\n}\nexports.sum32 = sum32;\n\nfunction sum32_3(a, b, c) {\n  return (a + b + c) >>> 0;\n}\nexports.sum32_3 = sum32_3;\n\nfunction sum32_4(a, b, c, d) {\n  return (a + b + c + d) >>> 0;\n}\nexports.sum32_4 = sum32_4;\n\nfunction sum32_5(a, b, c, d, e) {\n  return (a + b + c + d + e) >>> 0;\n}\nexports.sum32_5 = sum32_5;\n\nfunction sum64(buf, pos, ah, al) {\n  var bh = buf[pos];\n  var bl = buf[pos + 1];\n\n  var lo = (al + bl) >>> 0;\n  var hi = (lo < al ? 1 : 0) + ah + bh;\n  buf[pos] = hi >>> 0;\n  buf[pos + 1] = lo;\n}\nexports.sum64 = sum64;\n\nfunction sum64_hi(ah, al, bh, bl) {\n  var lo = (al + bl) >>> 0;\n  var hi = (lo < al ? 1 : 0) + ah + bh;\n  return hi >>> 0;\n}\nexports.sum64_hi = sum64_hi;\n\nfunction sum64_lo(ah, al, bh, bl) {\n  var lo = al + bl;\n  return lo >>> 0;\n}\nexports.sum64_lo = sum64_lo;\n\nfunction sum64_4_hi(ah, al, bh, bl, ch, cl, dh, dl) {\n  var carry = 0;\n  var lo = al;\n  lo = (lo + bl) >>> 0;\n  carry += lo < al ? 1 : 0;\n  lo = (lo + cl) >>> 0;\n  carry += lo < cl ? 1 : 0;\n  lo = (lo + dl) >>> 0;\n  carry += lo < dl ? 1 : 0;\n\n  var hi = ah + bh + ch + dh + carry;\n  return hi >>> 0;\n}\nexports.sum64_4_hi = sum64_4_hi;\n\nfunction sum64_4_lo(ah, al, bh, bl, ch, cl, dh, dl) {\n  var lo = al + bl + cl + dl;\n  return lo >>> 0;\n}\nexports.sum64_4_lo = sum64_4_lo;\n\nfunction sum64_5_hi(ah, al, bh, bl, ch, cl, dh, dl, eh, el) {\n  var carry = 0;\n  var lo = al;\n  lo = (lo + bl) >>> 0;\n  carry += lo < al ? 1 : 0;\n  lo = (lo + cl) >>> 0;\n  carry += lo < cl ? 1 : 0;\n  lo = (lo + dl) >>> 0;\n  carry += lo < dl ? 1 : 0;\n  lo = (lo + el) >>> 0;\n  carry += lo < el ? 1 : 0;\n\n  var hi = ah + bh + ch + dh + eh + carry;\n  return hi >>> 0;\n}\nexports.sum64_5_hi = sum64_5_hi;\n\nfunction sum64_5_lo(ah, al, bh, bl, ch, cl, dh, dl, eh, el) {\n  var lo = al + bl + cl + dl + el;\n\n  return lo >>> 0;\n}\nexports.sum64_5_lo = sum64_5_lo;\n\nfunction rotr64_hi(ah, al, num) {\n  var r = (al << (32 - num)) | (ah >>> num);\n  return r >>> 0;\n}\nexports.rotr64_hi = rotr64_hi;\n\nfunction rotr64_lo(ah, al, num) {\n  var r = (ah << (32 - num)) | (al >>> num);\n  return r >>> 0;\n}\nexports.rotr64_lo = rotr64_lo;\n\nfunction shr64_hi(ah, al, num) {\n  return ah >>> num;\n}\nexports.shr64_hi = shr64_hi;\n\nfunction shr64_lo(ah, al, num) {\n  var r = (ah << (32 - num)) | (al >>> num);\n  return r >>> 0;\n}\nexports.shr64_lo = shr64_lo;\n","'use strict';\n\nvar utils = require('./utils');\nvar assert = require('minimalistic-assert');\n\nfunction BlockHash() {\n  this.pending = null;\n  this.pendingTotal = 0;\n  this.blockSize = this.constructor.blockSize;\n  this.outSize = this.constructor.outSize;\n  this.hmacStrength = this.constructor.hmacStrength;\n  this.padLength = this.constructor.padLength / 8;\n  this.endian = 'big';\n\n  this._delta8 = this.blockSize / 8;\n  this._delta32 = this.blockSize / 32;\n}\nexports.BlockHash = BlockHash;\n\nBlockHash.prototype.update = function update(msg, enc) {\n  // Convert message to array, pad it, and join into 32bit blocks\n  msg = utils.toArray(msg, enc);\n  if (!this.pending)\n    this.pending = msg;\n  else\n    this.pending = this.pending.concat(msg);\n  this.pendingTotal += msg.length;\n\n  // Enough data, try updating\n  if (this.pending.length >= this._delta8) {\n    msg = this.pending;\n\n    // Process pending data in blocks\n    var r = msg.length % this._delta8;\n    this.pending = msg.slice(msg.length - r, msg.length);\n    if (this.pending.length === 0)\n      this.pending = null;\n\n    msg = utils.join32(msg, 0, msg.length - r, this.endian);\n    for (var i = 0; i < msg.length; i += this._delta32)\n      this._update(msg, i, i + this._delta32);\n  }\n\n  return this;\n};\n\nBlockHash.prototype.digest = function digest(enc) {\n  this.update(this._pad());\n  assert(this.pending === null);\n\n  return this._digest(enc);\n};\n\nBlockHash.prototype._pad = function pad() {\n  var len = this.pendingTotal;\n  var bytes = this._delta8;\n  var k = bytes - ((len + this.padLength) % bytes);\n  var res = new Array(k + this.padLength);\n  res[0] = 0x80;\n  for (var i = 1; i < k; i++)\n    res[i] = 0;\n\n  // Append length\n  len <<= 3;\n  if (this.endian === 'big') {\n    for (var t = 8; t < this.padLength; t++)\n      res[i++] = 0;\n\n    res[i++] = 0;\n    res[i++] = 0;\n    res[i++] = 0;\n    res[i++] = 0;\n    res[i++] = (len >>> 24) & 0xff;\n    res[i++] = (len >>> 16) & 0xff;\n    res[i++] = (len >>> 8) & 0xff;\n    res[i++] = len & 0xff;\n  } else {\n    res[i++] = len & 0xff;\n    res[i++] = (len >>> 8) & 0xff;\n    res[i++] = (len >>> 16) & 0xff;\n    res[i++] = (len >>> 24) & 0xff;\n    res[i++] = 0;\n    res[i++] = 0;\n    res[i++] = 0;\n    res[i++] = 0;\n\n    for (t = 8; t < this.padLength; t++)\n      res[i++] = 0;\n  }\n\n  return res;\n};\n","'use strict';\n\nvar utils = require('../utils');\nvar rotr32 = utils.rotr32;\n\nfunction ft_1(s, x, y, z) {\n  if (s === 0)\n    return ch32(x, y, z);\n  if (s === 1 || s === 3)\n    return p32(x, y, z);\n  if (s === 2)\n    return maj32(x, y, z);\n}\nexports.ft_1 = ft_1;\n\nfunction ch32(x, y, z) {\n  return (x & y) ^ ((~x) & z);\n}\nexports.ch32 = ch32;\n\nfunction maj32(x, y, z) {\n  return (x & y) ^ (x & z) ^ (y & z);\n}\nexports.maj32 = maj32;\n\nfunction p32(x, y, z) {\n  return x ^ y ^ z;\n}\nexports.p32 = p32;\n\nfunction s0_256(x) {\n  return rotr32(x, 2) ^ rotr32(x, 13) ^ rotr32(x, 22);\n}\nexports.s0_256 = s0_256;\n\nfunction s1_256(x) {\n  return rotr32(x, 6) ^ rotr32(x, 11) ^ rotr32(x, 25);\n}\nexports.s1_256 = s1_256;\n\nfunction g0_256(x) {\n  return rotr32(x, 7) ^ rotr32(x, 18) ^ (x >>> 3);\n}\nexports.g0_256 = g0_256;\n\nfunction g1_256(x) {\n  return rotr32(x, 17) ^ rotr32(x, 19) ^ (x >>> 10);\n}\nexports.g1_256 = g1_256;\n","'use strict';\n\nvar utils = require('../utils');\nvar common = require('../common');\nvar shaCommon = require('./common');\n\nvar rotl32 = utils.rotl32;\nvar sum32 = utils.sum32;\nvar sum32_5 = utils.sum32_5;\nvar ft_1 = shaCommon.ft_1;\nvar BlockHash = common.BlockHash;\n\nvar sha1_K = [\n  0x5A827999, 0x6ED9EBA1,\n  0x8F1BBCDC, 0xCA62C1D6\n];\n\nfunction SHA1() {\n  if (!(this instanceof SHA1))\n    return new SHA1();\n\n  BlockHash.call(this);\n  this.h = [\n    0x67452301, 0xefcdab89, 0x98badcfe,\n    0x10325476, 0xc3d2e1f0 ];\n  this.W = new Array(80);\n}\n\nutils.inherits(SHA1, BlockHash);\nmodule.exports = SHA1;\n\nSHA1.blockSize = 512;\nSHA1.outSize = 160;\nSHA1.hmacStrength = 80;\nSHA1.padLength = 64;\n\nSHA1.prototype._update = function _update(msg, start) {\n  var W = this.W;\n\n  for (var i = 0; i < 16; i++)\n    W[i] = msg[start + i];\n\n  for(; i < W.length; i++)\n    W[i] = rotl32(W[i - 3] ^ W[i - 8] ^ W[i - 14] ^ W[i - 16], 1);\n\n  var a = this.h[0];\n  var b = this.h[1];\n  var c = this.h[2];\n  var d = this.h[3];\n  var e = this.h[4];\n\n  for (i = 0; i < W.length; i++) {\n    var s = ~~(i / 20);\n    var t = sum32_5(rotl32(a, 5), ft_1(s, b, c, d), e, W[i], sha1_K[s]);\n    e = d;\n    d = c;\n    c = rotl32(b, 30);\n    b = a;\n    a = t;\n  }\n\n  this.h[0] = sum32(this.h[0], a);\n  this.h[1] = sum32(this.h[1], b);\n  this.h[2] = sum32(this.h[2], c);\n  this.h[3] = sum32(this.h[3], d);\n  this.h[4] = sum32(this.h[4], e);\n};\n\nSHA1.prototype._digest = function digest(enc) {\n  if (enc === 'hex')\n    return utils.toHex32(this.h, 'big');\n  else\n    return utils.split32(this.h, 'big');\n};\n","'use strict';\n\nvar utils = require('../utils');\nvar common = require('../common');\nvar shaCommon = require('./common');\nvar assert = require('minimalistic-assert');\n\nvar sum32 = utils.sum32;\nvar sum32_4 = utils.sum32_4;\nvar sum32_5 = utils.sum32_5;\nvar ch32 = shaCommon.ch32;\nvar maj32 = shaCommon.maj32;\nvar s0_256 = shaCommon.s0_256;\nvar s1_256 = shaCommon.s1_256;\nvar g0_256 = shaCommon.g0_256;\nvar g1_256 = shaCommon.g1_256;\n\nvar BlockHash = common.BlockHash;\n\nvar sha256_K = [\n  0x428a2f98, 0x71374491, 0xb5c0fbcf, 0xe9b5dba5,\n  0x3956c25b, 0x59f111f1, 0x923f82a4, 0xab1c5ed5,\n  0xd807aa98, 0x12835b01, 0x243185be, 0x550c7dc3,\n  0x72be5d74, 0x80deb1fe, 0x9bdc06a7, 0xc19bf174,\n  0xe49b69c1, 0xefbe4786, 0x0fc19dc6, 0x240ca1cc,\n  0x2de92c6f, 0x4a7484aa, 0x5cb0a9dc, 0x76f988da,\n  0x983e5152, 0xa831c66d, 0xb00327c8, 0xbf597fc7,\n  0xc6e00bf3, 0xd5a79147, 0x06ca6351, 0x14292967,\n  0x27b70a85, 0x2e1b2138, 0x4d2c6dfc, 0x53380d13,\n  0x650a7354, 0x766a0abb, 0x81c2c92e, 0x92722c85,\n  0xa2bfe8a1, 0xa81a664b, 0xc24b8b70, 0xc76c51a3,\n  0xd192e819, 0xd6990624, 0xf40e3585, 0x106aa070,\n  0x19a4c116, 0x1e376c08, 0x2748774c, 0x34b0bcb5,\n  0x391c0cb3, 0x4ed8aa4a, 0x5b9cca4f, 0x682e6ff3,\n  0x748f82ee, 0x78a5636f, 0x84c87814, 0x8cc70208,\n  0x90befffa, 0xa4506ceb, 0xbef9a3f7, 0xc67178f2\n];\n\nfunction SHA256() {\n  if (!(this instanceof SHA256))\n    return new SHA256();\n\n  BlockHash.call(this);\n  this.h = [\n    0x6a09e667, 0xbb67ae85, 0x3c6ef372, 0xa54ff53a,\n    0x510e527f, 0x9b05688c, 0x1f83d9ab, 0x5be0cd19\n  ];\n  this.k = sha256_K;\n  this.W = new Array(64);\n}\nutils.inherits(SHA256, BlockHash);\nmodule.exports = SHA256;\n\nSHA256.blockSize = 512;\nSHA256.outSize = 256;\nSHA256.hmacStrength = 192;\nSHA256.padLength = 64;\n\nSHA256.prototype._update = function _update(msg, start) {\n  var W = this.W;\n\n  for (var i = 0; i < 16; i++)\n    W[i] = msg[start + i];\n  for (; i < W.length; i++)\n    W[i] = sum32_4(g1_256(W[i - 2]), W[i - 7], g0_256(W[i - 15]), W[i - 16]);\n\n  var a = this.h[0];\n  var b = this.h[1];\n  var c = this.h[2];\n  var d = this.h[3];\n  var e = this.h[4];\n  var f = this.h[5];\n  var g = this.h[6];\n  var h = this.h[7];\n\n  assert(this.k.length === W.length);\n  for (i = 0; i < W.length; i++) {\n    var T1 = sum32_5(h, s1_256(e), ch32(e, f, g), this.k[i], W[i]);\n    var T2 = sum32(s0_256(a), maj32(a, b, c));\n    h = g;\n    g = f;\n    f = e;\n    e = sum32(d, T1);\n    d = c;\n    c = b;\n    b = a;\n    a = sum32(T1, T2);\n  }\n\n  this.h[0] = sum32(this.h[0], a);\n  this.h[1] = sum32(this.h[1], b);\n  this.h[2] = sum32(this.h[2], c);\n  this.h[3] = sum32(this.h[3], d);\n  this.h[4] = sum32(this.h[4], e);\n  this.h[5] = sum32(this.h[5], f);\n  this.h[6] = sum32(this.h[6], g);\n  this.h[7] = sum32(this.h[7], h);\n};\n\nSHA256.prototype._digest = function digest(enc) {\n  if (enc === 'hex')\n    return utils.toHex32(this.h, 'big');\n  else\n    return utils.split32(this.h, 'big');\n};\n","'use strict';\n\nvar utils = require('../utils');\nvar SHA256 = require('./256');\n\nfunction SHA224() {\n  if (!(this instanceof SHA224))\n    return new SHA224();\n\n  SHA256.call(this);\n  this.h = [\n    0xc1059ed8, 0x367cd507, 0x3070dd17, 0xf70e5939,\n    0xffc00b31, 0x68581511, 0x64f98fa7, 0xbefa4fa4 ];\n}\nutils.inherits(SHA224, SHA256);\nmodule.exports = SHA224;\n\nSHA224.blockSize = 512;\nSHA224.outSize = 224;\nSHA224.hmacStrength = 192;\nSHA224.padLength = 64;\n\nSHA224.prototype._digest = function digest(enc) {\n  // Just truncate output\n  if (enc === 'hex')\n    return utils.toHex32(this.h.slice(0, 7), 'big');\n  else\n    return utils.split32(this.h.slice(0, 7), 'big');\n};\n\n","'use strict';\n\nvar utils = require('../utils');\nvar common = require('../common');\nvar assert = require('minimalistic-assert');\n\nvar rotr64_hi = utils.rotr64_hi;\nvar rotr64_lo = utils.rotr64_lo;\nvar shr64_hi = utils.shr64_hi;\nvar shr64_lo = utils.shr64_lo;\nvar sum64 = utils.sum64;\nvar sum64_hi = utils.sum64_hi;\nvar sum64_lo = utils.sum64_lo;\nvar sum64_4_hi = utils.sum64_4_hi;\nvar sum64_4_lo = utils.sum64_4_lo;\nvar sum64_5_hi = utils.sum64_5_hi;\nvar sum64_5_lo = utils.sum64_5_lo;\n\nvar BlockHash = common.BlockHash;\n\nvar sha512_K = [\n  0x428a2f98, 0xd728ae22, 0x71374491, 0x23ef65cd,\n  0xb5c0fbcf, 0xec4d3b2f, 0xe9b5dba5, 0x8189dbbc,\n  0x3956c25b, 0xf348b538, 0x59f111f1, 0xb605d019,\n  0x923f82a4, 0xaf194f9b, 0xab1c5ed5, 0xda6d8118,\n  0xd807aa98, 0xa3030242, 0x12835b01, 0x45706fbe,\n  0x243185be, 0x4ee4b28c, 0x550c7dc3, 0xd5ffb4e2,\n  0x72be5d74, 0xf27b896f, 0x80deb1fe, 0x3b1696b1,\n  0x9bdc06a7, 0x25c71235, 0xc19bf174, 0xcf692694,\n  0xe49b69c1, 0x9ef14ad2, 0xefbe4786, 0x384f25e3,\n  0x0fc19dc6, 0x8b8cd5b5, 0x240ca1cc, 0x77ac9c65,\n  0x2de92c6f, 0x592b0275, 0x4a7484aa, 0x6ea6e483,\n  0x5cb0a9dc, 0xbd41fbd4, 0x76f988da, 0x831153b5,\n  0x983e5152, 0xee66dfab, 0xa831c66d, 0x2db43210,\n  0xb00327c8, 0x98fb213f, 0xbf597fc7, 0xbeef0ee4,\n  0xc6e00bf3, 0x3da88fc2, 0xd5a79147, 0x930aa725,\n  0x06ca6351, 0xe003826f, 0x14292967, 0x0a0e6e70,\n  0x27b70a85, 0x46d22ffc, 0x2e1b2138, 0x5c26c926,\n  0x4d2c6dfc, 0x5ac42aed, 0x53380d13, 0x9d95b3df,\n  0x650a7354, 0x8baf63de, 0x766a0abb, 0x3c77b2a8,\n  0x81c2c92e, 0x47edaee6, 0x92722c85, 0x1482353b,\n  0xa2bfe8a1, 0x4cf10364, 0xa81a664b, 0xbc423001,\n  0xc24b8b70, 0xd0f89791, 0xc76c51a3, 0x0654be30,\n  0xd192e819, 0xd6ef5218, 0xd6990624, 0x5565a910,\n  0xf40e3585, 0x5771202a, 0x106aa070, 0x32bbd1b8,\n  0x19a4c116, 0xb8d2d0c8, 0x1e376c08, 0x5141ab53,\n  0x2748774c, 0xdf8eeb99, 0x34b0bcb5, 0xe19b48a8,\n  0x391c0cb3, 0xc5c95a63, 0x4ed8aa4a, 0xe3418acb,\n  0x5b9cca4f, 0x7763e373, 0x682e6ff3, 0xd6b2b8a3,\n  0x748f82ee, 0x5defb2fc, 0x78a5636f, 0x43172f60,\n  0x84c87814, 0xa1f0ab72, 0x8cc70208, 0x1a6439ec,\n  0x90befffa, 0x23631e28, 0xa4506ceb, 0xde82bde9,\n  0xbef9a3f7, 0xb2c67915, 0xc67178f2, 0xe372532b,\n  0xca273ece, 0xea26619c, 0xd186b8c7, 0x21c0c207,\n  0xeada7dd6, 0xcde0eb1e, 0xf57d4f7f, 0xee6ed178,\n  0x06f067aa, 0x72176fba, 0x0a637dc5, 0xa2c898a6,\n  0x113f9804, 0xbef90dae, 0x1b710b35, 0x131c471b,\n  0x28db77f5, 0x23047d84, 0x32caab7b, 0x40c72493,\n  0x3c9ebe0a, 0x15c9bebc, 0x431d67c4, 0x9c100d4c,\n  0x4cc5d4be, 0xcb3e42b6, 0x597f299c, 0xfc657e2a,\n  0x5fcb6fab, 0x3ad6faec, 0x6c44198c, 0x4a475817\n];\n\nfunction SHA512() {\n  if (!(this instanceof SHA512))\n    return new SHA512();\n\n  BlockHash.call(this);\n  this.h = [\n    0x6a09e667, 0xf3bcc908,\n    0xbb67ae85, 0x84caa73b,\n    0x3c6ef372, 0xfe94f82b,\n    0xa54ff53a, 0x5f1d36f1,\n    0x510e527f, 0xade682d1,\n    0x9b05688c, 0x2b3e6c1f,\n    0x1f83d9ab, 0xfb41bd6b,\n    0x5be0cd19, 0x137e2179 ];\n  this.k = sha512_K;\n  this.W = new Array(160);\n}\nutils.inherits(SHA512, BlockHash);\nmodule.exports = SHA512;\n\nSHA512.blockSize = 1024;\nSHA512.outSize = 512;\nSHA512.hmacStrength = 192;\nSHA512.padLength = 128;\n\nSHA512.prototype._prepareBlock = function _prepareBlock(msg, start) {\n  var W = this.W;\n\n  // 32 x 32bit words\n  for (var i = 0; i < 32; i++)\n    W[i] = msg[start + i];\n  for (; i < W.length; i += 2) {\n    var c0_hi = g1_512_hi(W[i - 4], W[i - 3]);  // i - 2\n    var c0_lo = g1_512_lo(W[i - 4], W[i - 3]);\n    var c1_hi = W[i - 14];  // i - 7\n    var c1_lo = W[i - 13];\n    var c2_hi = g0_512_hi(W[i - 30], W[i - 29]);  // i - 15\n    var c2_lo = g0_512_lo(W[i - 30], W[i - 29]);\n    var c3_hi = W[i - 32];  // i - 16\n    var c3_lo = W[i - 31];\n\n    W[i] = sum64_4_hi(\n      c0_hi, c0_lo,\n      c1_hi, c1_lo,\n      c2_hi, c2_lo,\n      c3_hi, c3_lo);\n    W[i + 1] = sum64_4_lo(\n      c0_hi, c0_lo,\n      c1_hi, c1_lo,\n      c2_hi, c2_lo,\n      c3_hi, c3_lo);\n  }\n};\n\nSHA512.prototype._update = function _update(msg, start) {\n  this._prepareBlock(msg, start);\n\n  var W = this.W;\n\n  var ah = this.h[0];\n  var al = this.h[1];\n  var bh = this.h[2];\n  var bl = this.h[3];\n  var ch = this.h[4];\n  var cl = this.h[5];\n  var dh = this.h[6];\n  var dl = this.h[7];\n  var eh = this.h[8];\n  var el = this.h[9];\n  var fh = this.h[10];\n  var fl = this.h[11];\n  var gh = this.h[12];\n  var gl = this.h[13];\n  var hh = this.h[14];\n  var hl = this.h[15];\n\n  assert(this.k.length === W.length);\n  for (var i = 0; i < W.length; i += 2) {\n    var c0_hi = hh;\n    var c0_lo = hl;\n    var c1_hi = s1_512_hi(eh, el);\n    var c1_lo = s1_512_lo(eh, el);\n    var c2_hi = ch64_hi(eh, el, fh, fl, gh, gl);\n    var c2_lo = ch64_lo(eh, el, fh, fl, gh, gl);\n    var c3_hi = this.k[i];\n    var c3_lo = this.k[i + 1];\n    var c4_hi = W[i];\n    var c4_lo = W[i + 1];\n\n    var T1_hi = sum64_5_hi(\n      c0_hi, c0_lo,\n      c1_hi, c1_lo,\n      c2_hi, c2_lo,\n      c3_hi, c3_lo,\n      c4_hi, c4_lo);\n    var T1_lo = sum64_5_lo(\n      c0_hi, c0_lo,\n      c1_hi, c1_lo,\n      c2_hi, c2_lo,\n      c3_hi, c3_lo,\n      c4_hi, c4_lo);\n\n    c0_hi = s0_512_hi(ah, al);\n    c0_lo = s0_512_lo(ah, al);\n    c1_hi = maj64_hi(ah, al, bh, bl, ch, cl);\n    c1_lo = maj64_lo(ah, al, bh, bl, ch, cl);\n\n    var T2_hi = sum64_hi(c0_hi, c0_lo, c1_hi, c1_lo);\n    var T2_lo = sum64_lo(c0_hi, c0_lo, c1_hi, c1_lo);\n\n    hh = gh;\n    hl = gl;\n\n    gh = fh;\n    gl = fl;\n\n    fh = eh;\n    fl = el;\n\n    eh = sum64_hi(dh, dl, T1_hi, T1_lo);\n    el = sum64_lo(dl, dl, T1_hi, T1_lo);\n\n    dh = ch;\n    dl = cl;\n\n    ch = bh;\n    cl = bl;\n\n    bh = ah;\n    bl = al;\n\n    ah = sum64_hi(T1_hi, T1_lo, T2_hi, T2_lo);\n    al = sum64_lo(T1_hi, T1_lo, T2_hi, T2_lo);\n  }\n\n  sum64(this.h, 0, ah, al);\n  sum64(this.h, 2, bh, bl);\n  sum64(this.h, 4, ch, cl);\n  sum64(this.h, 6, dh, dl);\n  sum64(this.h, 8, eh, el);\n  sum64(this.h, 10, fh, fl);\n  sum64(this.h, 12, gh, gl);\n  sum64(this.h, 14, hh, hl);\n};\n\nSHA512.prototype._digest = function digest(enc) {\n  if (enc === 'hex')\n    return utils.toHex32(this.h, 'big');\n  else\n    return utils.split32(this.h, 'big');\n};\n\nfunction ch64_hi(xh, xl, yh, yl, zh) {\n  var r = (xh & yh) ^ ((~xh) & zh);\n  if (r < 0)\n    r += 0x100000000;\n  return r;\n}\n\nfunction ch64_lo(xh, xl, yh, yl, zh, zl) {\n  var r = (xl & yl) ^ ((~xl) & zl);\n  if (r < 0)\n    r += 0x100000000;\n  return r;\n}\n\nfunction maj64_hi(xh, xl, yh, yl, zh) {\n  var r = (xh & yh) ^ (xh & zh) ^ (yh & zh);\n  if (r < 0)\n    r += 0x100000000;\n  return r;\n}\n\nfunction maj64_lo(xh, xl, yh, yl, zh, zl) {\n  var r = (xl & yl) ^ (xl & zl) ^ (yl & zl);\n  if (r < 0)\n    r += 0x100000000;\n  return r;\n}\n\nfunction s0_512_hi(xh, xl) {\n  var c0_hi = rotr64_hi(xh, xl, 28);\n  var c1_hi = rotr64_hi(xl, xh, 2);  // 34\n  var c2_hi = rotr64_hi(xl, xh, 7);  // 39\n\n  var r = c0_hi ^ c1_hi ^ c2_hi;\n  if (r < 0)\n    r += 0x100000000;\n  return r;\n}\n\nfunction s0_512_lo(xh, xl) {\n  var c0_lo = rotr64_lo(xh, xl, 28);\n  var c1_lo = rotr64_lo(xl, xh, 2);  // 34\n  var c2_lo = rotr64_lo(xl, xh, 7);  // 39\n\n  var r = c0_lo ^ c1_lo ^ c2_lo;\n  if (r < 0)\n    r += 0x100000000;\n  return r;\n}\n\nfunction s1_512_hi(xh, xl) {\n  var c0_hi = rotr64_hi(xh, xl, 14);\n  var c1_hi = rotr64_hi(xh, xl, 18);\n  var c2_hi = rotr64_hi(xl, xh, 9);  // 41\n\n  var r = c0_hi ^ c1_hi ^ c2_hi;\n  if (r < 0)\n    r += 0x100000000;\n  return r;\n}\n\nfunction s1_512_lo(xh, xl) {\n  var c0_lo = rotr64_lo(xh, xl, 14);\n  var c1_lo = rotr64_lo(xh, xl, 18);\n  var c2_lo = rotr64_lo(xl, xh, 9);  // 41\n\n  var r = c0_lo ^ c1_lo ^ c2_lo;\n  if (r < 0)\n    r += 0x100000000;\n  return r;\n}\n\nfunction g0_512_hi(xh, xl) {\n  var c0_hi = rotr64_hi(xh, xl, 1);\n  var c1_hi = rotr64_hi(xh, xl, 8);\n  var c2_hi = shr64_hi(xh, xl, 7);\n\n  var r = c0_hi ^ c1_hi ^ c2_hi;\n  if (r < 0)\n    r += 0x100000000;\n  return r;\n}\n\nfunction g0_512_lo(xh, xl) {\n  var c0_lo = rotr64_lo(xh, xl, 1);\n  var c1_lo = rotr64_lo(xh, xl, 8);\n  var c2_lo = shr64_lo(xh, xl, 7);\n\n  var r = c0_lo ^ c1_lo ^ c2_lo;\n  if (r < 0)\n    r += 0x100000000;\n  return r;\n}\n\nfunction g1_512_hi(xh, xl) {\n  var c0_hi = rotr64_hi(xh, xl, 19);\n  var c1_hi = rotr64_hi(xl, xh, 29);  // 61\n  var c2_hi = shr64_hi(xh, xl, 6);\n\n  var r = c0_hi ^ c1_hi ^ c2_hi;\n  if (r < 0)\n    r += 0x100000000;\n  return r;\n}\n\nfunction g1_512_lo(xh, xl) {\n  var c0_lo = rotr64_lo(xh, xl, 19);\n  var c1_lo = rotr64_lo(xl, xh, 29);  // 61\n  var c2_lo = shr64_lo(xh, xl, 6);\n\n  var r = c0_lo ^ c1_lo ^ c2_lo;\n  if (r < 0)\n    r += 0x100000000;\n  return r;\n}\n","'use strict';\n\nvar utils = require('../utils');\n\nvar SHA512 = require('./512');\n\nfunction SHA384() {\n  if (!(this instanceof SHA384))\n    return new SHA384();\n\n  SHA512.call(this);\n  this.h = [\n    0xcbbb9d5d, 0xc1059ed8,\n    0x629a292a, 0x367cd507,\n    0x9159015a, 0x3070dd17,\n    0x152fecd8, 0xf70e5939,\n    0x67332667, 0xffc00b31,\n    0x8eb44a87, 0x68581511,\n    0xdb0c2e0d, 0x64f98fa7,\n    0x47b5481d, 0xbefa4fa4 ];\n}\nutils.inherits(SHA384, SHA512);\nmodule.exports = SHA384;\n\nSHA384.blockSize = 1024;\nSHA384.outSize = 384;\nSHA384.hmacStrength = 192;\nSHA384.padLength = 128;\n\nSHA384.prototype._digest = function digest(enc) {\n  if (enc === 'hex')\n    return utils.toHex32(this.h.slice(0, 12), 'big');\n  else\n    return utils.split32(this.h.slice(0, 12), 'big');\n};\n","'use strict';\n\nexports.sha1 = require('./sha/1');\nexports.sha224 = require('./sha/224');\nexports.sha256 = require('./sha/256');\nexports.sha384 = require('./sha/384');\nexports.sha512 = require('./sha/512');\n","'use strict';\n\nvar utils = require('./utils');\nvar common = require('./common');\n\nvar rotl32 = utils.rotl32;\nvar sum32 = utils.sum32;\nvar sum32_3 = utils.sum32_3;\nvar sum32_4 = utils.sum32_4;\nvar BlockHash = common.BlockHash;\n\nfunction RIPEMD160() {\n  if (!(this instanceof RIPEMD160))\n    return new RIPEMD160();\n\n  BlockHash.call(this);\n\n  this.h = [ 0x67452301, 0xefcdab89, 0x98badcfe, 0x10325476, 0xc3d2e1f0 ];\n  this.endian = 'little';\n}\nutils.inherits(RIPEMD160, BlockHash);\nexports.ripemd160 = RIPEMD160;\n\nRIPEMD160.blockSize = 512;\nRIPEMD160.outSize = 160;\nRIPEMD160.hmacStrength = 192;\nRIPEMD160.padLength = 64;\n\nRIPEMD160.prototype._update = function update(msg, start) {\n  var A = this.h[0];\n  var B = this.h[1];\n  var C = this.h[2];\n  var D = this.h[3];\n  var E = this.h[4];\n  var Ah = A;\n  var Bh = B;\n  var Ch = C;\n  var Dh = D;\n  var Eh = E;\n  for (var j = 0; j < 80; j++) {\n    var T = sum32(\n      rotl32(\n        sum32_4(A, f(j, B, C, D), msg[r[j] + start], K(j)),\n        s[j]),\n      E);\n    A = E;\n    E = D;\n    D = rotl32(C, 10);\n    C = B;\n    B = T;\n    T = sum32(\n      rotl32(\n        sum32_4(Ah, f(79 - j, Bh, Ch, Dh), msg[rh[j] + start], Kh(j)),\n        sh[j]),\n      Eh);\n    Ah = Eh;\n    Eh = Dh;\n    Dh = rotl32(Ch, 10);\n    Ch = Bh;\n    Bh = T;\n  }\n  T = sum32_3(this.h[1], C, Dh);\n  this.h[1] = sum32_3(this.h[2], D, Eh);\n  this.h[2] = sum32_3(this.h[3], E, Ah);\n  this.h[3] = sum32_3(this.h[4], A, Bh);\n  this.h[4] = sum32_3(this.h[0], B, Ch);\n  this.h[0] = T;\n};\n\nRIPEMD160.prototype._digest = function digest(enc) {\n  if (enc === 'hex')\n    return utils.toHex32(this.h, 'little');\n  else\n    return utils.split32(this.h, 'little');\n};\n\nfunction f(j, x, y, z) {\n  if (j <= 15)\n    return x ^ y ^ z;\n  else if (j <= 31)\n    return (x & y) | ((~x) & z);\n  else if (j <= 47)\n    return (x | (~y)) ^ z;\n  else if (j <= 63)\n    return (x & z) | (y & (~z));\n  else\n    return x ^ (y | (~z));\n}\n\nfunction K(j) {\n  if (j <= 15)\n    return 0x00000000;\n  else if (j <= 31)\n    return 0x5a827999;\n  else if (j <= 47)\n    return 0x6ed9eba1;\n  else if (j <= 63)\n    return 0x8f1bbcdc;\n  else\n    return 0xa953fd4e;\n}\n\nfunction Kh(j) {\n  if (j <= 15)\n    return 0x50a28be6;\n  else if (j <= 31)\n    return 0x5c4dd124;\n  else if (j <= 47)\n    return 0x6d703ef3;\n  else if (j <= 63)\n    return 0x7a6d76e9;\n  else\n    return 0x00000000;\n}\n\nvar r = [\n  0, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15,\n  7, 4, 13, 1, 10, 6, 15, 3, 12, 0, 9, 5, 2, 14, 11, 8,\n  3, 10, 14, 4, 9, 15, 8, 1, 2, 7, 0, 6, 13, 11, 5, 12,\n  1, 9, 11, 10, 0, 8, 12, 4, 13, 3, 7, 15, 14, 5, 6, 2,\n  4, 0, 5, 9, 7, 12, 2, 10, 14, 1, 3, 8, 11, 6, 15, 13\n];\n\nvar rh = [\n  5, 14, 7, 0, 9, 2, 11, 4, 13, 6, 15, 8, 1, 10, 3, 12,\n  6, 11, 3, 7, 0, 13, 5, 10, 14, 15, 8, 12, 4, 9, 1, 2,\n  15, 5, 1, 3, 7, 14, 6, 9, 11, 8, 12, 2, 10, 0, 4, 13,\n  8, 6, 4, 1, 3, 11, 15, 0, 5, 12, 2, 13, 9, 7, 10, 14,\n  12, 15, 10, 4, 1, 5, 8, 7, 6, 2, 13, 14, 0, 3, 9, 11\n];\n\nvar s = [\n  11, 14, 15, 12, 5, 8, 7, 9, 11, 13, 14, 15, 6, 7, 9, 8,\n  7, 6, 8, 13, 11, 9, 7, 15, 7, 12, 15, 9, 11, 7, 13, 12,\n  11, 13, 6, 7, 14, 9, 13, 15, 14, 8, 13, 6, 5, 12, 7, 5,\n  11, 12, 14, 15, 14, 15, 9, 8, 9, 14, 5, 6, 8, 6, 5, 12,\n  9, 15, 5, 11, 6, 8, 13, 12, 5, 12, 13, 14, 11, 8, 5, 6\n];\n\nvar sh = [\n  8, 9, 9, 11, 13, 15, 15, 5, 7, 7, 8, 11, 14, 14, 12, 6,\n  9, 13, 15, 7, 12, 8, 9, 11, 7, 7, 12, 7, 6, 15, 13, 11,\n  9, 7, 15, 11, 8, 6, 6, 14, 12, 13, 5, 14, 13, 13, 7, 5,\n  15, 5, 8, 11, 14, 14, 6, 14, 6, 9, 12, 9, 12, 5, 15, 8,\n  8, 5, 12, 9, 12, 5, 14, 6, 8, 13, 6, 5, 15, 13, 11, 11\n];\n","'use strict';\n\nvar utils = require('./utils');\nvar assert = require('minimalistic-assert');\n\nfunction Hmac(hash, key, enc) {\n  if (!(this instanceof Hmac))\n    return new Hmac(hash, key, enc);\n  this.Hash = hash;\n  this.blockSize = hash.blockSize / 8;\n  this.outSize = hash.outSize / 8;\n  this.inner = null;\n  this.outer = null;\n\n  this._init(utils.toArray(key, enc));\n}\nmodule.exports = Hmac;\n\nHmac.prototype._init = function init(key) {\n  // Shorten key, if needed\n  if (key.length > this.blockSize)\n    key = new this.Hash().update(key).digest();\n  assert(key.length <= this.blockSize);\n\n  // Add padding to key\n  for (var i = key.length; i < this.blockSize; i++)\n    key.push(0);\n\n  for (i = 0; i < key.length; i++)\n    key[i] ^= 0x36;\n  this.inner = new this.Hash().update(key);\n\n  // 0x36 ^ 0x5c = 0x6a\n  for (i = 0; i < key.length; i++)\n    key[i] ^= 0x6a;\n  this.outer = new this.Hash().update(key);\n};\n\nHmac.prototype.update = function update(msg, enc) {\n  this.inner.update(msg, enc);\n  return this;\n};\n\nHmac.prototype.digest = function digest(enc) {\n  this.outer.update(this.inner.digest());\n  return this.outer.digest(enc);\n};\n","var hash = exports;\n\nhash.utils = require('./hash/utils');\nhash.common = require('./hash/common');\nhash.sha = require('./hash/sha');\nhash.ripemd = require('./hash/ripemd');\nhash.hmac = require('./hash/hmac');\n\n// Proxy hash functions to the main object\nhash.sha1 = hash.sha.sha1;\nhash.sha256 = hash.sha.sha256;\nhash.sha224 = hash.sha.sha224;\nhash.sha384 = hash.sha.sha384;\nhash.sha512 = hash.sha.sha512;\nhash.ripemd160 = hash.ripemd.ripemd160;\n","module.exports      = isTypedArray\nisTypedArray.strict = isStrictTypedArray\nisTypedArray.loose  = isLooseTypedArray\n\nvar toString = Object.prototype.toString\nvar names = {\n    '[object Int8Array]': true\n  , '[object Int16Array]': true\n  , '[object Int32Array]': true\n  , '[object Uint8Array]': true\n  , '[object Uint8ClampedArray]': true\n  , '[object Uint16Array]': true\n  , '[object Uint32Array]': true\n  , '[object Float32Array]': true\n  , '[object Float64Array]': true\n}\n\nfunction isTypedArray(arr) {\n  return (\n       isStrictTypedArray(arr)\n    || isLooseTypedArray(arr)\n  )\n}\n\nfunction isStrictTypedArray(arr) {\n  return (\n       arr instanceof Int8Array\n    || arr instanceof Int16Array\n    || arr instanceof Int32Array\n    || arr instanceof Uint8Array\n    || arr instanceof Uint8ClampedArray\n    || arr instanceof Uint16Array\n    || arr instanceof Uint32Array\n    || arr instanceof Float32Array\n    || arr instanceof Float64Array\n  )\n}\n\nfunction isLooseTypedArray(arr) {\n  return names[toString.call(arr)]\n}\n","/**\n * Convert a typed array to a Buffer without a copy\n *\n * Author:   Feross Aboukhadijeh <https://feross.org>\n * License:  MIT\n *\n * `npm install typedarray-to-buffer`\n */\n\nvar isTypedArray = require('is-typedarray').strict\n\nmodule.exports = function typedarrayToBuffer (arr) {\n  if (isTypedArray(arr)) {\n    // To avoid a copy, use the typed array's underlying ArrayBuffer to back new Buffer\n    var buf = Buffer.from(arr.buffer)\n    if (arr.byteLength !== arr.buffer.byteLength) {\n      // Respect the \"view\", i.e. byteOffset and byteLength, without doing a copy\n      buf = buf.slice(arr.byteOffset, arr.byteOffset + arr.byteLength)\n    }\n    return buf\n  } else {\n    // Pass through all other types to `Buffer.from`\n    return Buffer.from(arr)\n  }\n}\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst is_typedarray_1 = __importDefault(require(\"is-typedarray\"));\nconst typedarray_to_buffer_1 = __importDefault(require(\"typedarray-to-buffer\"));\nconst ENC_HEX = 'hex';\nconst ENC_UTF8 = 'utf8';\nconst ENC_BIN = 'binary';\nconst TYPE_BUFFER = 'buffer';\nconst TYPE_ARRAY = 'array';\nconst TYPE_TYPED_ARRAY = 'typed-array';\nconst TYPE_ARRAY_BUFFER = 'array-buffer';\nconst STRING_ZERO = '0';\nfunction bufferToArray(buf) {\n    return new Uint8Array(buf);\n}\nexports.bufferToArray = bufferToArray;\nfunction bufferToHex(buf, prefixed = false) {\n    const hex = buf.toString(ENC_HEX);\n    return prefixed ? addHexPrefix(hex) : hex;\n}\nexports.bufferToHex = bufferToHex;\nfunction bufferToUtf8(buf) {\n    return buf.toString(ENC_UTF8);\n}\nexports.bufferToUtf8 = bufferToUtf8;\nfunction bufferToNumber(buf) {\n    return buf.readUIntBE(0, buf.length);\n}\nexports.bufferToNumber = bufferToNumber;\nfunction bufferToBinary(buf) {\n    return arrayToBinary(bufferToArray(buf));\n}\nexports.bufferToBinary = bufferToBinary;\nfunction arrayToBuffer(arr) {\n    return typedarray_to_buffer_1.default(arr);\n}\nexports.arrayToBuffer = arrayToBuffer;\nfunction arrayToHex(arr, prefixed = false) {\n    return bufferToHex(arrayToBuffer(arr), prefixed);\n}\nexports.arrayToHex = arrayToHex;\nfunction arrayToUtf8(arr) {\n    return bufferToUtf8(arrayToBuffer(arr));\n}\nexports.arrayToUtf8 = arrayToUtf8;\nfunction arrayToNumber(arr) {\n    return bufferToNumber(arrayToBuffer(arr));\n}\nexports.arrayToNumber = arrayToNumber;\nfunction arrayToBinary(arr) {\n    return Array.from(arr)\n        .map(numberToBinary)\n        .join('');\n}\nexports.arrayToBinary = arrayToBinary;\nfunction hexToBuffer(hex) {\n    return Buffer.from(removeHexPrefix(hex), ENC_HEX);\n}\nexports.hexToBuffer = hexToBuffer;\nfunction hexToArray(hex) {\n    return bufferToArray(hexToBuffer(hex));\n}\nexports.hexToArray = hexToArray;\nfunction hexToUtf8(hex) {\n    return bufferToUtf8(hexToBuffer(hex));\n}\nexports.hexToUtf8 = hexToUtf8;\nfunction hexToNumber(hex) {\n    return arrayToNumber(hexToArray(hex));\n}\nexports.hexToNumber = hexToNumber;\nfunction hexToBinary(hex) {\n    return arrayToBinary(hexToArray(hex));\n}\nexports.hexToBinary = hexToBinary;\nfunction utf8ToBuffer(utf8) {\n    return Buffer.from(utf8, ENC_UTF8);\n}\nexports.utf8ToBuffer = utf8ToBuffer;\nfunction utf8ToArray(utf8) {\n    return bufferToArray(utf8ToBuffer(utf8));\n}\nexports.utf8ToArray = utf8ToArray;\nfunction utf8ToHex(utf8, prefixed = false) {\n    return bufferToHex(utf8ToBuffer(utf8), prefixed);\n}\nexports.utf8ToHex = utf8ToHex;\nfunction utf8ToNumber(utf8) {\n    const num = parseInt(utf8, 10);\n    assert(isDefined(num), 'Number can only safely store up to 53 bits');\n    return num;\n}\nexports.utf8ToNumber = utf8ToNumber;\nfunction utf8ToBinary(utf8) {\n    return arrayToBinary(utf8ToArray(utf8));\n}\nexports.utf8ToBinary = utf8ToBinary;\nfunction numberToBuffer(num) {\n    return binaryToBuffer(numberToBinary(num));\n}\nexports.numberToBuffer = numberToBuffer;\nfunction numberToArray(num) {\n    return binaryToArray(numberToBinary(num));\n}\nexports.numberToArray = numberToArray;\nfunction numberToHex(num, prefixed) {\n    return binaryToHex(numberToBinary(num), prefixed);\n}\nexports.numberToHex = numberToHex;\nfunction numberToUtf8(num) {\n    return `${num}`;\n}\nexports.numberToUtf8 = numberToUtf8;\nfunction numberToBinary(num) {\n    const bin = (num >>> 0).toString(2);\n    return sanitizeBytes(bin);\n}\nexports.numberToBinary = numberToBinary;\nfunction binaryToBuffer(bin) {\n    return arrayToBuffer(binaryToArray(bin));\n}\nexports.binaryToBuffer = binaryToBuffer;\nfunction binaryToArray(bin) {\n    return new Uint8Array(splitBytes(bin).map(x => parseInt(x, 2)));\n}\nexports.binaryToArray = binaryToArray;\nfunction binaryToHex(bin, prefixed) {\n    return arrayToHex(binaryToArray(bin), prefixed);\n}\nexports.binaryToHex = binaryToHex;\nfunction binaryToUtf8(bin) {\n    return arrayToUtf8(binaryToArray(bin));\n}\nexports.binaryToUtf8 = binaryToUtf8;\nfunction binaryToNumber(bin) {\n    return arrayToNumber(binaryToArray(bin));\n}\nexports.binaryToNumber = binaryToNumber;\nfunction isBinaryString(str) {\n    if (typeof str !== 'string' || !new RegExp(/^[01]+$/).test(str)) {\n        return false;\n    }\n    if (str.length % 8 !== 0) {\n        return false;\n    }\n    return true;\n}\nexports.isBinaryString = isBinaryString;\nfunction isHexString(str, length) {\n    if (typeof str !== 'string' || !str.match(/^0x[0-9A-Fa-f]*$/)) {\n        return false;\n    }\n    if (length && str.length !== 2 + 2 * length) {\n        return false;\n    }\n    return true;\n}\nexports.isHexString = isHexString;\nfunction isBuffer(val) {\n    return Buffer.isBuffer(val);\n}\nexports.isBuffer = isBuffer;\nfunction isTypedArray(val) {\n    return is_typedarray_1.default.strict(val) && !isBuffer(val);\n}\nexports.isTypedArray = isTypedArray;\nfunction isArrayBuffer(val) {\n    return (!isTypedArray(val) &&\n        !isBuffer(val) &&\n        typeof val.byteLength !== 'undefined');\n}\nexports.isArrayBuffer = isArrayBuffer;\nfunction getType(val) {\n    if (isBuffer(val)) {\n        return TYPE_BUFFER;\n    }\n    else if (isTypedArray(val)) {\n        return TYPE_TYPED_ARRAY;\n    }\n    else if (isArrayBuffer(val)) {\n        return TYPE_ARRAY_BUFFER;\n    }\n    else if (Array.isArray(val)) {\n        return TYPE_ARRAY;\n    }\n    else {\n        return typeof val;\n    }\n}\nexports.getType = getType;\nfunction getEncoding(str) {\n    if (isBinaryString(str)) {\n        return ENC_BIN;\n    }\n    if (isHexString(str)) {\n        return ENC_HEX;\n    }\n    return ENC_UTF8;\n}\nexports.getEncoding = getEncoding;\nfunction concatBuffers(...args) {\n    const result = Buffer.concat(args);\n    return result;\n}\nexports.concatBuffers = concatBuffers;\nfunction concatArrays(...args) {\n    let result = [];\n    args.forEach(arg => (result = result.concat(Array.from(arg))));\n    return new Uint8Array([...result]);\n}\nexports.concatArrays = concatArrays;\nfunction trimLeft(data, length) {\n    const diff = data.length - length;\n    if (diff > 0) {\n        data = data.slice(diff);\n    }\n    return data;\n}\nexports.trimLeft = trimLeft;\nfunction trimRight(data, length) {\n    return data.slice(0, length);\n}\nexports.trimRight = trimRight;\nfunction calcByteLength(length, byteSize = 8) {\n    const remainder = length % byteSize;\n    return remainder\n        ? ((length - remainder) / byteSize) * byteSize + byteSize\n        : length;\n}\nexports.calcByteLength = calcByteLength;\nfunction splitBytes(str, byteSize = 8) {\n    const bytes = sanitizeBytes(str).match(new RegExp(`.{${byteSize}}`, 'gi'));\n    return Array.from(bytes || []);\n}\nexports.splitBytes = splitBytes;\nfunction swapBytes(str) {\n    return splitBytes(str)\n        .map(reverseString)\n        .join('');\n}\nexports.swapBytes = swapBytes;\nfunction swapHex(str) {\n    return binaryToHex(swapBytes(hexToBinary(str)));\n}\nexports.swapHex = swapHex;\nfunction sanitizeBytes(str, byteSize = 8, padding = STRING_ZERO) {\n    return padLeft(str, calcByteLength(str.length, byteSize), padding);\n}\nexports.sanitizeBytes = sanitizeBytes;\nfunction padLeft(str, length, padding = STRING_ZERO) {\n    return padString(str, length, true, padding);\n}\nexports.padLeft = padLeft;\nfunction padRight(str, length, padding = STRING_ZERO) {\n    return padString(str, length, false, padding);\n}\nexports.padRight = padRight;\nfunction removeHexPrefix(hex) {\n    return hex.replace(/^0x/, '');\n}\nexports.removeHexPrefix = removeHexPrefix;\nfunction addHexPrefix(hex) {\n    return hex.startsWith('0x') ? hex : `0x${hex}`;\n}\nexports.addHexPrefix = addHexPrefix;\nfunction sanitizeHex(hex) {\n    hex = removeHexPrefix(hex);\n    hex = sanitizeBytes(hex, 2);\n    if (hex) {\n        hex = addHexPrefix(hex);\n    }\n    return hex;\n}\nexports.sanitizeHex = sanitizeHex;\nfunction removeHexLeadingZeros(hex) {\n    const prefixed = hex.startsWith('0x');\n    hex = removeHexPrefix(hex);\n    hex = hex.startsWith(STRING_ZERO) ? hex.substring(1) : hex;\n    return prefixed ? addHexPrefix(hex) : hex;\n}\nexports.removeHexLeadingZeros = removeHexLeadingZeros;\nfunction isUndefined(value) {\n    return typeof value === 'undefined';\n}\nfunction isDefined(value) {\n    return !isUndefined(value);\n}\nfunction assert(assertion, errorMessage) {\n    if (!assertion) {\n        throw new Error(errorMessage);\n    }\n}\nfunction reverseString(str) {\n    return str\n        .split('')\n        .reverse()\n        .join('');\n}\nfunction padString(str, length, left, padding = STRING_ZERO) {\n    const diff = length - str.length;\n    let result = str;\n    if (diff > 0) {\n        const pad = padding.repeat(diff);\n        result = left ? pad + str : str + pad;\n    }\n    return result;\n}\n//# sourceMappingURL=index.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.fallbackRipemd160 = exports.fallbackSha512 = exports.fallbackSha256 = exports.fallbackHmacSha512Sign = exports.fallbackHmacSha256Sign = exports.fallbackAesDecrypt = exports.fallbackAesEncrypt = void 0;\nconst aes_js_1 = __importDefault(require(\"aes-js\"));\nconst hash = __importStar(require(\"hash.js\"));\nconst enc_utils_1 = require(\"enc-utils\");\nconst constants_1 = require(\"../constants\");\nconst index_1 = require(\"../index\");\nfunction fallbackAesEncrypt(iv, key, data) {\n    const aesCbc = new aes_js_1.default.ModeOfOperation.cbc(key, iv);\n    const padded = index_1.pkcs7.pad(data);\n    const encryptedBytes = aesCbc.encrypt(padded);\n    return new Uint8Array(encryptedBytes);\n}\nexports.fallbackAesEncrypt = fallbackAesEncrypt;\nfunction fallbackAesDecrypt(iv, key, data) {\n    const aesCbc = new aes_js_1.default.ModeOfOperation.cbc(key, iv);\n    const encryptedBytes = aesCbc.decrypt(data);\n    const padded = new Uint8Array(encryptedBytes);\n    const result = index_1.pkcs7.unpad(padded);\n    return result;\n}\nexports.fallbackAesDecrypt = fallbackAesDecrypt;\nfunction fallbackHmacSha256Sign(key, data) {\n    const result = hash\n        .hmac(hash[constants_1.SHA256_NODE_ALGO], key)\n        .update(data)\n        .digest(constants_1.HEX_ENC);\n    return enc_utils_1.hexToArray(result);\n}\nexports.fallbackHmacSha256Sign = fallbackHmacSha256Sign;\nfunction fallbackHmacSha512Sign(key, data) {\n    const result = hash\n        .hmac(hash[constants_1.SHA512_NODE_ALGO], key)\n        .update(data)\n        .digest(constants_1.HEX_ENC);\n    return enc_utils_1.hexToArray(result);\n}\nexports.fallbackHmacSha512Sign = fallbackHmacSha512Sign;\nfunction fallbackSha256(msg) {\n    const result = hash\n        .sha256()\n        .update(msg)\n        .digest(constants_1.HEX_ENC);\n    return enc_utils_1.hexToArray(result);\n}\nexports.fallbackSha256 = fallbackSha256;\nfunction fallbackSha512(msg) {\n    const result = hash\n        .sha512()\n        .update(msg)\n        .digest(constants_1.HEX_ENC);\n    return enc_utils_1.hexToArray(result);\n}\nexports.fallbackSha512 = fallbackSha512;\nfunction fallbackRipemd160(msg) {\n    const result = hash\n        .ripemd160()\n        .update(msg)\n        .digest(constants_1.HEX_ENC);\n    return enc_utils_1.hexToArray(result);\n}\nexports.fallbackRipemd160 = fallbackRipemd160;\n//# sourceMappingURL=fallback.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.nodeRipemd160 = exports.nodeSha512 = exports.nodeSha256 = exports.nodeHmacSha512Sign = exports.nodeHmacSha256Sign = exports.nodeAesDecrypt = exports.nodeAesEncrypt = void 0;\nconst crypto_1 = __importDefault(require(\"crypto\"));\nconst enc_utils_1 = require(\"enc-utils\");\nconst constants_1 = require(\"../constants\");\nfunction nodeAesEncrypt(iv, key, data) {\n    const cipher = crypto_1.default.createCipheriv(constants_1.AES_NODE_ALGO, key, iv);\n    return enc_utils_1.bufferToArray(enc_utils_1.concatBuffers(cipher.update(data), cipher.final()));\n}\nexports.nodeAesEncrypt = nodeAesEncrypt;\nfunction nodeAesDecrypt(iv, key, data) {\n    const decipher = crypto_1.default.createDecipheriv(constants_1.AES_NODE_ALGO, key, iv);\n    return enc_utils_1.bufferToArray(enc_utils_1.concatBuffers(decipher.update(data), decipher.final()));\n}\nexports.nodeAesDecrypt = nodeAesDecrypt;\nfunction nodeHmacSha256Sign(key, data) {\n    const buf = crypto_1.default\n        .createHmac(constants_1.HMAC_NODE_ALGO, new Uint8Array(key))\n        .update(data)\n        .digest();\n    return enc_utils_1.bufferToArray(buf);\n}\nexports.nodeHmacSha256Sign = nodeHmacSha256Sign;\nfunction nodeHmacSha512Sign(key, data) {\n    const buf = crypto_1.default\n        .createHmac(constants_1.SHA512_NODE_ALGO, new Uint8Array(key))\n        .update(data)\n        .digest();\n    return enc_utils_1.bufferToArray(buf);\n}\nexports.nodeHmacSha512Sign = nodeHmacSha512Sign;\nfunction nodeSha256(data) {\n    const buf = crypto_1.default\n        .createHash(constants_1.SHA256_NODE_ALGO)\n        .update(data)\n        .digest();\n    return enc_utils_1.bufferToArray(buf);\n}\nexports.nodeSha256 = nodeSha256;\nfunction nodeSha512(data) {\n    const buf = crypto_1.default\n        .createHash(constants_1.SHA512_NODE_ALGO)\n        .update(data)\n        .digest();\n    return enc_utils_1.bufferToArray(buf);\n}\nexports.nodeSha512 = nodeSha512;\nfunction nodeRipemd160(data) {\n    const buf = crypto_1.default\n        .createHash(constants_1.RIPEMD160_NODE_ALGO)\n        .update(data)\n        .digest();\n    return enc_utils_1.bufferToArray(buf);\n}\nexports.nodeRipemd160 = nodeRipemd160;\n//# sourceMappingURL=node.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.pkcs7 = void 0;\nlet PADDING = [\n    [16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16, 16],\n    [15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15, 15],\n    [14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14, 14],\n    [13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13, 13],\n    [12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12, 12],\n    [11, 11, 11, 11, 11, 11, 11, 11, 11, 11, 11],\n    [10, 10, 10, 10, 10, 10, 10, 10, 10, 10],\n    [9, 9, 9, 9, 9, 9, 9, 9, 9],\n    [8, 8, 8, 8, 8, 8, 8, 8],\n    [7, 7, 7, 7, 7, 7, 7],\n    [6, 6, 6, 6, 6, 6],\n    [5, 5, 5, 5, 5],\n    [4, 4, 4, 4],\n    [3, 3, 3],\n    [2, 2],\n    [1],\n];\nexports.pkcs7 = {\n    pad(plaintext) {\n        const padding = PADDING[plaintext.byteLength % 16 || 0];\n        const result = new Uint8Array(plaintext.byteLength + padding.length);\n        result.set(plaintext);\n        result.set(padding, plaintext.byteLength);\n        return result;\n    },\n    unpad(padded) {\n        return padded.subarray(0, padded.byteLength - padded[padded.byteLength - 1]);\n    },\n};\n//# sourceMappingURL=pkcs7.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isConstantTime = exports.isNode = exports.isBrowser = exports.assert = void 0;\nconst env_1 = require(\"./env\");\nfunction assert(condition, message) {\n    if (!condition) {\n        throw new Error(message || 'Assertion failed');\n    }\n}\nexports.assert = assert;\nfunction isBrowser() {\n    return !!env_1.getBrowerCrypto() && !!env_1.getSubtleCrypto();\n}\nexports.isBrowser = isBrowser;\nfunction isNode() {\n    return (typeof process !== 'undefined' &&\n        typeof process.versions !== 'undefined' &&\n        typeof process.versions.node !== 'undefined');\n}\nexports.isNode = isNode;\nfunction isConstantTime(arr1, arr2) {\n    if (arr1.length !== arr2.length) {\n        return false;\n    }\n    let res = 0;\n    for (let i = 0; i < arr1.length; i++) {\n        res |= arr1[i] ^ arr2[i];\n    }\n    return res === 0;\n}\nexports.isConstantTime = isConstantTime;\n//# sourceMappingURL=validators.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.aesCbcDecrypt = exports.aesCbcEncrypt = void 0;\nconst helpers_1 = require(\"../helpers\");\nfunction aesCbcEncrypt(iv, key, data) {\n    return __awaiter(this, void 0, void 0, function* () {\n        let result;\n        if (helpers_1.isBrowser()) {\n            result = yield helpers_1.browserAesEncrypt(iv, key, data);\n        }\n        else if (helpers_1.isNode()) {\n            result = helpers_1.nodeAesEncrypt(iv, key, data);\n        }\n        else {\n            result = helpers_1.fallbackAesEncrypt(iv, key, data);\n        }\n        return result;\n    });\n}\nexports.aesCbcEncrypt = aesCbcEncrypt;\nfunction aesCbcDecrypt(iv, key, data) {\n    return __awaiter(this, void 0, void 0, function* () {\n        let result;\n        if (helpers_1.isBrowser()) {\n            result = yield helpers_1.browserAesDecrypt(iv, key, data);\n        }\n        else if (helpers_1.isNode()) {\n            result = helpers_1.nodeAesDecrypt(iv, key, data);\n        }\n        else {\n            result = helpers_1.fallbackAesDecrypt(iv, key, data);\n        }\n        return result;\n    });\n}\nexports.aesCbcDecrypt = aesCbcDecrypt;\n//# sourceMappingURL=async.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.aesCbcDecryptSync = exports.aesCbcEncryptSync = void 0;\nconst helpers_1 = require(\"../helpers\");\nfunction aesCbcEncryptSync(iv, key, data) {\n    let result;\n    if (helpers_1.isNode()) {\n        result = helpers_1.nodeAesEncrypt(iv, key, data);\n    }\n    else {\n        result = helpers_1.fallbackAesEncrypt(iv, key, data);\n    }\n    return result;\n}\nexports.aesCbcEncryptSync = aesCbcEncryptSync;\nfunction aesCbcDecryptSync(iv, key, data) {\n    let result;\n    if (helpers_1.isNode()) {\n        result = helpers_1.nodeAesDecrypt(iv, key, data);\n    }\n    else {\n        result = helpers_1.fallbackAesDecrypt(iv, key, data);\n    }\n    return result;\n}\nexports.aesCbcDecryptSync = aesCbcDecryptSync;\n//# sourceMappingURL=sync.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.hmacSha512Verify = exports.hmacSha512Sign = exports.hmacSha256Verify = exports.hmacSha256Sign = void 0;\nconst helpers_1 = require(\"../helpers\");\nfunction hmacSha256Sign(key, msg) {\n    return __awaiter(this, void 0, void 0, function* () {\n        let result;\n        if (helpers_1.isBrowser()) {\n            result = yield helpers_1.browserHmacSha256Sign(key, msg);\n        }\n        else if (helpers_1.isNode()) {\n            result = helpers_1.nodeHmacSha256Sign(key, msg);\n        }\n        else {\n            result = helpers_1.fallbackHmacSha256Sign(key, msg);\n        }\n        return result;\n    });\n}\nexports.hmacSha256Sign = hmacSha256Sign;\nfunction hmacSha256Verify(key, msg, sig) {\n    return __awaiter(this, void 0, void 0, function* () {\n        let result;\n        if (helpers_1.isBrowser()) {\n            const expectedSig = yield helpers_1.browserHmacSha256Sign(key, msg);\n            result = helpers_1.isConstantTime(expectedSig, sig);\n        }\n        else if (helpers_1.isNode()) {\n            const expectedSig = helpers_1.nodeHmacSha256Sign(key, msg);\n            result = helpers_1.isConstantTime(expectedSig, sig);\n        }\n        else {\n            const expectedSig = helpers_1.fallbackHmacSha256Sign(key, msg);\n            result = helpers_1.isConstantTime(expectedSig, sig);\n        }\n        return result;\n    });\n}\nexports.hmacSha256Verify = hmacSha256Verify;\nfunction hmacSha512Sign(key, msg) {\n    return __awaiter(this, void 0, void 0, function* () {\n        let result;\n        if (helpers_1.isBrowser()) {\n            result = yield helpers_1.browserHmacSha512Sign(key, msg);\n        }\n        else if (helpers_1.isNode()) {\n            result = helpers_1.nodeHmacSha512Sign(key, msg);\n        }\n        else {\n            result = helpers_1.fallbackHmacSha512Sign(key, msg);\n        }\n        return result;\n    });\n}\nexports.hmacSha512Sign = hmacSha512Sign;\nfunction hmacSha512Verify(key, msg, sig) {\n    return __awaiter(this, void 0, void 0, function* () {\n        let result;\n        if (helpers_1.isNode()) {\n            const expectedSig = helpers_1.nodeHmacSha512Sign(key, msg);\n            result = helpers_1.isConstantTime(expectedSig, sig);\n        }\n        else {\n            const expectedSig = helpers_1.fallbackHmacSha512Sign(key, msg);\n            result = helpers_1.isConstantTime(expectedSig, sig);\n        }\n        return result;\n    });\n}\nexports.hmacSha512Verify = hmacSha512Verify;\n//# sourceMappingURL=async.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.hmacSha512VerifySync = exports.hmacSha512SignSync = exports.hmacSha256VerifySync = exports.hmacSha256SignSync = void 0;\nconst helpers_1 = require(\"../helpers\");\nfunction hmacSha256SignSync(key, msg) {\n    let result;\n    if (helpers_1.isNode()) {\n        result = helpers_1.nodeHmacSha256Sign(key, msg);\n    }\n    else {\n        result = helpers_1.fallbackHmacSha256Sign(key, msg);\n    }\n    return result;\n}\nexports.hmacSha256SignSync = hmacSha256SignSync;\nfunction hmacSha256VerifySync(key, msg, sig) {\n    let result;\n    if (helpers_1.isNode()) {\n        const expectedSig = helpers_1.nodeHmacSha256Sign(key, msg);\n        result = helpers_1.isConstantTime(expectedSig, sig);\n    }\n    else {\n        const expectedSig = helpers_1.fallbackHmacSha256Sign(key, msg);\n        result = helpers_1.isConstantTime(expectedSig, sig);\n    }\n    return result;\n}\nexports.hmacSha256VerifySync = hmacSha256VerifySync;\nfunction hmacSha512SignSync(key, msg) {\n    let result;\n    if (helpers_1.isNode()) {\n        result = helpers_1.nodeHmacSha512Sign(key, msg);\n    }\n    else {\n        result = helpers_1.fallbackHmacSha512Sign(key, msg);\n    }\n    return result;\n}\nexports.hmacSha512SignSync = hmacSha512SignSync;\nfunction hmacSha512VerifySync(key, msg, sig) {\n    let result;\n    if (helpers_1.isNode()) {\n        const expectedSig = helpers_1.nodeHmacSha512Sign(key, msg);\n        result = helpers_1.isConstantTime(expectedSig, sig);\n    }\n    else {\n        const expectedSig = helpers_1.fallbackHmacSha512Sign(key, msg);\n        result = helpers_1.isConstantTime(expectedSig, sig);\n    }\n    return result;\n}\nexports.hmacSha512VerifySync = hmacSha512VerifySync;\n//# sourceMappingURL=sync.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ripemd160 = exports.sha512 = exports.sha256 = void 0;\nconst helpers_1 = require(\"../helpers\");\nfunction sha256(msg) {\n    return __awaiter(this, void 0, void 0, function* () {\n        let result = helpers_1.EMPTY_UINT_ARRAY;\n        if (helpers_1.isBrowser()) {\n            result = yield helpers_1.browserSha256(msg);\n        }\n        else if (helpers_1.isNode()) {\n            result = helpers_1.nodeSha256(msg);\n        }\n        else {\n            result = helpers_1.fallbackSha256(msg);\n        }\n        return result;\n    });\n}\nexports.sha256 = sha256;\nfunction sha512(msg) {\n    return __awaiter(this, void 0, void 0, function* () {\n        let result = helpers_1.EMPTY_UINT_ARRAY;\n        if (helpers_1.isBrowser()) {\n            result = yield helpers_1.browserSha512(msg);\n        }\n        else if (helpers_1.isNode()) {\n            result = helpers_1.nodeSha512(msg);\n        }\n        else {\n            result = helpers_1.fallbackSha512(msg);\n        }\n        return result;\n    });\n}\nexports.sha512 = sha512;\nfunction ripemd160(msg) {\n    return __awaiter(this, void 0, void 0, function* () {\n        let result = helpers_1.EMPTY_UINT_ARRAY;\n        if (helpers_1.isNode()) {\n            result = helpers_1.nodeRipemd160(msg);\n        }\n        else {\n            result = helpers_1.fallbackRipemd160(msg);\n        }\n        return result;\n    });\n}\nexports.ripemd160 = ripemd160;\n//# sourceMappingURL=async.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ripemd160Sync = exports.sha512Sync = exports.sha256Sync = void 0;\nconst helpers_1 = require(\"../helpers\");\nfunction sha256Sync(msg) {\n    let result = helpers_1.EMPTY_UINT_ARRAY;\n    if (helpers_1.isNode()) {\n        result = helpers_1.nodeSha256(msg);\n    }\n    else {\n        result = helpers_1.fallbackSha256(msg);\n    }\n    return result;\n}\nexports.sha256Sync = sha256Sync;\nfunction sha512Sync(msg) {\n    let result = helpers_1.EMPTY_UINT_ARRAY;\n    if (helpers_1.isNode()) {\n        result = helpers_1.nodeSha512(msg);\n    }\n    else {\n        result = helpers_1.fallbackSha512(msg);\n    }\n    return result;\n}\nexports.sha512Sync = sha512Sync;\nfunction ripemd160Sync(msg) {\n    let result = helpers_1.EMPTY_UINT_ARRAY;\n    if (helpers_1.isNode()) {\n        result = helpers_1.nodeRipemd160(msg);\n    }\n    else {\n        result = helpers_1.fallbackRipemd160(msg);\n    }\n    return result;\n}\nexports.ripemd160Sync = ripemd160Sync;\n//# sourceMappingURL=sync.js.map","\"use strict\";\n// Copyright (C) 2016 Dmitry Chestnykh\n// MIT License. See LICENSE file for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar QUOTA = 65536;\nvar BrowserRandomSource = /** @class */ (function () {\n    function BrowserRandomSource() {\n        this.isAvailable = false;\n        this.isInstantiated = false;\n        var browserCrypto = typeof self !== 'undefined'\n            ? (self.crypto || self.msCrypto) // IE11 has msCrypto\n            : null;\n        if (browserCrypto && browserCrypto.getRandomValues) {\n            this._crypto = browserCrypto;\n            this.isAvailable = true;\n            this.isInstantiated = true;\n        }\n    }\n    BrowserRandomSource.prototype.randomBytes = function (length) {\n        if (!this.isAvailable || !this._crypto) {\n            throw new Error(\"Browser random byte generator is not available.\");\n        }\n        var out = new Uint8Array(length);\n        for (var i = 0; i < out.length; i += QUOTA) {\n            this._crypto.getRandomValues(out.subarray(i, i + Math.min(out.length - i, QUOTA)));\n        }\n        return out;\n    };\n    return BrowserRandomSource;\n}());\nexports.BrowserRandomSource = BrowserRandomSource;\n//# sourceMappingURL=browser.js.map","\"use strict\";\n// Copyright (C) 2016 Dmitry Chestnykh\n// MIT License. See LICENSE file for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Sets all values in the given array to zero and returns it.\n *\n * The fact that it sets bytes to zero can be relied on.\n *\n * There is no guarantee that this function makes data disappear from memory,\n * as runtime implementation can, for example, have copying garbage collector\n * that will make copies of sensitive data before we wipe it. Or that an\n * operating system will write our data to swap or sleep image. Another thing\n * is that an optimizing compiler can remove calls to this function or make it\n * no-op. There's nothing we can do with it, so we just do our best and hope\n * that everything will be okay and good will triumph over evil.\n */\nfunction wipe(array) {\n    // Right now it's similar to array.fill(0). If it turns\n    // out that runtimes optimize this call away, maybe\n    // we can try something else.\n    for (var i = 0; i < array.length; i++) {\n        array[i] = 0;\n    }\n    return array;\n}\nexports.wipe = wipe;\n//# sourceMappingURL=wipe.js.map","\"use strict\";\n// Copyright (C) 2016 Dmitry Chestnykh\n// MIT License. See LICENSE file for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar wipe_1 = require(\"@stablelib/wipe\");\nvar NodeRandomSource = /** @class */ (function () {\n    function NodeRandomSource() {\n        this.isAvailable = false;\n        this.isInstantiated = false;\n        if (typeof require !== \"undefined\") {\n            var nodeCrypto = require(\"crypto\");\n            if (nodeCrypto && nodeCrypto.randomBytes) {\n                this._crypto = nodeCrypto;\n                this.isAvailable = true;\n                this.isInstantiated = true;\n            }\n        }\n    }\n    NodeRandomSource.prototype.randomBytes = function (length) {\n        if (!this.isAvailable || !this._crypto) {\n            throw new Error(\"Node.js random byte generator is not available.\");\n        }\n        // Get random bytes (result is Buffer).\n        var buffer = this._crypto.randomBytes(length);\n        // Make sure we got the length that we requested.\n        if (buffer.length !== length) {\n            throw new Error(\"NodeRandomSource: got fewer bytes than requested\");\n        }\n        // Allocate output array.\n        var out = new Uint8Array(length);\n        // Copy bytes from buffer to output.\n        for (var i = 0; i < out.length; i++) {\n            out[i] = buffer[i];\n        }\n        // Cleanup.\n        wipe_1.wipe(buffer);\n        return out;\n    };\n    return NodeRandomSource;\n}());\nexports.NodeRandomSource = NodeRandomSource;\n//# sourceMappingURL=node.js.map","\"use strict\";\n// Copyright (C) 2016 Dmitry Chestnykh\n// MIT License. See LICENSE file for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar browser_1 = require(\"./browser\");\nvar node_1 = require(\"./node\");\nvar SystemRandomSource = /** @class */ (function () {\n    function SystemRandomSource() {\n        this.isAvailable = false;\n        this.name = \"\";\n        // Try browser.\n        this._source = new browser_1.BrowserRandomSource();\n        if (this._source.isAvailable) {\n            this.isAvailable = true;\n            this.name = \"Browser\";\n            return;\n        }\n        // If no browser source, try Node.\n        this._source = new node_1.NodeRandomSource();\n        if (this._source.isAvailable) {\n            this.isAvailable = true;\n            this.name = \"Node\";\n            return;\n        }\n        // No sources, we're out of options.\n    }\n    SystemRandomSource.prototype.randomBytes = function (length) {\n        if (!this.isAvailable) {\n            throw new Error(\"System random byte generator is not available.\");\n        }\n        return this._source.randomBytes(length);\n    };\n    return SystemRandomSource;\n}());\nexports.SystemRandomSource = SystemRandomSource;\n//# sourceMappingURL=system.js.map","\"use strict\";\n// Copyright (C) 2016 Dmitry Chestnykh\n// MIT License. See LICENSE file for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Package int provides helper functions for integerss.\n */\n// Shim using 16-bit pieces.\nfunction imulShim(a, b) {\n    var ah = (a >>> 16) & 0xffff, al = a & 0xffff;\n    var bh = (b >>> 16) & 0xffff, bl = b & 0xffff;\n    return ((al * bl) + (((ah * bl + al * bh) << 16) >>> 0) | 0);\n}\n/** 32-bit integer multiplication.  */\n// Use system Math.imul if available, otherwise use our shim.\nexports.mul = Math.imul || imulShim;\n/** 32-bit integer addition.  */\nfunction add(a, b) {\n    return (a + b) | 0;\n}\nexports.add = add;\n/**  32-bit integer subtraction.  */\nfunction sub(a, b) {\n    return (a - b) | 0;\n}\nexports.sub = sub;\n/** 32-bit integer left rotation */\nfunction rotl(x, n) {\n    return x << n | x >>> (32 - n);\n}\nexports.rotl = rotl;\n/** 32-bit integer left rotation */\nfunction rotr(x, n) {\n    return x << (32 - n) | x >>> n;\n}\nexports.rotr = rotr;\nfunction isIntegerShim(n) {\n    return typeof n === \"number\" && isFinite(n) && Math.floor(n) === n;\n}\n/**\n * Returns true if the argument is an integer number.\n *\n * In ES2015, Number.isInteger.\n */\nexports.isInteger = Number.isInteger || isIntegerShim;\n/**\n *  Math.pow(2, 53) - 1\n *\n *  In ES2015 Number.MAX_SAFE_INTEGER.\n */\nexports.MAX_SAFE_INTEGER = 9007199254740991;\n/**\n * Returns true if the argument is a safe integer number\n * (-MIN_SAFE_INTEGER < number <= MAX_SAFE_INTEGER)\n *\n * In ES2015, Number.isSafeInteger.\n */\nexports.isSafeInteger = function (n) {\n    return exports.isInteger(n) && (n >= -exports.MAX_SAFE_INTEGER && n <= exports.MAX_SAFE_INTEGER);\n};\n//# sourceMappingURL=int.js.map","\"use strict\";\n// Copyright (C) 2016 Dmitry Chestnykh\n// MIT License. See LICENSE file for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Package binary provides functions for encoding and decoding numbers in byte arrays.\n */\nvar int_1 = require(\"@stablelib/int\");\n// TODO(dchest): add asserts for correct value ranges and array offsets.\n/**\n * Reads 2 bytes from array starting at offset as big-endian\n * signed 16-bit integer and returns it.\n */\nfunction readInt16BE(array, offset) {\n    if (offset === void 0) { offset = 0; }\n    return (((array[offset + 0] << 8) | array[offset + 1]) << 16) >> 16;\n}\nexports.readInt16BE = readInt16BE;\n/**\n * Reads 2 bytes from array starting at offset as big-endian\n * unsigned 16-bit integer and returns it.\n */\nfunction readUint16BE(array, offset) {\n    if (offset === void 0) { offset = 0; }\n    return ((array[offset + 0] << 8) | array[offset + 1]) >>> 0;\n}\nexports.readUint16BE = readUint16BE;\n/**\n * Reads 2 bytes from array starting at offset as little-endian\n * signed 16-bit integer and returns it.\n */\nfunction readInt16LE(array, offset) {\n    if (offset === void 0) { offset = 0; }\n    return (((array[offset + 1] << 8) | array[offset]) << 16) >> 16;\n}\nexports.readInt16LE = readInt16LE;\n/**\n * Reads 2 bytes from array starting at offset as little-endian\n * unsigned 16-bit integer and returns it.\n */\nfunction readUint16LE(array, offset) {\n    if (offset === void 0) { offset = 0; }\n    return ((array[offset + 1] << 8) | array[offset]) >>> 0;\n}\nexports.readUint16LE = readUint16LE;\n/**\n * Writes 2-byte big-endian representation of 16-bit unsigned\n * value to byte array starting at offset.\n *\n * If byte array is not given, creates a new 2-byte one.\n *\n * Returns the output byte array.\n */\nfunction writeUint16BE(value, out, offset) {\n    if (out === void 0) { out = new Uint8Array(2); }\n    if (offset === void 0) { offset = 0; }\n    out[offset + 0] = value >>> 8;\n    out[offset + 1] = value >>> 0;\n    return out;\n}\nexports.writeUint16BE = writeUint16BE;\nexports.writeInt16BE = writeUint16BE;\n/**\n * Writes 2-byte little-endian representation of 16-bit unsigned\n * value to array starting at offset.\n *\n * If byte array is not given, creates a new 2-byte one.\n *\n * Returns the output byte array.\n */\nfunction writeUint16LE(value, out, offset) {\n    if (out === void 0) { out = new Uint8Array(2); }\n    if (offset === void 0) { offset = 0; }\n    out[offset + 0] = value >>> 0;\n    out[offset + 1] = value >>> 8;\n    return out;\n}\nexports.writeUint16LE = writeUint16LE;\nexports.writeInt16LE = writeUint16LE;\n/**\n * Reads 4 bytes from array starting at offset as big-endian\n * signed 32-bit integer and returns it.\n */\nfunction readInt32BE(array, offset) {\n    if (offset === void 0) { offset = 0; }\n    return (array[offset] << 24) |\n        (array[offset + 1] << 16) |\n        (array[offset + 2] << 8) |\n        array[offset + 3];\n}\nexports.readInt32BE = readInt32BE;\n/**\n * Reads 4 bytes from array starting at offset as big-endian\n * unsigned 32-bit integer and returns it.\n */\nfunction readUint32BE(array, offset) {\n    if (offset === void 0) { offset = 0; }\n    return ((array[offset] << 24) |\n        (array[offset + 1] << 16) |\n        (array[offset + 2] << 8) |\n        array[offset + 3]) >>> 0;\n}\nexports.readUint32BE = readUint32BE;\n/**\n * Reads 4 bytes from array starting at offset as little-endian\n * signed 32-bit integer and returns it.\n */\nfunction readInt32LE(array, offset) {\n    if (offset === void 0) { offset = 0; }\n    return (array[offset + 3] << 24) |\n        (array[offset + 2] << 16) |\n        (array[offset + 1] << 8) |\n        array[offset];\n}\nexports.readInt32LE = readInt32LE;\n/**\n * Reads 4 bytes from array starting at offset as little-endian\n * unsigned 32-bit integer and returns it.\n */\nfunction readUint32LE(array, offset) {\n    if (offset === void 0) { offset = 0; }\n    return ((array[offset + 3] << 24) |\n        (array[offset + 2] << 16) |\n        (array[offset + 1] << 8) |\n        array[offset]) >>> 0;\n}\nexports.readUint32LE = readUint32LE;\n/**\n * Writes 4-byte big-endian representation of 32-bit unsigned\n * value to byte array starting at offset.\n *\n * If byte array is not given, creates a new 4-byte one.\n *\n * Returns the output byte array.\n */\nfunction writeUint32BE(value, out, offset) {\n    if (out === void 0) { out = new Uint8Array(4); }\n    if (offset === void 0) { offset = 0; }\n    out[offset + 0] = value >>> 24;\n    out[offset + 1] = value >>> 16;\n    out[offset + 2] = value >>> 8;\n    out[offset + 3] = value >>> 0;\n    return out;\n}\nexports.writeUint32BE = writeUint32BE;\nexports.writeInt32BE = writeUint32BE;\n/**\n * Writes 4-byte little-endian representation of 32-bit unsigned\n * value to array starting at offset.\n *\n * If byte array is not given, creates a new 4-byte one.\n *\n * Returns the output byte array.\n */\nfunction writeUint32LE(value, out, offset) {\n    if (out === void 0) { out = new Uint8Array(4); }\n    if (offset === void 0) { offset = 0; }\n    out[offset + 0] = value >>> 0;\n    out[offset + 1] = value >>> 8;\n    out[offset + 2] = value >>> 16;\n    out[offset + 3] = value >>> 24;\n    return out;\n}\nexports.writeUint32LE = writeUint32LE;\nexports.writeInt32LE = writeUint32LE;\n/**\n * Reads 8 bytes from array starting at offset as big-endian\n * signed 64-bit integer and returns it.\n *\n * IMPORTANT: due to JavaScript limitation, supports exact\n * numbers in range -9007199254740991 to 9007199254740991.\n * If the number stored in the byte array is outside this range,\n * the result is not exact.\n */\nfunction readInt64BE(array, offset) {\n    if (offset === void 0) { offset = 0; }\n    var hi = readInt32BE(array, offset);\n    var lo = readInt32BE(array, offset + 4);\n    return hi * 0x100000000 + lo - ((lo >> 31) * 0x100000000);\n}\nexports.readInt64BE = readInt64BE;\n/**\n * Reads 8 bytes from array starting at offset as big-endian\n * unsigned 64-bit integer and returns it.\n *\n * IMPORTANT: due to JavaScript limitation, supports values up to 2^53-1.\n */\nfunction readUint64BE(array, offset) {\n    if (offset === void 0) { offset = 0; }\n    var hi = readUint32BE(array, offset);\n    var lo = readUint32BE(array, offset + 4);\n    return hi * 0x100000000 + lo;\n}\nexports.readUint64BE = readUint64BE;\n/**\n * Reads 8 bytes from array starting at offset as little-endian\n * signed 64-bit integer and returns it.\n *\n * IMPORTANT: due to JavaScript limitation, supports exact\n * numbers in range -9007199254740991 to 9007199254740991.\n * If the number stored in the byte array is outside this range,\n * the result is not exact.\n */\nfunction readInt64LE(array, offset) {\n    if (offset === void 0) { offset = 0; }\n    var lo = readInt32LE(array, offset);\n    var hi = readInt32LE(array, offset + 4);\n    return hi * 0x100000000 + lo - ((lo >> 31) * 0x100000000);\n}\nexports.readInt64LE = readInt64LE;\n/**\n * Reads 8 bytes from array starting at offset as little-endian\n * unsigned 64-bit integer and returns it.\n *\n * IMPORTANT: due to JavaScript limitation, supports values up to 2^53-1.\n */\nfunction readUint64LE(array, offset) {\n    if (offset === void 0) { offset = 0; }\n    var lo = readUint32LE(array, offset);\n    var hi = readUint32LE(array, offset + 4);\n    return hi * 0x100000000 + lo;\n}\nexports.readUint64LE = readUint64LE;\n/**\n * Writes 8-byte big-endian representation of 64-bit unsigned\n * value to byte array starting at offset.\n *\n * Due to JavaScript limitation, supports values up to 2^53-1.\n *\n * If byte array is not given, creates a new 8-byte one.\n *\n * Returns the output byte array.\n */\nfunction writeUint64BE(value, out, offset) {\n    if (out === void 0) { out = new Uint8Array(8); }\n    if (offset === void 0) { offset = 0; }\n    writeUint32BE(value / 0x100000000 >>> 0, out, offset);\n    writeUint32BE(value >>> 0, out, offset + 4);\n    return out;\n}\nexports.writeUint64BE = writeUint64BE;\nexports.writeInt64BE = writeUint64BE;\n/**\n * Writes 8-byte little-endian representation of 64-bit unsigned\n * value to byte array starting at offset.\n *\n * Due to JavaScript limitation, supports values up to 2^53-1.\n *\n * If byte array is not given, creates a new 8-byte one.\n *\n * Returns the output byte array.\n */\nfunction writeUint64LE(value, out, offset) {\n    if (out === void 0) { out = new Uint8Array(8); }\n    if (offset === void 0) { offset = 0; }\n    writeUint32LE(value >>> 0, out, offset);\n    writeUint32LE(value / 0x100000000 >>> 0, out, offset + 4);\n    return out;\n}\nexports.writeUint64LE = writeUint64LE;\nexports.writeInt64LE = writeUint64LE;\n/**\n * Reads bytes from array starting at offset as big-endian\n * unsigned bitLen-bit integer and returns it.\n *\n * Supports bit lengths divisible by 8, up to 48.\n */\nfunction readUintBE(bitLength, array, offset) {\n    if (offset === void 0) { offset = 0; }\n    // TODO(dchest): implement support for bitLengths non-divisible by 8\n    if (bitLength % 8 !== 0) {\n        throw new Error(\"readUintBE supports only bitLengths divisible by 8\");\n    }\n    if (bitLength / 8 > array.length - offset) {\n        throw new Error(\"readUintBE: array is too short for the given bitLength\");\n    }\n    var result = 0;\n    var mul = 1;\n    for (var i = bitLength / 8 + offset - 1; i >= offset; i--) {\n        result += array[i] * mul;\n        mul *= 256;\n    }\n    return result;\n}\nexports.readUintBE = readUintBE;\n/**\n * Reads bytes from array starting at offset as little-endian\n * unsigned bitLen-bit integer and returns it.\n *\n * Supports bit lengths divisible by 8, up to 48.\n */\nfunction readUintLE(bitLength, array, offset) {\n    if (offset === void 0) { offset = 0; }\n    // TODO(dchest): implement support for bitLengths non-divisible by 8\n    if (bitLength % 8 !== 0) {\n        throw new Error(\"readUintLE supports only bitLengths divisible by 8\");\n    }\n    if (bitLength / 8 > array.length - offset) {\n        throw new Error(\"readUintLE: array is too short for the given bitLength\");\n    }\n    var result = 0;\n    var mul = 1;\n    for (var i = offset; i < offset + bitLength / 8; i++) {\n        result += array[i] * mul;\n        mul *= 256;\n    }\n    return result;\n}\nexports.readUintLE = readUintLE;\n/**\n * Writes a big-endian representation of bitLen-bit unsigned\n * value to array starting at offset.\n *\n * Supports bit lengths divisible by 8, up to 48.\n *\n * If byte array is not given, creates a new one.\n *\n * Returns the output byte array.\n */\nfunction writeUintBE(bitLength, value, out, offset) {\n    if (out === void 0) { out = new Uint8Array(bitLength / 8); }\n    if (offset === void 0) { offset = 0; }\n    // TODO(dchest): implement support for bitLengths non-divisible by 8\n    if (bitLength % 8 !== 0) {\n        throw new Error(\"writeUintBE supports only bitLengths divisible by 8\");\n    }\n    if (!int_1.isSafeInteger(value)) {\n        throw new Error(\"writeUintBE value must be an integer\");\n    }\n    var div = 1;\n    for (var i = bitLength / 8 + offset - 1; i >= offset; i--) {\n        out[i] = (value / div) & 0xff;\n        div *= 256;\n    }\n    return out;\n}\nexports.writeUintBE = writeUintBE;\n/**\n * Writes a little-endian representation of bitLen-bit unsigned\n * value to array starting at offset.\n *\n * Supports bit lengths divisible by 8, up to 48.\n *\n * If byte array is not given, creates a new one.\n *\n * Returns the output byte array.\n */\nfunction writeUintLE(bitLength, value, out, offset) {\n    if (out === void 0) { out = new Uint8Array(bitLength / 8); }\n    if (offset === void 0) { offset = 0; }\n    // TODO(dchest): implement support for bitLengths non-divisible by 8\n    if (bitLength % 8 !== 0) {\n        throw new Error(\"writeUintLE supports only bitLengths divisible by 8\");\n    }\n    if (!int_1.isSafeInteger(value)) {\n        throw new Error(\"writeUintLE value must be an integer\");\n    }\n    var div = 1;\n    for (var i = offset; i < offset + bitLength / 8; i++) {\n        out[i] = (value / div) & 0xff;\n        div *= 256;\n    }\n    return out;\n}\nexports.writeUintLE = writeUintLE;\n/**\n * Reads 4 bytes from array starting at offset as big-endian\n * 32-bit floating-point number and returns it.\n */\nfunction readFloat32BE(array, offset) {\n    if (offset === void 0) { offset = 0; }\n    var view = new DataView(array.buffer, array.byteOffset, array.byteLength);\n    return view.getFloat32(offset);\n}\nexports.readFloat32BE = readFloat32BE;\n/**\n * Reads 4 bytes from array starting at offset as little-endian\n * 32-bit floating-point number and returns it.\n */\nfunction readFloat32LE(array, offset) {\n    if (offset === void 0) { offset = 0; }\n    var view = new DataView(array.buffer, array.byteOffset, array.byteLength);\n    return view.getFloat32(offset, true);\n}\nexports.readFloat32LE = readFloat32LE;\n/**\n * Reads 8 bytes from array starting at offset as big-endian\n * 64-bit floating-point number (\"double\") and returns it.\n */\nfunction readFloat64BE(array, offset) {\n    if (offset === void 0) { offset = 0; }\n    var view = new DataView(array.buffer, array.byteOffset, array.byteLength);\n    return view.getFloat64(offset);\n}\nexports.readFloat64BE = readFloat64BE;\n/**\n * Reads 8 bytes from array starting at offset as little-endian\n * 64-bit floating-point number (\"double\") and returns it.\n */\nfunction readFloat64LE(array, offset) {\n    if (offset === void 0) { offset = 0; }\n    var view = new DataView(array.buffer, array.byteOffset, array.byteLength);\n    return view.getFloat64(offset, true);\n}\nexports.readFloat64LE = readFloat64LE;\n/**\n * Writes 4-byte big-endian floating-point representation of value\n * to byte array starting at offset.\n *\n * If byte array is not given, creates a new 4-byte one.\n *\n * Returns the output byte array.\n */\nfunction writeFloat32BE(value, out, offset) {\n    if (out === void 0) { out = new Uint8Array(4); }\n    if (offset === void 0) { offset = 0; }\n    var view = new DataView(out.buffer, out.byteOffset, out.byteLength);\n    view.setFloat32(offset, value);\n    return out;\n}\nexports.writeFloat32BE = writeFloat32BE;\n/**\n * Writes 4-byte little-endian floating-point representation of value\n * to byte array starting at offset.\n *\n * If byte array is not given, creates a new 4-byte one.\n *\n * Returns the output byte array.\n */\nfunction writeFloat32LE(value, out, offset) {\n    if (out === void 0) { out = new Uint8Array(4); }\n    if (offset === void 0) { offset = 0; }\n    var view = new DataView(out.buffer, out.byteOffset, out.byteLength);\n    view.setFloat32(offset, value, true);\n    return out;\n}\nexports.writeFloat32LE = writeFloat32LE;\n/**\n * Writes 8-byte big-endian floating-point representation of value\n * to byte array starting at offset.\n *\n * If byte array is not given, creates a new 8-byte one.\n *\n * Returns the output byte array.\n */\nfunction writeFloat64BE(value, out, offset) {\n    if (out === void 0) { out = new Uint8Array(8); }\n    if (offset === void 0) { offset = 0; }\n    var view = new DataView(out.buffer, out.byteOffset, out.byteLength);\n    view.setFloat64(offset, value);\n    return out;\n}\nexports.writeFloat64BE = writeFloat64BE;\n/**\n * Writes 8-byte little-endian floating-point representation of value\n * to byte array starting at offset.\n *\n * If byte array is not given, creates a new 8-byte one.\n *\n * Returns the output byte array.\n */\nfunction writeFloat64LE(value, out, offset) {\n    if (out === void 0) { out = new Uint8Array(8); }\n    if (offset === void 0) { offset = 0; }\n    var view = new DataView(out.buffer, out.byteOffset, out.byteLength);\n    view.setFloat64(offset, value, true);\n    return out;\n}\nexports.writeFloat64LE = writeFloat64LE;\n//# sourceMappingURL=binary.js.map","\"use strict\";\n// Copyright (C) 2016 Dmitry Chestnykh\n// MIT License. See LICENSE file for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar system_1 = require(\"./source/system\");\nvar binary_1 = require(\"@stablelib/binary\");\nvar wipe_1 = require(\"@stablelib/wipe\");\nexports.defaultRandomSource = new system_1.SystemRandomSource();\nfunction randomBytes(length, prng) {\n    if (prng === void 0) { prng = exports.defaultRandomSource; }\n    return prng.randomBytes(length);\n}\nexports.randomBytes = randomBytes;\n/**\n * Returns a uniformly random unsigned 32-bit integer.\n */\nfunction randomUint32(prng) {\n    if (prng === void 0) { prng = exports.defaultRandomSource; }\n    // Generate 4-byte random buffer.\n    var buf = randomBytes(4, prng);\n    // Convert bytes from buffer into a 32-bit integer.\n    // It's not important which byte order to use, since\n    // the result is random.\n    var result = binary_1.readUint32LE(buf);\n    // Clean the buffer.\n    wipe_1.wipe(buf);\n    return result;\n}\nexports.randomUint32 = randomUint32;\n/** 62 alphanumeric characters for default charset of randomString() */\nvar ALPHANUMERIC = \"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz\";\n/**\n * Returns a uniform random string of the given length\n * with characters from the given charset.\n *\n * Charset must not have more than 256 characters.\n *\n * Default charset generates case-sensitive alphanumeric\n * strings (0-9, A-Z, a-z).\n */\nfunction randomString(length, charset, prng) {\n    if (charset === void 0) { charset = ALPHANUMERIC; }\n    if (prng === void 0) { prng = exports.defaultRandomSource; }\n    if (charset.length < 2) {\n        throw new Error(\"randomString charset is too short\");\n    }\n    if (charset.length > 256) {\n        throw new Error(\"randomString charset is too long\");\n    }\n    var out = '';\n    var charsLen = charset.length;\n    var maxByte = 256 - (256 % charsLen);\n    while (length > 0) {\n        var buf = randomBytes(Math.ceil(length * 256 / maxByte), prng);\n        for (var i = 0; i < buf.length && length > 0; i++) {\n            var randomByte = buf[i];\n            if (randomByte < maxByte) {\n                out += charset.charAt(randomByte % charsLen);\n                length--;\n            }\n        }\n        wipe_1.wipe(buf);\n    }\n    return out;\n}\nexports.randomString = randomString;\n/**\n * Returns uniform random string containing at least the given\n * number of bits of entropy.\n *\n * For example, randomStringForEntropy(128) will return a 22-character\n * alphanumeric string, while randomStringForEntropy(128, \"0123456789\")\n * will return a 39-character numeric string, both will contain at\n * least 128 bits of entropy.\n *\n * Default charset generates case-sensitive alphanumeric\n * strings (0-9, A-Z, a-z).\n */\nfunction randomStringForEntropy(bits, charset, prng) {\n    if (charset === void 0) { charset = ALPHANUMERIC; }\n    if (prng === void 0) { prng = exports.defaultRandomSource; }\n    var length = Math.ceil(bits / (Math.log(charset.length) / Math.LN2));\n    return randomString(length, charset, prng);\n}\nexports.randomStringForEntropy = randomStringForEntropy;\n//# sourceMappingURL=random.js.map","\"use strict\";\n// Copyright (C) 2016 Dmitry Chestnykh\n// MIT License. See LICENSE file for details.\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Package x25519 implements X25519 key agreement.\n */\nvar random_1 = require(\"@stablelib/random\");\nvar wipe_1 = require(\"@stablelib/wipe\");\nexports.PUBLIC_KEY_LENGTH = 32;\nexports.SECRET_KEY_LENGTH = 32;\nexports.SHARED_KEY_LENGTH = 32;\n// Returns new zero-filled 16-element GF (Float64Array).\n// If passed an array of numbers, prefills the returned\n// array with them.\n//\n// We use Float64Array, because we need 48-bit numbers\n// for this implementation.\nfunction gf(init) {\n    var r = new Float64Array(16);\n    if (init) {\n        for (var i = 0; i < init.length; i++) {\n            r[i] = init[i];\n        }\n    }\n    return r;\n}\n// Base point.\nvar _9 = new Uint8Array(32);\n_9[0] = 9;\nvar _121665 = gf([0xdb41, 1]);\nfunction car25519(o) {\n    var c = 1;\n    for (var i = 0; i < 16; i++) {\n        var v = o[i] + c + 65535;\n        c = Math.floor(v / 65536);\n        o[i] = v - c * 65536;\n    }\n    o[0] += c - 1 + 37 * (c - 1);\n}\nfunction sel25519(p, q, b) {\n    var c = ~(b - 1);\n    for (var i = 0; i < 16; i++) {\n        var t = c & (p[i] ^ q[i]);\n        p[i] ^= t;\n        q[i] ^= t;\n    }\n}\nfunction pack25519(o, n) {\n    var m = gf();\n    var t = gf();\n    for (var i = 0; i < 16; i++) {\n        t[i] = n[i];\n    }\n    car25519(t);\n    car25519(t);\n    car25519(t);\n    for (var j = 0; j < 2; j++) {\n        m[0] = t[0] - 0xffed;\n        for (var i = 1; i < 15; i++) {\n            m[i] = t[i] - 0xffff - ((m[i - 1] >> 16) & 1);\n            m[i - 1] &= 0xffff;\n        }\n        m[15] = t[15] - 0x7fff - ((m[14] >> 16) & 1);\n        var b = (m[15] >> 16) & 1;\n        m[14] &= 0xffff;\n        sel25519(t, m, 1 - b);\n    }\n    for (var i = 0; i < 16; i++) {\n        o[2 * i] = t[i] & 0xff;\n        o[2 * i + 1] = t[i] >> 8;\n    }\n}\nfunction unpack25519(o, n) {\n    for (var i = 0; i < 16; i++) {\n        o[i] = n[2 * i] + (n[2 * i + 1] << 8);\n    }\n    o[15] &= 0x7fff;\n}\nfunction add(o, a, b) {\n    for (var i = 0; i < 16; i++) {\n        o[i] = a[i] + b[i];\n    }\n}\nfunction sub(o, a, b) {\n    for (var i = 0; i < 16; i++) {\n        o[i] = a[i] - b[i];\n    }\n}\nfunction mul(o, a, b) {\n    var v, c, t0 = 0, t1 = 0, t2 = 0, t3 = 0, t4 = 0, t5 = 0, t6 = 0, t7 = 0, t8 = 0, t9 = 0, t10 = 0, t11 = 0, t12 = 0, t13 = 0, t14 = 0, t15 = 0, t16 = 0, t17 = 0, t18 = 0, t19 = 0, t20 = 0, t21 = 0, t22 = 0, t23 = 0, t24 = 0, t25 = 0, t26 = 0, t27 = 0, t28 = 0, t29 = 0, t30 = 0, b0 = b[0], b1 = b[1], b2 = b[2], b3 = b[3], b4 = b[4], b5 = b[5], b6 = b[6], b7 = b[7], b8 = b[8], b9 = b[9], b10 = b[10], b11 = b[11], b12 = b[12], b13 = b[13], b14 = b[14], b15 = b[15];\n    v = a[0];\n    t0 += v * b0;\n    t1 += v * b1;\n    t2 += v * b2;\n    t3 += v * b3;\n    t4 += v * b4;\n    t5 += v * b5;\n    t6 += v * b6;\n    t7 += v * b7;\n    t8 += v * b8;\n    t9 += v * b9;\n    t10 += v * b10;\n    t11 += v * b11;\n    t12 += v * b12;\n    t13 += v * b13;\n    t14 += v * b14;\n    t15 += v * b15;\n    v = a[1];\n    t1 += v * b0;\n    t2 += v * b1;\n    t3 += v * b2;\n    t4 += v * b3;\n    t5 += v * b4;\n    t6 += v * b5;\n    t7 += v * b6;\n    t8 += v * b7;\n    t9 += v * b8;\n    t10 += v * b9;\n    t11 += v * b10;\n    t12 += v * b11;\n    t13 += v * b12;\n    t14 += v * b13;\n    t15 += v * b14;\n    t16 += v * b15;\n    v = a[2];\n    t2 += v * b0;\n    t3 += v * b1;\n    t4 += v * b2;\n    t5 += v * b3;\n    t6 += v * b4;\n    t7 += v * b5;\n    t8 += v * b6;\n    t9 += v * b7;\n    t10 += v * b8;\n    t11 += v * b9;\n    t12 += v * b10;\n    t13 += v * b11;\n    t14 += v * b12;\n    t15 += v * b13;\n    t16 += v * b14;\n    t17 += v * b15;\n    v = a[3];\n    t3 += v * b0;\n    t4 += v * b1;\n    t5 += v * b2;\n    t6 += v * b3;\n    t7 += v * b4;\n    t8 += v * b5;\n    t9 += v * b6;\n    t10 += v * b7;\n    t11 += v * b8;\n    t12 += v * b9;\n    t13 += v * b10;\n    t14 += v * b11;\n    t15 += v * b12;\n    t16 += v * b13;\n    t17 += v * b14;\n    t18 += v * b15;\n    v = a[4];\n    t4 += v * b0;\n    t5 += v * b1;\n    t6 += v * b2;\n    t7 += v * b3;\n    t8 += v * b4;\n    t9 += v * b5;\n    t10 += v * b6;\n    t11 += v * b7;\n    t12 += v * b8;\n    t13 += v * b9;\n    t14 += v * b10;\n    t15 += v * b11;\n    t16 += v * b12;\n    t17 += v * b13;\n    t18 += v * b14;\n    t19 += v * b15;\n    v = a[5];\n    t5 += v * b0;\n    t6 += v * b1;\n    t7 += v * b2;\n    t8 += v * b3;\n    t9 += v * b4;\n    t10 += v * b5;\n    t11 += v * b6;\n    t12 += v * b7;\n    t13 += v * b8;\n    t14 += v * b9;\n    t15 += v * b10;\n    t16 += v * b11;\n    t17 += v * b12;\n    t18 += v * b13;\n    t19 += v * b14;\n    t20 += v * b15;\n    v = a[6];\n    t6 += v * b0;\n    t7 += v * b1;\n    t8 += v * b2;\n    t9 += v * b3;\n    t10 += v * b4;\n    t11 += v * b5;\n    t12 += v * b6;\n    t13 += v * b7;\n    t14 += v * b8;\n    t15 += v * b9;\n    t16 += v * b10;\n    t17 += v * b11;\n    t18 += v * b12;\n    t19 += v * b13;\n    t20 += v * b14;\n    t21 += v * b15;\n    v = a[7];\n    t7 += v * b0;\n    t8 += v * b1;\n    t9 += v * b2;\n    t10 += v * b3;\n    t11 += v * b4;\n    t12 += v * b5;\n    t13 += v * b6;\n    t14 += v * b7;\n    t15 += v * b8;\n    t16 += v * b9;\n    t17 += v * b10;\n    t18 += v * b11;\n    t19 += v * b12;\n    t20 += v * b13;\n    t21 += v * b14;\n    t22 += v * b15;\n    v = a[8];\n    t8 += v * b0;\n    t9 += v * b1;\n    t10 += v * b2;\n    t11 += v * b3;\n    t12 += v * b4;\n    t13 += v * b5;\n    t14 += v * b6;\n    t15 += v * b7;\n    t16 += v * b8;\n    t17 += v * b9;\n    t18 += v * b10;\n    t19 += v * b11;\n    t20 += v * b12;\n    t21 += v * b13;\n    t22 += v * b14;\n    t23 += v * b15;\n    v = a[9];\n    t9 += v * b0;\n    t10 += v * b1;\n    t11 += v * b2;\n    t12 += v * b3;\n    t13 += v * b4;\n    t14 += v * b5;\n    t15 += v * b6;\n    t16 += v * b7;\n    t17 += v * b8;\n    t18 += v * b9;\n    t19 += v * b10;\n    t20 += v * b11;\n    t21 += v * b12;\n    t22 += v * b13;\n    t23 += v * b14;\n    t24 += v * b15;\n    v = a[10];\n    t10 += v * b0;\n    t11 += v * b1;\n    t12 += v * b2;\n    t13 += v * b3;\n    t14 += v * b4;\n    t15 += v * b5;\n    t16 += v * b6;\n    t17 += v * b7;\n    t18 += v * b8;\n    t19 += v * b9;\n    t20 += v * b10;\n    t21 += v * b11;\n    t22 += v * b12;\n    t23 += v * b13;\n    t24 += v * b14;\n    t25 += v * b15;\n    v = a[11];\n    t11 += v * b0;\n    t12 += v * b1;\n    t13 += v * b2;\n    t14 += v * b3;\n    t15 += v * b4;\n    t16 += v * b5;\n    t17 += v * b6;\n    t18 += v * b7;\n    t19 += v * b8;\n    t20 += v * b9;\n    t21 += v * b10;\n    t22 += v * b11;\n    t23 += v * b12;\n    t24 += v * b13;\n    t25 += v * b14;\n    t26 += v * b15;\n    v = a[12];\n    t12 += v * b0;\n    t13 += v * b1;\n    t14 += v * b2;\n    t15 += v * b3;\n    t16 += v * b4;\n    t17 += v * b5;\n    t18 += v * b6;\n    t19 += v * b7;\n    t20 += v * b8;\n    t21 += v * b9;\n    t22 += v * b10;\n    t23 += v * b11;\n    t24 += v * b12;\n    t25 += v * b13;\n    t26 += v * b14;\n    t27 += v * b15;\n    v = a[13];\n    t13 += v * b0;\n    t14 += v * b1;\n    t15 += v * b2;\n    t16 += v * b3;\n    t17 += v * b4;\n    t18 += v * b5;\n    t19 += v * b6;\n    t20 += v * b7;\n    t21 += v * b8;\n    t22 += v * b9;\n    t23 += v * b10;\n    t24 += v * b11;\n    t25 += v * b12;\n    t26 += v * b13;\n    t27 += v * b14;\n    t28 += v * b15;\n    v = a[14];\n    t14 += v * b0;\n    t15 += v * b1;\n    t16 += v * b2;\n    t17 += v * b3;\n    t18 += v * b4;\n    t19 += v * b5;\n    t20 += v * b6;\n    t21 += v * b7;\n    t22 += v * b8;\n    t23 += v * b9;\n    t24 += v * b10;\n    t25 += v * b11;\n    t26 += v * b12;\n    t27 += v * b13;\n    t28 += v * b14;\n    t29 += v * b15;\n    v = a[15];\n    t15 += v * b0;\n    t16 += v * b1;\n    t17 += v * b2;\n    t18 += v * b3;\n    t19 += v * b4;\n    t20 += v * b5;\n    t21 += v * b6;\n    t22 += v * b7;\n    t23 += v * b8;\n    t24 += v * b9;\n    t25 += v * b10;\n    t26 += v * b11;\n    t27 += v * b12;\n    t28 += v * b13;\n    t29 += v * b14;\n    t30 += v * b15;\n    t0 += 38 * t16;\n    t1 += 38 * t17;\n    t2 += 38 * t18;\n    t3 += 38 * t19;\n    t4 += 38 * t20;\n    t5 += 38 * t21;\n    t6 += 38 * t22;\n    t7 += 38 * t23;\n    t8 += 38 * t24;\n    t9 += 38 * t25;\n    t10 += 38 * t26;\n    t11 += 38 * t27;\n    t12 += 38 * t28;\n    t13 += 38 * t29;\n    t14 += 38 * t30;\n    // t15 left as is\n    // first car\n    c = 1;\n    v = t0 + c + 65535;\n    c = Math.floor(v / 65536);\n    t0 = v - c * 65536;\n    v = t1 + c + 65535;\n    c = Math.floor(v / 65536);\n    t1 = v - c * 65536;\n    v = t2 + c + 65535;\n    c = Math.floor(v / 65536);\n    t2 = v - c * 65536;\n    v = t3 + c + 65535;\n    c = Math.floor(v / 65536);\n    t3 = v - c * 65536;\n    v = t4 + c + 65535;\n    c = Math.floor(v / 65536);\n    t4 = v - c * 65536;\n    v = t5 + c + 65535;\n    c = Math.floor(v / 65536);\n    t5 = v - c * 65536;\n    v = t6 + c + 65535;\n    c = Math.floor(v / 65536);\n    t6 = v - c * 65536;\n    v = t7 + c + 65535;\n    c = Math.floor(v / 65536);\n    t7 = v - c * 65536;\n    v = t8 + c + 65535;\n    c = Math.floor(v / 65536);\n    t8 = v - c * 65536;\n    v = t9 + c + 65535;\n    c = Math.floor(v / 65536);\n    t9 = v - c * 65536;\n    v = t10 + c + 65535;\n    c = Math.floor(v / 65536);\n    t10 = v - c * 65536;\n    v = t11 + c + 65535;\n    c = Math.floor(v / 65536);\n    t11 = v - c * 65536;\n    v = t12 + c + 65535;\n    c = Math.floor(v / 65536);\n    t12 = v - c * 65536;\n    v = t13 + c + 65535;\n    c = Math.floor(v / 65536);\n    t13 = v - c * 65536;\n    v = t14 + c + 65535;\n    c = Math.floor(v / 65536);\n    t14 = v - c * 65536;\n    v = t15 + c + 65535;\n    c = Math.floor(v / 65536);\n    t15 = v - c * 65536;\n    t0 += c - 1 + 37 * (c - 1);\n    // second car\n    c = 1;\n    v = t0 + c + 65535;\n    c = Math.floor(v / 65536);\n    t0 = v - c * 65536;\n    v = t1 + c + 65535;\n    c = Math.floor(v / 65536);\n    t1 = v - c * 65536;\n    v = t2 + c + 65535;\n    c = Math.floor(v / 65536);\n    t2 = v - c * 65536;\n    v = t3 + c + 65535;\n    c = Math.floor(v / 65536);\n    t3 = v - c * 65536;\n    v = t4 + c + 65535;\n    c = Math.floor(v / 65536);\n    t4 = v - c * 65536;\n    v = t5 + c + 65535;\n    c = Math.floor(v / 65536);\n    t5 = v - c * 65536;\n    v = t6 + c + 65535;\n    c = Math.floor(v / 65536);\n    t6 = v - c * 65536;\n    v = t7 + c + 65535;\n    c = Math.floor(v / 65536);\n    t7 = v - c * 65536;\n    v = t8 + c + 65535;\n    c = Math.floor(v / 65536);\n    t8 = v - c * 65536;\n    v = t9 + c + 65535;\n    c = Math.floor(v / 65536);\n    t9 = v - c * 65536;\n    v = t10 + c + 65535;\n    c = Math.floor(v / 65536);\n    t10 = v - c * 65536;\n    v = t11 + c + 65535;\n    c = Math.floor(v / 65536);\n    t11 = v - c * 65536;\n    v = t12 + c + 65535;\n    c = Math.floor(v / 65536);\n    t12 = v - c * 65536;\n    v = t13 + c + 65535;\n    c = Math.floor(v / 65536);\n    t13 = v - c * 65536;\n    v = t14 + c + 65535;\n    c = Math.floor(v / 65536);\n    t14 = v - c * 65536;\n    v = t15 + c + 65535;\n    c = Math.floor(v / 65536);\n    t15 = v - c * 65536;\n    t0 += c - 1 + 37 * (c - 1);\n    o[0] = t0;\n    o[1] = t1;\n    o[2] = t2;\n    o[3] = t3;\n    o[4] = t4;\n    o[5] = t5;\n    o[6] = t6;\n    o[7] = t7;\n    o[8] = t8;\n    o[9] = t9;\n    o[10] = t10;\n    o[11] = t11;\n    o[12] = t12;\n    o[13] = t13;\n    o[14] = t14;\n    o[15] = t15;\n}\nfunction square(o, a) {\n    mul(o, a, a);\n}\nfunction inv25519(o, inp) {\n    var c = gf();\n    for (var i = 0; i < 16; i++) {\n        c[i] = inp[i];\n    }\n    for (var i = 253; i >= 0; i--) {\n        square(c, c);\n        if (i !== 2 && i !== 4) {\n            mul(c, c, inp);\n        }\n    }\n    for (var i = 0; i < 16; i++) {\n        o[i] = c[i];\n    }\n}\nfunction scalarMult(n, p) {\n    var z = new Uint8Array(32);\n    var x = new Float64Array(80);\n    var a = gf(), b = gf(), c = gf(), d = gf(), e = gf(), f = gf();\n    for (var i = 0; i < 31; i++) {\n        z[i] = n[i];\n    }\n    z[31] = (n[31] & 127) | 64;\n    z[0] &= 248;\n    unpack25519(x, p);\n    for (var i = 0; i < 16; i++) {\n        b[i] = x[i];\n    }\n    a[0] = d[0] = 1;\n    for (var i = 254; i >= 0; --i) {\n        var r = (z[i >>> 3] >>> (i & 7)) & 1;\n        sel25519(a, b, r);\n        sel25519(c, d, r);\n        add(e, a, c);\n        sub(a, a, c);\n        add(c, b, d);\n        sub(b, b, d);\n        square(d, e);\n        square(f, a);\n        mul(a, c, a);\n        mul(c, b, e);\n        add(e, a, c);\n        sub(a, a, c);\n        square(b, a);\n        sub(c, d, f);\n        mul(a, c, _121665);\n        add(a, a, d);\n        mul(c, c, a);\n        mul(a, d, f);\n        mul(d, b, x);\n        square(b, e);\n        sel25519(a, b, r);\n        sel25519(c, d, r);\n    }\n    for (var i = 0; i < 16; i++) {\n        x[i + 16] = a[i];\n        x[i + 32] = c[i];\n        x[i + 48] = b[i];\n        x[i + 64] = d[i];\n    }\n    var x32 = x.subarray(32);\n    var x16 = x.subarray(16);\n    inv25519(x32, x32);\n    mul(x16, x16, x32);\n    var q = new Uint8Array(32);\n    pack25519(q, x16);\n    return q;\n}\nexports.scalarMult = scalarMult;\nfunction scalarMultBase(n) {\n    return scalarMult(n, _9);\n}\nexports.scalarMultBase = scalarMultBase;\nfunction generateKeyPairFromSeed(seed) {\n    if (seed.length !== exports.SECRET_KEY_LENGTH) {\n        throw new Error(\"x25519: seed must be \" + exports.SECRET_KEY_LENGTH + \" bytes\");\n    }\n    var secretKey = new Uint8Array(seed);\n    var publicKey = scalarMultBase(secretKey);\n    return {\n        publicKey: publicKey,\n        secretKey: secretKey\n    };\n}\nexports.generateKeyPairFromSeed = generateKeyPairFromSeed;\nfunction generateKeyPair(prng) {\n    var seed = random_1.randomBytes(32, prng);\n    var result = generateKeyPairFromSeed(seed);\n    wipe_1.wipe(seed);\n    return result;\n}\nexports.generateKeyPair = generateKeyPair;\n/**\n * Returns a shared key between our secret key and a peer's public key.\n *\n * Throws an error if the given keys are of wrong length.\n *\n * If rejectZero is true throws if the calculated shared key is all-zero.\n * From RFC 7748:\n *\n * > Protocol designers using Diffie-Hellman over the curves defined in\n * > this document must not assume \"contributory behavior\".  Specially,\n * > contributory behavior means that both parties' private keys\n * > contribute to the resulting shared key.  Since curve25519 and\n * > curve448 have cofactors of 8 and 4 (respectively), an input point of\n * > small order will eliminate any contribution from the other party's\n * > private key.  This situation can be detected by checking for the all-\n * > zero output, which implementations MAY do, as specified in Section 6.\n * > However, a large number of existing implementations do not do this.\n *\n * IMPORTANT: the returned key is a raw result of scalar multiplication.\n * To use it as a key material, hash it with a cryptographic hash function.\n */\nfunction sharedKey(mySecretKey, theirPublicKey, rejectZero) {\n    if (rejectZero === void 0) { rejectZero = false; }\n    if (mySecretKey.length !== exports.PUBLIC_KEY_LENGTH) {\n        throw new Error(\"X25519: incorrect secret key length\");\n    }\n    if (theirPublicKey.length !== exports.PUBLIC_KEY_LENGTH) {\n        throw new Error(\"X25519: incorrect public key length\");\n    }\n    var result = scalarMult(mySecretKey, theirPublicKey);\n    if (rejectZero) {\n        var zeros = 0;\n        for (var i = 0; i < result.length; i++) {\n            zeros |= result[i];\n        }\n        if (zeros === 0) {\n            throw new Error(\"X25519: invalid shared key\");\n        }\n    }\n    return result;\n}\nexports.sharedKey = sharedKey;\n//# sourceMappingURL=x25519.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __setModuleDefault = (this && this.__setModuleDefault) || (Object.create ? (function(o, v) {\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\n}) : function(o, v) {\n    o[\"default\"] = v;\n});\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n    __setModuleDefault(result, mod);\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.deserialize = exports.serialize = exports.getMacKey = exports.getEncryptionKey = exports.getSharedKey = exports.getSenderKeyPair = exports.generateKeyPair = exports.generatePnrgFromEntropy = exports.derive = void 0;\nconst x25519 = __importStar(require(\"@stablelib/x25519\"));\nconst enc_utils_1 = require(\"enc-utils\");\nconst iso_crypto_1 = require(\"@pedrouid/iso-crypto\");\nfunction derive(privateKey, publicKey) {\n    return x25519.sharedKey(privateKey, publicKey);\n}\nexports.derive = derive;\nfunction generatePnrgFromEntropy(entropy) {\n    return {\n        isAvailable: true,\n        randomBytes: () => entropy,\n    };\n}\nexports.generatePnrgFromEntropy = generatePnrgFromEntropy;\nfunction generateKeyPair(entropy) {\n    const prng = typeof entropy !== 'undefined'\n        ? generatePnrgFromEntropy(entropy)\n        : undefined;\n    const keyPair = x25519.generateKeyPair(prng);\n    return {\n        publicKey: keyPair.publicKey,\n        privateKey: keyPair.secretKey,\n    };\n}\nexports.generateKeyPair = generateKeyPair;\nfunction getSenderKeyPair(opts) {\n    const keyPair = (opts === null || opts === void 0 ? void 0 : opts.sender) || generateKeyPair();\n    return {\n        privateKey: keyPair.privateKey,\n        publicKey: keyPair.publicKey,\n    };\n}\nexports.getSenderKeyPair = getSenderKeyPair;\nfunction getSharedKey(privateKey, publicKey) {\n    return derive(privateKey, publicKey);\n}\nexports.getSharedKey = getSharedKey;\nfunction getEncryptionKey(hash) {\n    return new Uint8Array(hash.slice(iso_crypto_1.LENGTH_0, iso_crypto_1.KEY_LENGTH));\n}\nexports.getEncryptionKey = getEncryptionKey;\nfunction getMacKey(hash) {\n    return new Uint8Array(hash.slice(iso_crypto_1.KEY_LENGTH));\n}\nexports.getMacKey = getMacKey;\nfunction serialize(opts) {\n    return enc_utils_1.concatArrays(opts.iv, opts.publicKey, opts.mac, opts.ciphertext);\n}\nexports.serialize = serialize;\nfunction deserialize(arr) {\n    const slice0 = iso_crypto_1.LENGTH_0;\n    const slice1 = slice0 + iso_crypto_1.IV_LENGTH;\n    const slice2 = slice1 + iso_crypto_1.KEY_LENGTH;\n    const slice3 = slice2 + iso_crypto_1.MAC_LENGTH;\n    const slice4 = arr.length;\n    return {\n        iv: arr.slice(slice0, slice1),\n        publicKey: arr.slice(slice1, slice2),\n        mac: arr.slice(slice2, slice3),\n        ciphertext: arr.slice(slice3, slice4),\n    };\n}\nexports.deserialize = deserialize;\n//# sourceMappingURL=index.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.decrypt = exports.decryptWithSharedKey = exports.encrypt = exports.encryptWithSharedKey = void 0;\nconst iso_crypto_1 = require(\"@pedrouid/iso-crypto\");\nconst enc_utils_1 = require(\"enc-utils\");\nconst shared_1 = require(\"./shared\");\nfunction getEciesKeys(sharedKey) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const hash = yield iso_crypto_1.sha512(sharedKey);\n        return { encryptionKey: shared_1.getEncryptionKey(hash), macKey: shared_1.getMacKey(hash) };\n    });\n}\nfunction encryptWithSharedKey(msg, sharedKey, publicKey, iv = iso_crypto_1.randomBytes(iso_crypto_1.IV_LENGTH)) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const { encryptionKey, macKey } = yield getEciesKeys(sharedKey);\n        const ciphertext = yield iso_crypto_1.aesCbcEncrypt(iv, encryptionKey, msg);\n        const dataToMac = enc_utils_1.concatArrays(iv, publicKey, ciphertext);\n        const mac = yield iso_crypto_1.hmacSha256Sign(macKey, dataToMac);\n        return shared_1.serialize({ iv, publicKey, ciphertext, mac });\n    });\n}\nexports.encryptWithSharedKey = encryptWithSharedKey;\nfunction encrypt(msg, receiverPublicKey, opts) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const { publicKey, privateKey } = shared_1.getSenderKeyPair(opts);\n        const sharedKey = shared_1.getSharedKey(privateKey, receiverPublicKey);\n        return encryptWithSharedKey(msg, sharedKey, publicKey, opts === null || opts === void 0 ? void 0 : opts.iv);\n    });\n}\nexports.encrypt = encrypt;\nfunction decryptWithSharedKey(encrypted, sharedKey) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const { iv, publicKey, mac, ciphertext } = shared_1.deserialize(encrypted);\n        const { encryptionKey, macKey } = yield getEciesKeys(sharedKey);\n        const dataToMac = enc_utils_1.concatArrays(iv, publicKey, ciphertext);\n        const macTest = yield iso_crypto_1.hmacSha256Verify(macKey, dataToMac, mac);\n        iso_crypto_1.assert(macTest, iso_crypto_1.ERROR_BAD_MAC);\n        const msg = yield iso_crypto_1.aesCbcDecrypt(iv, encryptionKey, ciphertext);\n        return msg;\n    });\n}\nexports.decryptWithSharedKey = decryptWithSharedKey;\nfunction decrypt(encrypted, privateKey) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const { publicKey } = shared_1.deserialize(encrypted);\n        const sharedKey = shared_1.getSharedKey(privateKey, publicKey);\n        return decryptWithSharedKey(encrypted, sharedKey);\n    });\n}\nexports.decrypt = decrypt;\n//# sourceMappingURL=async.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.decryptSync = exports.decryptWithSharedKeySync = exports.encryptSync = exports.encryptWithSharedKeySync = void 0;\nconst iso_crypto_1 = require(\"@pedrouid/iso-crypto\");\nconst enc_utils_1 = require(\"enc-utils\");\nconst shared_1 = require(\"./shared\");\nfunction getEciesKeysSync(sharedKey) {\n    const hash = iso_crypto_1.sha512Sync(sharedKey);\n    return { encryptionKey: shared_1.getEncryptionKey(hash), macKey: shared_1.getMacKey(hash) };\n}\nfunction encryptWithSharedKeySync(msg, sharedKey, publicKey, iv = iso_crypto_1.randomBytes(iso_crypto_1.IV_LENGTH)) {\n    const { encryptionKey, macKey } = getEciesKeysSync(sharedKey);\n    const ciphertext = iso_crypto_1.aesCbcEncryptSync(iv, encryptionKey, msg);\n    const dataToMac = enc_utils_1.concatArrays(iv, publicKey, ciphertext);\n    const mac = iso_crypto_1.hmacSha256SignSync(macKey, dataToMac);\n    return shared_1.serialize({ iv, publicKey, ciphertext, mac });\n}\nexports.encryptWithSharedKeySync = encryptWithSharedKeySync;\nfunction encryptSync(msg, receiverPublicKey, opts) {\n    const { publicKey, privateKey } = shared_1.getSenderKeyPair(opts);\n    const sharedKey = shared_1.getSharedKey(privateKey, receiverPublicKey);\n    return encryptWithSharedKeySync(msg, sharedKey, publicKey, opts === null || opts === void 0 ? void 0 : opts.iv);\n}\nexports.encryptSync = encryptSync;\nfunction decryptWithSharedKeySync(encrypted, sharedKey) {\n    const { iv, publicKey, mac, ciphertext } = shared_1.deserialize(encrypted);\n    const { encryptionKey, macKey } = getEciesKeysSync(sharedKey);\n    const dataToMac = enc_utils_1.concatArrays(iv, publicKey, ciphertext);\n    const macTest = iso_crypto_1.hmacSha256VerifySync(macKey, dataToMac, mac);\n    iso_crypto_1.assert(macTest, iso_crypto_1.ERROR_BAD_MAC);\n    const msg = iso_crypto_1.aesCbcDecryptSync(iv, encryptionKey, ciphertext);\n    return msg;\n}\nexports.decryptWithSharedKeySync = decryptWithSharedKeySync;\nfunction decryptSync(encrypted, privateKey) {\n    const { publicKey } = shared_1.deserialize(encrypted);\n    const sharedKey = shared_1.getSharedKey(privateKey, publicKey);\n    return decryptWithSharedKeySync(encrypted, sharedKey);\n}\nexports.decryptSync = decryptSync;\n//# sourceMappingURL=sync.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.decrypt = exports.encrypt = exports.sha256 = exports.deriveSharedKey = exports.generateRandomBytes32 = exports.generateKeyPair = void 0;\nconst tslib_1 = require(\"tslib\");\nconst eccies25519 = tslib_1.__importStar(require(\"ecies-25519\"));\nconst encUtils = tslib_1.__importStar(require(\"enc-utils\"));\nfunction generateKeyPair() {\n    const keyPair = eccies25519.generateKeyPair();\n    return {\n        privateKey: encUtils.arrayToHex(keyPair.privateKey),\n        publicKey: encUtils.arrayToHex(keyPair.publicKey),\n    };\n}\nexports.generateKeyPair = generateKeyPair;\nfunction generateRandomBytes32() {\n    return encUtils.arrayToHex(eccies25519.randomBytes(32));\n}\nexports.generateRandomBytes32 = generateRandomBytes32;\nfunction deriveSharedKey(privateKeyA, publicKeyB) {\n    const sharedKey = eccies25519.derive(encUtils.hexToArray(privateKeyA), encUtils.hexToArray(publicKeyB));\n    return encUtils.arrayToHex(sharedKey);\n}\nexports.deriveSharedKey = deriveSharedKey;\nfunction sha256(msg) {\n    return tslib_1.__awaiter(this, void 0, void 0, function* () {\n        const hash = yield eccies25519.sha256(encUtils.hexToArray(msg));\n        return encUtils.arrayToHex(hash);\n    });\n}\nexports.sha256 = sha256;\nfunction encrypt(params) {\n    return tslib_1.__awaiter(this, void 0, void 0, function* () {\n        const msg = encUtils.utf8ToArray(params.message);\n        const sharedKey = encUtils.hexToArray(params.sharedKey);\n        const publicKey = encUtils.hexToArray(params.publicKey);\n        const iv = typeof params.iv !== \"undefined\" ? encUtils.hexToArray(params.iv) : undefined;\n        const encrypted = yield eccies25519.encryptWithSharedKey(msg, sharedKey, publicKey, iv);\n        return encUtils.arrayToHex(encrypted);\n    });\n}\nexports.encrypt = encrypt;\nfunction decrypt(params) {\n    return tslib_1.__awaiter(this, void 0, void 0, function* () {\n        const encrypted = encUtils.hexToArray(params.encrypted);\n        const sharedKey = encUtils.hexToArray(params.sharedKey);\n        const msg = yield eccies25519.decryptWithSharedKey(encrypted, sharedKey);\n        return encUtils.arrayToUtf8(msg);\n    });\n}\nexports.decrypt = decrypt;\n//# sourceMappingURL=crypto.js.map","'use strict';\nmodule.exports = str => encodeURIComponent(str).replace(/[!'()*]/g, x => `%${x.charCodeAt(0).toString(16).toUpperCase()}`);\n","'use strict';\nvar token = '%[a-f0-9]{2}';\nvar singleMatcher = new RegExp(token, 'gi');\nvar multiMatcher = new RegExp('(' + token + ')+', 'gi');\n\nfunction decodeComponents(components, split) {\n\ttry {\n\t\t// Try to decode the entire string first\n\t\treturn decodeURIComponent(components.join(''));\n\t} catch (err) {\n\t\t// Do nothing\n\t}\n\n\tif (components.length === 1) {\n\t\treturn components;\n\t}\n\n\tsplit = split || 1;\n\n\t// Split the array in 2 parts\n\tvar left = components.slice(0, split);\n\tvar right = components.slice(split);\n\n\treturn Array.prototype.concat.call([], decodeComponents(left), decodeComponents(right));\n}\n\nfunction decode(input) {\n\ttry {\n\t\treturn decodeURIComponent(input);\n\t} catch (err) {\n\t\tvar tokens = input.match(singleMatcher);\n\n\t\tfor (var i = 1; i < tokens.length; i++) {\n\t\t\tinput = decodeComponents(tokens, i).join('');\n\n\t\t\ttokens = input.match(singleMatcher);\n\t\t}\n\n\t\treturn input;\n\t}\n}\n\nfunction customDecodeURIComponent(input) {\n\t// Keep track of all the replacements and prefill the map with the `BOM`\n\tvar replaceMap = {\n\t\t'%FE%FF': '\\uFFFD\\uFFFD',\n\t\t'%FF%FE': '\\uFFFD\\uFFFD'\n\t};\n\n\tvar match = multiMatcher.exec(input);\n\twhile (match) {\n\t\ttry {\n\t\t\t// Decode as big chunks as possible\n\t\t\treplaceMap[match[0]] = decodeURIComponent(match[0]);\n\t\t} catch (err) {\n\t\t\tvar result = decode(match[0]);\n\n\t\t\tif (result !== match[0]) {\n\t\t\t\treplaceMap[match[0]] = result;\n\t\t\t}\n\t\t}\n\n\t\tmatch = multiMatcher.exec(input);\n\t}\n\n\t// Add `%C2` at the end of the map to make sure it does not replace the combinator before everything else\n\treplaceMap['%C2'] = '\\uFFFD';\n\n\tvar entries = Object.keys(replaceMap);\n\n\tfor (var i = 0; i < entries.length; i++) {\n\t\t// Replace all decoded components\n\t\tvar key = entries[i];\n\t\tinput = input.replace(new RegExp(key, 'g'), replaceMap[key]);\n\t}\n\n\treturn input;\n}\n\nmodule.exports = function (encodedURI) {\n\tif (typeof encodedURI !== 'string') {\n\t\tthrow new TypeError('Expected `encodedURI` to be of type `string`, got `' + typeof encodedURI + '`');\n\t}\n\n\ttry {\n\t\tencodedURI = encodedURI.replace(/\\+/g, ' ');\n\n\t\t// Try the built in decoder first\n\t\treturn decodeURIComponent(encodedURI);\n\t} catch (err) {\n\t\t// Fallback to a more advanced decoder\n\t\treturn customDecodeURIComponent(encodedURI);\n\t}\n};\n","'use strict';\n\nmodule.exports = (string, separator) => {\n\tif (!(typeof string === 'string' && typeof separator === 'string')) {\n\t\tthrow new TypeError('Expected the arguments to be of type `string`');\n\t}\n\n\tif (separator === '') {\n\t\treturn [string];\n\t}\n\n\tconst separatorIndex = string.indexOf(separator);\n\n\tif (separatorIndex === -1) {\n\t\treturn [string];\n\t}\n\n\treturn [\n\t\tstring.slice(0, separatorIndex),\n\t\tstring.slice(separatorIndex + separator.length)\n\t];\n};\n","'use strict';\nmodule.exports = function (obj, predicate) {\n\tvar ret = {};\n\tvar keys = Object.keys(obj);\n\tvar isArr = Array.isArray(predicate);\n\n\tfor (var i = 0; i < keys.length; i++) {\n\t\tvar key = keys[i];\n\t\tvar val = obj[key];\n\n\t\tif (isArr ? predicate.indexOf(key) !== -1 : predicate(key, val, obj)) {\n\t\t\tret[key] = val;\n\t\t}\n\t}\n\n\treturn ret;\n};\n","'use strict';\nconst strictUriEncode = require('strict-uri-encode');\nconst decodeComponent = require('decode-uri-component');\nconst splitOnFirst = require('split-on-first');\nconst filterObject = require('filter-obj');\n\nconst isNullOrUndefined = value => value === null || value === undefined;\n\nfunction encoderForArrayFormat(options) {\n\tswitch (options.arrayFormat) {\n\t\tcase 'index':\n\t\t\treturn key => (result, value) => {\n\t\t\t\tconst index = result.length;\n\n\t\t\t\tif (\n\t\t\t\t\tvalue === undefined ||\n\t\t\t\t\t(options.skipNull && value === null) ||\n\t\t\t\t\t(options.skipEmptyString && value === '')\n\t\t\t\t) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\tif (value === null) {\n\t\t\t\t\treturn [...result, [encode(key, options), '[', index, ']'].join('')];\n\t\t\t\t}\n\n\t\t\t\treturn [\n\t\t\t\t\t...result,\n\t\t\t\t\t[encode(key, options), '[', encode(index, options), ']=', encode(value, options)].join('')\n\t\t\t\t];\n\t\t\t};\n\n\t\tcase 'bracket':\n\t\t\treturn key => (result, value) => {\n\t\t\t\tif (\n\t\t\t\t\tvalue === undefined ||\n\t\t\t\t\t(options.skipNull && value === null) ||\n\t\t\t\t\t(options.skipEmptyString && value === '')\n\t\t\t\t) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\tif (value === null) {\n\t\t\t\t\treturn [...result, [encode(key, options), '[]'].join('')];\n\t\t\t\t}\n\n\t\t\t\treturn [...result, [encode(key, options), '[]=', encode(value, options)].join('')];\n\t\t\t};\n\n\t\tcase 'comma':\n\t\tcase 'separator':\n\t\t\treturn key => (result, value) => {\n\t\t\t\tif (value === null || value === undefined || value.length === 0) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\tif (result.length === 0) {\n\t\t\t\t\treturn [[encode(key, options), '=', encode(value, options)].join('')];\n\t\t\t\t}\n\n\t\t\t\treturn [[result, encode(value, options)].join(options.arrayFormatSeparator)];\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn key => (result, value) => {\n\t\t\t\tif (\n\t\t\t\t\tvalue === undefined ||\n\t\t\t\t\t(options.skipNull && value === null) ||\n\t\t\t\t\t(options.skipEmptyString && value === '')\n\t\t\t\t) {\n\t\t\t\t\treturn result;\n\t\t\t\t}\n\n\t\t\t\tif (value === null) {\n\t\t\t\t\treturn [...result, encode(key, options)];\n\t\t\t\t}\n\n\t\t\t\treturn [...result, [encode(key, options), '=', encode(value, options)].join('')];\n\t\t\t};\n\t}\n}\n\nfunction parserForArrayFormat(options) {\n\tlet result;\n\n\tswitch (options.arrayFormat) {\n\t\tcase 'index':\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tresult = /\\[(\\d*)\\]$/.exec(key);\n\n\t\t\t\tkey = key.replace(/\\[\\d*\\]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = {};\n\t\t\t\t}\n\n\t\t\t\taccumulator[key][result[1]] = value;\n\t\t\t};\n\n\t\tcase 'bracket':\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tresult = /(\\[\\])$/.exec(key);\n\t\t\t\tkey = key.replace(/\\[\\]$/, '');\n\n\t\t\t\tif (!result) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = [value];\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\n\t\tcase 'comma':\n\t\tcase 'separator':\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tconst isArray = typeof value === 'string' && value.includes(options.arrayFormatSeparator);\n\t\t\t\tconst isEncodedArray = (typeof value === 'string' && !isArray && decode(value, options).includes(options.arrayFormatSeparator));\n\t\t\t\tvalue = isEncodedArray ? decode(value, options) : value;\n\t\t\t\tconst newValue = isArray || isEncodedArray ? value.split(options.arrayFormatSeparator).map(item => decode(item, options)) : value === null ? value : decode(value, options);\n\t\t\t\taccumulator[key] = newValue;\n\t\t\t};\n\n\t\tdefault:\n\t\t\treturn (key, value, accumulator) => {\n\t\t\t\tif (accumulator[key] === undefined) {\n\t\t\t\t\taccumulator[key] = value;\n\t\t\t\t\treturn;\n\t\t\t\t}\n\n\t\t\t\taccumulator[key] = [].concat(accumulator[key], value);\n\t\t\t};\n\t}\n}\n\nfunction validateArrayFormatSeparator(value) {\n\tif (typeof value !== 'string' || value.length !== 1) {\n\t\tthrow new TypeError('arrayFormatSeparator must be single character string');\n\t}\n}\n\nfunction encode(value, options) {\n\tif (options.encode) {\n\t\treturn options.strict ? strictUriEncode(value) : encodeURIComponent(value);\n\t}\n\n\treturn value;\n}\n\nfunction decode(value, options) {\n\tif (options.decode) {\n\t\treturn decodeComponent(value);\n\t}\n\n\treturn value;\n}\n\nfunction keysSorter(input) {\n\tif (Array.isArray(input)) {\n\t\treturn input.sort();\n\t}\n\n\tif (typeof input === 'object') {\n\t\treturn keysSorter(Object.keys(input))\n\t\t\t.sort((a, b) => Number(a) - Number(b))\n\t\t\t.map(key => input[key]);\n\t}\n\n\treturn input;\n}\n\nfunction removeHash(input) {\n\tconst hashStart = input.indexOf('#');\n\tif (hashStart !== -1) {\n\t\tinput = input.slice(0, hashStart);\n\t}\n\n\treturn input;\n}\n\nfunction getHash(url) {\n\tlet hash = '';\n\tconst hashStart = url.indexOf('#');\n\tif (hashStart !== -1) {\n\t\thash = url.slice(hashStart);\n\t}\n\n\treturn hash;\n}\n\nfunction extract(input) {\n\tinput = removeHash(input);\n\tconst queryStart = input.indexOf('?');\n\tif (queryStart === -1) {\n\t\treturn '';\n\t}\n\n\treturn input.slice(queryStart + 1);\n}\n\nfunction parseValue(value, options) {\n\tif (options.parseNumbers && !Number.isNaN(Number(value)) && (typeof value === 'string' && value.trim() !== '')) {\n\t\tvalue = Number(value);\n\t} else if (options.parseBooleans && value !== null && (value.toLowerCase() === 'true' || value.toLowerCase() === 'false')) {\n\t\tvalue = value.toLowerCase() === 'true';\n\t}\n\n\treturn value;\n}\n\nfunction parse(query, options) {\n\toptions = Object.assign({\n\t\tdecode: true,\n\t\tsort: true,\n\t\tarrayFormat: 'none',\n\t\tarrayFormatSeparator: ',',\n\t\tparseNumbers: false,\n\t\tparseBooleans: false\n\t}, options);\n\n\tvalidateArrayFormatSeparator(options.arrayFormatSeparator);\n\n\tconst formatter = parserForArrayFormat(options);\n\n\t// Create an object with no prototype\n\tconst ret = Object.create(null);\n\n\tif (typeof query !== 'string') {\n\t\treturn ret;\n\t}\n\n\tquery = query.trim().replace(/^[?#&]/, '');\n\n\tif (!query) {\n\t\treturn ret;\n\t}\n\n\tfor (const param of query.split('&')) {\n\t\tif (param === '') {\n\t\t\tcontinue;\n\t\t}\n\n\t\tlet [key, value] = splitOnFirst(options.decode ? param.replace(/\\+/g, ' ') : param, '=');\n\n\t\t// Missing `=` should be `null`:\n\t\t// http://w3.org/TR/2012/WD-url-20120524/#collect-url-parameters\n\t\tvalue = value === undefined ? null : ['comma', 'separator'].includes(options.arrayFormat) ? value : decode(value, options);\n\t\tformatter(decode(key, options), value, ret);\n\t}\n\n\tfor (const key of Object.keys(ret)) {\n\t\tconst value = ret[key];\n\t\tif (typeof value === 'object' && value !== null) {\n\t\t\tfor (const k of Object.keys(value)) {\n\t\t\t\tvalue[k] = parseValue(value[k], options);\n\t\t\t}\n\t\t} else {\n\t\t\tret[key] = parseValue(value, options);\n\t\t}\n\t}\n\n\tif (options.sort === false) {\n\t\treturn ret;\n\t}\n\n\treturn (options.sort === true ? Object.keys(ret).sort() : Object.keys(ret).sort(options.sort)).reduce((result, key) => {\n\t\tconst value = ret[key];\n\t\tif (Boolean(value) && typeof value === 'object' && !Array.isArray(value)) {\n\t\t\t// Sort object keys, not values\n\t\t\tresult[key] = keysSorter(value);\n\t\t} else {\n\t\t\tresult[key] = value;\n\t\t}\n\n\t\treturn result;\n\t}, Object.create(null));\n}\n\nexports.extract = extract;\nexports.parse = parse;\n\nexports.stringify = (object, options) => {\n\tif (!object) {\n\t\treturn '';\n\t}\n\n\toptions = Object.assign({\n\t\tencode: true,\n\t\tstrict: true,\n\t\tarrayFormat: 'none',\n\t\tarrayFormatSeparator: ','\n\t}, options);\n\n\tvalidateArrayFormatSeparator(options.arrayFormatSeparator);\n\n\tconst shouldFilter = key => (\n\t\t(options.skipNull && isNullOrUndefined(object[key])) ||\n\t\t(options.skipEmptyString && object[key] === '')\n\t);\n\n\tconst formatter = encoderForArrayFormat(options);\n\n\tconst objectCopy = {};\n\n\tfor (const key of Object.keys(object)) {\n\t\tif (!shouldFilter(key)) {\n\t\t\tobjectCopy[key] = object[key];\n\t\t}\n\t}\n\n\tconst keys = Object.keys(objectCopy);\n\n\tif (options.sort !== false) {\n\t\tkeys.sort(options.sort);\n\t}\n\n\treturn keys.map(key => {\n\t\tconst value = object[key];\n\n\t\tif (value === undefined) {\n\t\t\treturn '';\n\t\t}\n\n\t\tif (value === null) {\n\t\t\treturn encode(key, options);\n\t\t}\n\n\t\tif (Array.isArray(value)) {\n\t\t\treturn value\n\t\t\t\t.reduce(formatter(key), [])\n\t\t\t\t.join('&');\n\t\t}\n\n\t\treturn encode(key, options) + '=' + encode(value, options);\n\t}).filter(x => x.length > 0).join('&');\n};\n\nexports.parseUrl = (url, options) => {\n\toptions = Object.assign({\n\t\tdecode: true\n\t}, options);\n\n\tconst [url_, hash] = splitOnFirst(url, '#');\n\n\treturn Object.assign(\n\t\t{\n\t\t\turl: url_.split('?')[0] || '',\n\t\t\tquery: parse(extract(url), options)\n\t\t},\n\t\toptions && options.parseFragmentIdentifier && hash ? {fragmentIdentifier: decode(hash, options)} : {}\n\t);\n};\n\nexports.stringifyUrl = (object, options) => {\n\toptions = Object.assign({\n\t\tencode: true,\n\t\tstrict: true\n\t}, options);\n\n\tconst url = removeHash(object.url).split('?')[0] || '';\n\tconst queryFromUrl = exports.extract(object.url);\n\tconst parsedQueryFromUrl = exports.parse(queryFromUrl, {sort: false});\n\n\tconst query = Object.assign(parsedQueryFromUrl, object.query);\n\tlet queryString = exports.stringify(query, options);\n\tif (queryString) {\n\t\tqueryString = `?${queryString}`;\n\t}\n\n\tlet hash = getHash(object.url);\n\tif (object.fragmentIdentifier) {\n\t\thash = `#${encode(object.fragmentIdentifier, options)}`;\n\t}\n\n\treturn `${url}${queryString}${hash}`;\n};\n\nexports.pick = (input, filter, options) => {\n\toptions = Object.assign({\n\t\tparseFragmentIdentifier: true\n\t}, options);\n\n\tconst {url, query, fragmentIdentifier} = exports.parseUrl(input, options);\n\treturn exports.stringifyUrl({\n\t\turl,\n\t\tquery: filterObject(query, filter),\n\t\tfragmentIdentifier\n\t}, options);\n};\n\nexports.exclude = (input, filter, options) => {\n\tconst exclusionFilter = Array.isArray(filter) ? key => !filter.includes(key) : (key, value) => !filter(key, value);\n\n\treturn exports.pick(input, exclusionFilter, options);\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction getFromWindow(name) {\n    let res = undefined;\n    if (typeof window !== 'undefined' && typeof window[name] !== 'undefined') {\n        res = window[name];\n    }\n    return res;\n}\nexports.getFromWindow = getFromWindow;\nfunction getFromWindowOrThrow(name) {\n    const res = getFromWindow(name);\n    if (!res) {\n        throw new Error(`${name} is not defined in Window`);\n    }\n    return res;\n}\nexports.getFromWindowOrThrow = getFromWindowOrThrow;\nfunction getDocumentOrThrow() {\n    return getFromWindowOrThrow('document');\n}\nexports.getDocumentOrThrow = getDocumentOrThrow;\nfunction getDocument() {\n    return getFromWindow('document');\n}\nexports.getDocument = getDocument;\nfunction getNavigatorOrThrow() {\n    return getFromWindowOrThrow('navigator');\n}\nexports.getNavigatorOrThrow = getNavigatorOrThrow;\nfunction getNavigator() {\n    return getFromWindow('navigator');\n}\nexports.getNavigator = getNavigator;\nfunction getLocationOrThrow() {\n    return getFromWindowOrThrow('location');\n}\nexports.getLocationOrThrow = getLocationOrThrow;\nfunction getLocation() {\n    return getFromWindow('location');\n}\nexports.getLocation = getLocation;\nfunction getCryptoOrThrow() {\n    return getFromWindowOrThrow('crypto');\n}\nexports.getCryptoOrThrow = getCryptoOrThrow;\nfunction getCrypto() {\n    return getFromWindow('crypto');\n}\nexports.getCrypto = getCrypto;\nfunction getLocalStorageOrThrow() {\n    return getFromWindowOrThrow('localStorage');\n}\nexports.getLocalStorageOrThrow = getLocalStorageOrThrow;\nfunction getLocalStorage() {\n    return getFromWindow('localStorage');\n}\nexports.getLocalStorage = getLocalStorage;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst window_getters_1 = require(\"window-getters\");\nfunction getWindowMetadata() {\n    let doc;\n    let loc;\n    try {\n        doc = window_getters_1.getDocumentOrThrow();\n        loc = window_getters_1.getLocationOrThrow();\n    }\n    catch (e) {\n        return null;\n    }\n    function getIcons() {\n        const links = doc.getElementsByTagName('link');\n        const icons = [];\n        for (let i = 0; i < links.length; i++) {\n            const link = links[i];\n            const rel = link.getAttribute('rel');\n            if (rel) {\n                if (rel.toLowerCase().indexOf('icon') > -1) {\n                    const href = link.getAttribute('href');\n                    if (href) {\n                        if (href.toLowerCase().indexOf('https:') === -1 &&\n                            href.toLowerCase().indexOf('http:') === -1 &&\n                            href.indexOf('//') !== 0) {\n                            let absoluteHref = loc.protocol + '//' + loc.host;\n                            if (href.indexOf('/') === 0) {\n                                absoluteHref += href;\n                            }\n                            else {\n                                const path = loc.pathname.split('/');\n                                path.pop();\n                                const finalPath = path.join('/');\n                                absoluteHref += finalPath + '/' + href;\n                            }\n                            icons.push(absoluteHref);\n                        }\n                        else if (href.indexOf('//') === 0) {\n                            const absoluteUrl = loc.protocol + href;\n                            icons.push(absoluteUrl);\n                        }\n                        else {\n                            icons.push(href);\n                        }\n                    }\n                }\n            }\n        }\n        return icons;\n    }\n    function getWindowMetadataOfAny(...args) {\n        const metaTags = doc.getElementsByTagName('meta');\n        for (let i = 0; i < metaTags.length; i++) {\n            const tag = metaTags[i];\n            const attributes = ['itemprop', 'property', 'name']\n                .map((target) => tag.getAttribute(target))\n                .filter((attr) => {\n                if (attr) {\n                    return args.includes(attr);\n                }\n                return false;\n            });\n            if (attributes.length && attributes) {\n                const content = tag.getAttribute('content');\n                if (content) {\n                    return content;\n                }\n            }\n        }\n        return '';\n    }\n    function getName() {\n        let name = getWindowMetadataOfAny('name', 'og:site_name', 'og:title', 'twitter:title');\n        if (!name) {\n            name = doc.title;\n        }\n        return name;\n    }\n    function getDescription() {\n        const description = getWindowMetadataOfAny('description', 'og:description', 'twitter:description', 'keywords');\n        return description;\n    }\n    const name = getName();\n    const description = getDescription();\n    const url = loc.origin;\n    const icons = getIcons();\n    const meta = {\n        description,\n        url,\n        icons,\n        name,\n    };\n    return meta;\n}\nexports.getWindowMetadata = getWindowMetadata;\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.capitalize = exports.capitalizeWord = exports.enumify = exports.mapEntries = exports.objToMap = exports.mapToObj = exports.assertType = exports.formatRelayRpcUrl = exports.getRelayClientMetadata = exports.getAppMetadata = exports.appendToQueryString = exports.getEnvironment = exports.isBrowser = exports.isReactNative = exports.isNode = void 0;\nconst tslib_1 = require(\"tslib\");\nconst qs = tslib_1.__importStar(require(\"query-string\"));\nconst window_metadata_1 = require(\"window-metadata\");\nconst window_getters_1 = require(\"window-getters\");\nfunction isNode() {\n    return (typeof process !== \"undefined\" &&\n        typeof process.versions !== \"undefined\" &&\n        typeof process.versions.node !== \"undefined\");\n}\nexports.isNode = isNode;\nfunction isReactNative() {\n    return !window_getters_1.getDocument() && !!window_getters_1.getNavigator() && navigator.product === \"ReactNative\";\n}\nexports.isReactNative = isReactNative;\nfunction isBrowser() {\n    return !isNode() && !!window_getters_1.getNavigator();\n}\nexports.isBrowser = isBrowser;\nfunction getEnvironment() {\n    if (isReactNative())\n        return \"react-native\";\n    if (isNode())\n        return \"node\";\n    if (isBrowser())\n        return \"browser\";\n    return \"unknown\";\n}\nexports.getEnvironment = getEnvironment;\nfunction appendToQueryString(queryString, newQueryParams) {\n    let queryParams = qs.parse(queryString);\n    queryParams = Object.assign(Object.assign({}, queryParams), newQueryParams);\n    queryString = qs.stringify(queryParams);\n    return queryString;\n}\nexports.appendToQueryString = appendToQueryString;\nfunction getAppMetadata() {\n    return window_metadata_1.getWindowMetadata() || undefined;\n}\nexports.getAppMetadata = getAppMetadata;\nfunction getRelayClientMetadata(protocol, version) {\n    var _a;\n    const env = getEnvironment();\n    const metadata = { protocol, version, env };\n    if (env === \"browser\") {\n        metadata.host = ((_a = window_getters_1.getLocation()) === null || _a === void 0 ? void 0 : _a.host) || \"\";\n    }\n    return metadata;\n}\nexports.getRelayClientMetadata = getRelayClientMetadata;\nfunction formatRelayRpcUrl(protocol, version, url) {\n    const splitUrl = url.split(\"?\");\n    const params = getRelayClientMetadata(protocol, version);\n    const queryString = appendToQueryString(splitUrl[1] || \"\", params);\n    return splitUrl[0] + \"?\" + queryString;\n}\nexports.formatRelayRpcUrl = formatRelayRpcUrl;\nfunction assertType(obj, key, type) {\n    if (!obj[key] || typeof obj[key] !== type) {\n        throw new Error(`Missing or invalid \"${key}\" param`);\n    }\n}\nexports.assertType = assertType;\nfunction mapToObj(map) {\n    return Object.fromEntries(map.entries());\n}\nexports.mapToObj = mapToObj;\nfunction objToMap(obj) {\n    return new Map(Object.entries(obj));\n}\nexports.objToMap = objToMap;\nfunction mapEntries(obj, cb) {\n    const res = {};\n    Object.keys(obj).forEach(key => {\n        res[key] = cb(obj[key]);\n    });\n    return res;\n}\nexports.mapEntries = mapEntries;\nexports.enumify = (x) => x;\nfunction capitalizeWord(word) {\n    return word.trim().replace(/^\\w/, c => c.toUpperCase());\n}\nexports.capitalizeWord = capitalizeWord;\nfunction capitalize(str) {\n    return str\n        .split(\" \")\n        .map(w => capitalizeWord(w))\n        .join(\" \");\n}\nexports.capitalize = capitalize;\n//# sourceMappingURL=misc.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getError = exports.ERROR_FORMATS = exports.ERROR = void 0;\nconst misc_1 = require(\"./misc\");\nexports.ERROR = misc_1.enumify({\n    GENERIC: \"GENERIC\",\n    MISSING_OR_INVALID: \"MISSING_OR_INVALID\",\n    MISSING_RESPONSE: \"MISSING_RESPONSE\",\n    MISSING_DECRYPT_PARAMS: \"MISSING_DECRYPT_PARAMS\",\n    INVALID_UPDATE_REQUEST: \"INVALID_UPDATE_REQUEST\",\n    RECORD_ALREADY_EXISTS: \"RECORD_ALREADY_EXISTS\",\n    RESTORE_WILL_OVERRIDE: \"RESTORE_WILL_OVERRIDE\",\n    NO_MATCHING_ID: \"NO_MATCHING_ID\",\n    NO_MATCHING_TOPIC: \"NO_MATCHING_TOPIC\",\n    NO_MATCHING_RESPONSE: \"NO_MATCHING_RESPONSE\",\n    UNKNOWN_JSONRPC_METHOD: \"UNKNOWN_JSONRPC_METHOD\",\n    MISMATCHED_TOPIC: \"MISMATCHED_TOPIC\",\n    MISMATCHED_ACCOUNTS: \"MISMATCHED_ACCOUNTS\",\n    SETTLED: \"SETTLED\",\n    NOT_APPROVED: \"NOT_APPROVED\",\n    PROPOSAL_RESPONDED: \"PROPOSAL_RESPONDED\",\n    RESPONSE_ACKNOWLEDGED: \"RESPONSE_ACKNOWLEDGED\",\n    EXPIRED: \"EXPIRED\",\n    SETTLE_TIMEOUT: \"SETTLE_TIMEOUT\",\n    JSONRPC_REQUEST_TIMEOUT: \"JSONRPC_REQUEST_TIMEOUT\",\n    UNAUTHORIZED_TARGET_CHAIN: \"UNAUTHORIZED_TARGET_CHAIN\",\n    UNAUTHORIZED_JSON_RPC_METHOD: \"UNAUTHORIZED_JSON_RPC_METHOD\",\n    UNAUTHORIZED_NOTIFICATION_TYPE: \"UNAUTHORIZED_NOTIFICATION_TYPE\",\n    UNAUTHORIZED_UPDATE_REQUEST: \"UNAUTHORIZED_UPDATE_REQUEST\",\n    UNAUTHORIZED_UPGRADE_REQUEST: \"UNAUTHORIZED_UPGRADE_REQUEST\",\n    UNAUTHORIZED_MATCHING_CONTROLLER: \"UNAUTHORIZED_MATCHING_CONTROLLER\",\n    JSONRPC_REQUEST_METHOD_REJECTED: \"JSONRPC_REQUEST_METHOD_REJECTED\",\n    JSONRPC_REQUEST_METHOD_UNAUTHORIZED: \"JSONRPC_REQUEST_METHOD_UNAUTHORIZED\",\n    JSONRPC_REQUEST_METHOD_UNSUPPORTED: \"JSONRPC_REQUEST_METHOD_UNSUPPORTED\",\n    DISCONNECTED_ALL_CHAINS: \"DISCONNECTED_ALL_CHAINS\",\n    DISCONNECTED_TARGET_CHAIN: \"DISCONNECTED_TARGET_CHAIN\",\n    DISAPPROVED_CHAINS: \"DISAPPROVED_CHAINS\",\n    DISAPPROVED_JSONRPC: \"DISAPPROVED_JSONRPC\",\n    DISAPPROVED_NOTIFICATION: \"DISAPPROVED_NOTIFICATION\",\n    UNSUPPORTED_CHAINS: \"UNSUPPORTED_CHAINS\",\n    UNSUPPORTED_JSONRPC: \"UNSUPPORTED_JSONRPC\",\n    UNSUPPORTED_NOTIFICATION: \"UNSUPPORTED_NOTIFICATION\",\n    USER_DISCONNECTED: \"USER_DISCONNECTED\",\n    UNKNOWN: \"UNKNOWN\",\n});\nconst defaultParams = {\n    message: \"Something went wrong\",\n    name: \"parameter\",\n    context: \"session\",\n    blockchain: \"Ethereum\",\n};\nexports.ERROR_FORMATS = {\n    [exports.ERROR.GENERIC]: (params) => ({\n        code: 0,\n        message: (params === null || params === void 0 ? void 0 : params.message) || defaultParams.message,\n    }),\n    [exports.ERROR.MISSING_OR_INVALID]: (params) => ({\n        code: 1000,\n        message: `Missing or invalid ${(params === null || params === void 0 ? void 0 : params.name) || defaultParams.name}`,\n    }),\n    [exports.ERROR.MISSING_RESPONSE]: (params) => ({\n        code: 1001,\n        message: `Response is required for approved ${(params === null || params === void 0 ? void 0 : params.context) ||\n            defaultParams.context} proposals`,\n    }),\n    [exports.ERROR.MISSING_DECRYPT_PARAMS]: (params) => ({\n        code: 1002,\n        message: `Decrypt params required for ${(params === null || params === void 0 ? void 0 : params.context) || defaultParams.context}`,\n    }),\n    [exports.ERROR.INVALID_UPDATE_REQUEST]: (params) => ({\n        code: 1003,\n        message: `Invalid ${(params === null || params === void 0 ? void 0 : params.context) || defaultParams.context} update request`,\n    }),\n    [exports.ERROR.RECORD_ALREADY_EXISTS]: (params) => ({\n        code: 1100,\n        message: `Record already exists for ${(params === null || params === void 0 ? void 0 : params.context) || defaultParams.context} matching id: ${params === null || params === void 0 ? void 0 : params.id}`,\n    }),\n    [exports.ERROR.RESTORE_WILL_OVERRIDE]: (params) => ({\n        code: 1200,\n        message: `Restore will override already set ${(params === null || params === void 0 ? void 0 : params.context) || defaultParams.context}`,\n    }),\n    [exports.ERROR.NO_MATCHING_ID]: (params) => ({\n        code: 1300,\n        message: `No matching ${(params === null || params === void 0 ? void 0 : params.context) || defaultParams.context} with id: ${params === null || params === void 0 ? void 0 : params.id}`,\n    }),\n    [exports.ERROR.NO_MATCHING_TOPIC]: (params) => ({\n        code: 1301,\n        message: `No matching ${(params === null || params === void 0 ? void 0 : params.context) || defaultParams.context} with topic: ${params === null || params === void 0 ? void 0 : params.topic}`,\n    }),\n    [exports.ERROR.NO_MATCHING_RESPONSE]: (params) => ({\n        code: 1302,\n        message: `No response found in pending ${(params === null || params === void 0 ? void 0 : params.context) || defaultParams.context} proposal`,\n    }),\n    [exports.ERROR.UNKNOWN_JSONRPC_METHOD]: (params) => ({\n        code: 1400,\n        message: `Unknown JSON-RPC Method Requested: ${params === null || params === void 0 ? void 0 : params.method}`,\n    }),\n    [exports.ERROR.MISMATCHED_TOPIC]: (params) => ({\n        code: 1500,\n        message: `Mismatched topic for ${(params === null || params === void 0 ? void 0 : params.context) || defaultParams.context} with id: ${params === null || params === void 0 ? void 0 : params.id}`,\n    }),\n    [exports.ERROR.MISMATCHED_ACCOUNTS]: (params) => ({\n        code: 1501,\n        message: `Invalid accounts with mismatched chains: ${params === null || params === void 0 ? void 0 : params.mismatched.toString()}`,\n    }),\n    [exports.ERROR.SETTLED]: (params) => ({\n        code: 1600,\n        message: `${misc_1.capitalize((params === null || params === void 0 ? void 0 : params.context) || defaultParams.context)} settled`,\n    }),\n    [exports.ERROR.NOT_APPROVED]: (params) => ({\n        code: 1601,\n        message: `${misc_1.capitalize((params === null || params === void 0 ? void 0 : params.context) || defaultParams.context)} not approved`,\n    }),\n    [exports.ERROR.PROPOSAL_RESPONDED]: (params) => ({\n        code: 1602,\n        message: `${misc_1.capitalize((params === null || params === void 0 ? void 0 : params.context) || defaultParams.context)} proposal responded`,\n    }),\n    [exports.ERROR.RESPONSE_ACKNOWLEDGED]: (params) => ({\n        code: 1603,\n        message: `${misc_1.capitalize((params === null || params === void 0 ? void 0 : params.context) || defaultParams.context)} response acknowledge`,\n    }),\n    [exports.ERROR.EXPIRED]: (params) => ({\n        code: 1603,\n        message: `${misc_1.capitalize((params === null || params === void 0 ? void 0 : params.context) || defaultParams.context)} expired`,\n    }),\n    [exports.ERROR.SETTLE_TIMEOUT]: (params) => ({\n        code: 2000,\n        message: `${misc_1.capitalize((params === null || params === void 0 ? void 0 : params.context) || defaultParams.context)} failed to settle after ${(params === null || params === void 0 ? void 0 : params.timeout) / 1000} seconds`,\n    }),\n    [exports.ERROR.JSONRPC_REQUEST_TIMEOUT]: (params) => ({\n        code: 2001,\n        message: `JSON-RPC Request timeout after ${(params === null || params === void 0 ? void 0 : params.timeout) / 1000} seconds: ${params === null || params === void 0 ? void 0 : params.method}`,\n    }),\n    [exports.ERROR.UNAUTHORIZED_TARGET_CHAIN]: (params) => ({\n        code: 3000,\n        message: `Unauthorized Target ChainId Requested: ${params === null || params === void 0 ? void 0 : params.chainId}`,\n    }),\n    [exports.ERROR.UNAUTHORIZED_JSON_RPC_METHOD]: (params) => ({\n        code: 3001,\n        message: `Unauthorized JSON-RPC Method Requested: ${params === null || params === void 0 ? void 0 : params.method}`,\n    }),\n    [exports.ERROR.UNAUTHORIZED_NOTIFICATION_TYPE]: (params) => ({\n        code: 3002,\n        message: `Unauthorized Notification Type Requested: ${params === null || params === void 0 ? void 0 : params.type}`,\n    }),\n    [exports.ERROR.UNAUTHORIZED_UPDATE_REQUEST]: (params) => ({\n        code: 3003,\n        message: `Unauthorized ${(params === null || params === void 0 ? void 0 : params.context) || defaultParams.context} update request`,\n    }),\n    [exports.ERROR.UNAUTHORIZED_UPGRADE_REQUEST]: (params) => ({\n        code: 3004,\n        message: `Unauthorized ${(params === null || params === void 0 ? void 0 : params.context) || defaultParams.context} upgrade request`,\n    }),\n    [exports.ERROR.UNAUTHORIZED_MATCHING_CONTROLLER]: (params) => ({\n        code: 3005,\n        message: `Unauthorized: peer is also ${(params === null || params === void 0 ? void 0 : params.controller) ? \"\" : \"not \"}controller`,\n    }),\n    [exports.ERROR.JSONRPC_REQUEST_METHOD_REJECTED]: () => ({\n        code: 4001,\n        message: \"User rejected the request.\",\n    }),\n    [exports.ERROR.JSONRPC_REQUEST_METHOD_UNAUTHORIZED]: (params) => ({\n        code: 4100,\n        message: \"The requested account and/or method has not been authorized by the user.\",\n    }),\n    [exports.ERROR.JSONRPC_REQUEST_METHOD_UNSUPPORTED]: (params) => ({\n        code: 4200,\n        message: `The requested method is not supported by this ${(params === null || params === void 0 ? void 0 : params.blockhain) ||\n            defaultParams.blockchain} provider.`,\n    }),\n    [exports.ERROR.DISCONNECTED_ALL_CHAINS]: () => ({\n        code: 4900,\n        message: \"The provider is disconnected from all chains.\",\n    }),\n    [exports.ERROR.DISCONNECTED_TARGET_CHAIN]: () => ({\n        code: 4901,\n        message: \"The provider is disconnected from the specified chain.\",\n    }),\n    [exports.ERROR.DISAPPROVED_CHAINS]: (params) => ({\n        code: 5000,\n        message: `User disapproved requested chains`,\n    }),\n    [exports.ERROR.DISAPPROVED_JSONRPC]: (params) => ({\n        code: 5001,\n        message: `User disapproved requested json-rpc methods`,\n    }),\n    [exports.ERROR.DISAPPROVED_NOTIFICATION]: (params) => ({\n        code: 5002,\n        message: `User disapproved requested notification types`,\n    }),\n    [exports.ERROR.UNSUPPORTED_CHAINS]: (params) => ({\n        code: 5100,\n        message: `Requested chains are not supported: ${params === null || params === void 0 ? void 0 : params.chains.toString()}`,\n    }),\n    [exports.ERROR.UNSUPPORTED_JSONRPC]: (params) => ({\n        code: 5101,\n        message: `Requested json-rpc methods are not supported: ${params === null || params === void 0 ? void 0 : params.methods.toString()}`,\n    }),\n    [exports.ERROR.UNSUPPORTED_NOTIFICATION]: (params) => ({\n        code: 5102,\n        message: `Requested notification types are not supported: ${params === null || params === void 0 ? void 0 : params.types.toString()}`,\n    }),\n    [exports.ERROR.USER_DISCONNECTED]: (params) => ({\n        code: 5900,\n        message: `User disconnected ${(params === null || params === void 0 ? void 0 : params.context) || defaultParams.context}`,\n    }),\n    [exports.ERROR.UNKNOWN]: (params) => ({\n        code: 9000,\n        message: `Unknown error${params ? `: ${params === null || params === void 0 ? void 0 : params.toString()}` : \"\"}`,\n    }),\n};\nfunction getError(type, params) {\n    const formatter = exports.ERROR_FORMATS[type];\n    if (typeof formatter === \"undefined\")\n        return getError(exports.ERROR.UNKNOWN, params);\n    return formatter(params);\n}\nexports.getError = getError;\n//# sourceMappingURL=error.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.parseUri = exports.formatUri = void 0;\nconst tslib_1 = require(\"tslib\");\nconst qs = tslib_1.__importStar(require(\"query-string\"));\nconst safe_json_utils_1 = require(\"safe-json-utils\");\nfunction formatUri(params) {\n    return (`${params.protocol}:${params.topic}@${params.version}?` +\n        qs.stringify({\n            publicKey: params.publicKey,\n            controller: params.controller,\n            relay: safe_json_utils_1.safeJsonStringify(params.relay),\n        }));\n}\nexports.formatUri = formatUri;\nfunction parseUri(str) {\n    const pathStart = str.indexOf(\":\");\n    const pathEnd = str.indexOf(\"?\") !== -1 ? str.indexOf(\"?\") : undefined;\n    const protocol = str.substring(0, pathStart);\n    const path = str.substring(pathStart + 1, pathEnd);\n    const requiredValues = path.split(\"@\");\n    const queryString = typeof pathEnd !== \"undefined\" ? str.substr(pathEnd) : \"\";\n    const queryParams = qs.parse(queryString);\n    const result = {\n        protocol,\n        topic: requiredValues[0],\n        version: parseInt(requiredValues[1], 10),\n        publicKey: queryParams.publicKey,\n        controller: queryParams.controller === \"true\",\n        relay: safe_json_utils_1.safeJsonParse(queryParams.relay),\n    };\n    return result;\n}\nexports.parseUri = parseUri;\n//# sourceMappingURL=uri.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.formatInvalidResult = exports.formatValidResult = exports.isValidationInvalid = exports.isValidUrl = exports.isValidAccountId = exports.isValidChainId = exports.isValidString = exports.isValidArray = exports.validateBlockchainState = exports.validateNotificationPermissions = exports.validateJsonRpcPermissions = exports.validateBlockchainPermissions = exports.validateSessionRespondParams = exports.validateSessionProposeParams = exports.validateSessionProposeParamsMetadata = exports.validateSessionProposeParamsPermissions = exports.isSubscriptionUpdatedEvent = exports.isSessionFailed = exports.isSessionResponded = exports.isSessionRespondedStatus = exports.isPairingFailed = exports.isPairingResponded = exports.isPairingRespondedStatus = void 0;\nconst error_1 = require(\"./error\");\nfunction isPairingRespondedStatus(status) {\n    return status === \"responded\";\n}\nexports.isPairingRespondedStatus = isPairingRespondedStatus;\nfunction isPairingResponded(pending) {\n    return isPairingRespondedStatus(pending.status) && \"outcome\" in pending;\n}\nexports.isPairingResponded = isPairingResponded;\nfunction isPairingFailed(outcome) {\n    return \"reason\" in outcome;\n}\nexports.isPairingFailed = isPairingFailed;\nfunction isSessionRespondedStatus(status) {\n    return status === \"responded\";\n}\nexports.isSessionRespondedStatus = isSessionRespondedStatus;\nfunction isSessionResponded(pending) {\n    return isPairingRespondedStatus(pending.status) && \"outcome\" in pending;\n}\nexports.isSessionResponded = isSessionResponded;\nfunction isSessionFailed(outcome) {\n    return \"reason\" in outcome;\n}\nexports.isSessionFailed = isSessionFailed;\nfunction isSubscriptionUpdatedEvent(event) {\n    return \"update\" in event;\n}\nexports.isSubscriptionUpdatedEvent = isSubscriptionUpdatedEvent;\nfunction validateSessionProposeParamsPermissions(permissions) {\n    const blockchainPermissionsValidation = validateBlockchainPermissions(permissions.blockchain);\n    if (isValidationInvalid(blockchainPermissionsValidation)) {\n        return blockchainPermissionsValidation;\n    }\n    const jsonRpcPermissionsValidation = validateJsonRpcPermissions(permissions.jsonrpc);\n    if (isValidationInvalid(jsonRpcPermissionsValidation)) {\n        return jsonRpcPermissionsValidation;\n    }\n    const notificationPermissionsValidation = validateNotificationPermissions(permissions.notifications);\n    if (isValidationInvalid(notificationPermissionsValidation)) {\n        return notificationPermissionsValidation;\n    }\n    return formatValidResult();\n}\nexports.validateSessionProposeParamsPermissions = validateSessionProposeParamsPermissions;\nfunction validateSessionProposeParamsMetadata(metadata) {\n    if (!isValidString(metadata.name)) {\n        return formatInvalidResult(error_1.getError(error_1.ERROR.MISSING_OR_INVALID, { name: \"metadata name\" }));\n    }\n    if (!isValidString(metadata.description)) {\n        return formatInvalidResult(error_1.getError(error_1.ERROR.MISSING_OR_INVALID, { name: \"metadata description\" }));\n    }\n    if (typeof metadata.url === \"undefined\" || !isValidUrl(metadata.url)) {\n        return formatInvalidResult(error_1.getError(error_1.ERROR.MISSING_OR_INVALID, { name: \"metadata url\" }));\n    }\n    if (typeof metadata.icons === \"undefined\" || !isValidArray(metadata.icons, isValidUrl)) {\n        return formatInvalidResult(error_1.getError(error_1.ERROR.MISSING_OR_INVALID, { name: \"metadata icons\" }));\n    }\n    return formatValidResult();\n}\nexports.validateSessionProposeParamsMetadata = validateSessionProposeParamsMetadata;\nfunction validateSessionProposeParams(params) {\n    const permissionsValidation = validateSessionProposeParamsPermissions(params.permissions);\n    if (isValidationInvalid(permissionsValidation)) {\n        return permissionsValidation;\n    }\n    const metadataValidation = validateSessionProposeParamsMetadata(params.metadata);\n    if (isValidationInvalid(metadataValidation)) {\n        return metadataValidation;\n    }\n    return formatValidResult();\n}\nexports.validateSessionProposeParams = validateSessionProposeParams;\nfunction validateSessionRespondParams(params) {\n    if (params.approved) {\n        if (typeof params.response === \"undefined\") {\n            return formatInvalidResult(error_1.getError(error_1.ERROR.MISSING_RESPONSE, { context: \"session\" }));\n        }\n        const stateValidation = validateBlockchainState(params.response.state, params.proposal.permissions.blockchain);\n        if (isValidationInvalid(stateValidation)) {\n            return stateValidation;\n        }\n        const metadataValidation = validateSessionProposeParamsMetadata(params.response.metadata);\n        if (isValidationInvalid(metadataValidation)) {\n            return metadataValidation;\n        }\n    }\n    return formatValidResult();\n}\nexports.validateSessionRespondParams = validateSessionRespondParams;\nfunction validateBlockchainPermissions(blockchain) {\n    if (typeof blockchain === \"undefined\" ||\n        typeof blockchain.chains === \"undefined\" ||\n        !isValidArray(blockchain.chains, isValidChainId)) {\n        return formatInvalidResult(error_1.getError(error_1.ERROR.MISSING_OR_INVALID, { name: \"blockchain permissions\" }));\n    }\n    return formatValidResult();\n}\nexports.validateBlockchainPermissions = validateBlockchainPermissions;\nfunction validateJsonRpcPermissions(jsonrpc) {\n    if (typeof jsonrpc === \"undefined\" ||\n        typeof jsonrpc.methods === \"undefined\" ||\n        !isValidArray(jsonrpc.methods, isValidString)) {\n        return formatInvalidResult(error_1.getError(error_1.ERROR.MISSING_OR_INVALID, { name: \"jsonrpc permissions\" }));\n    }\n    return formatValidResult();\n}\nexports.validateJsonRpcPermissions = validateJsonRpcPermissions;\nfunction validateNotificationPermissions(notifications) {\n    if (typeof notifications === \"undefined\" ||\n        typeof notifications.types === \"undefined\" ||\n        !isValidArray(notifications.types, isValidString)) {\n        return formatInvalidResult(error_1.getError(error_1.ERROR.MISSING_OR_INVALID, { name: \"notification permissions\" }));\n    }\n    return formatValidResult();\n}\nexports.validateNotificationPermissions = validateNotificationPermissions;\nfunction validateBlockchainState(state, blockchain) {\n    if (typeof blockchain === \"undefined\" ||\n        typeof blockchain.chains === \"undefined\" ||\n        !isValidArray(blockchain.chains, isValidChainId)) {\n        return formatInvalidResult(error_1.getError(error_1.ERROR.MISSING_OR_INVALID, { name: \"blockchain permissions\" }));\n    }\n    if (typeof state === \"undefined\" ||\n        typeof state.accounts === \"undefined\" ||\n        !isValidArray(state.accounts, isValidAccountId)) {\n        return formatInvalidResult(error_1.getError(error_1.ERROR.MISSING_OR_INVALID, { name: \"state accounts\" }));\n    }\n    const mismatched = state.accounts.filter(accountId => {\n        const chainId = accountId.split(\"@\")[1];\n        return !blockchain.chains.includes(chainId);\n    });\n    if (mismatched.length) {\n        return formatInvalidResult(error_1.getError(error_1.ERROR.MISMATCHED_ACCOUNTS, { mismatched }));\n    }\n    return formatValidResult();\n}\nexports.validateBlockchainState = validateBlockchainState;\nfunction isValidArray(arr, itemCondition) {\n    if (Array.isArray(arr)) {\n        if (typeof itemCondition !== \"undefined\" && arr.length) {\n            const matches = arr.filter(itemCondition);\n            return matches.length === arr.length;\n        }\n        else {\n            return true;\n        }\n    }\n    return false;\n}\nexports.isValidArray = isValidArray;\nfunction isValidString(value) {\n    return typeof value === \"string\" && !!value.trim();\n}\nexports.isValidString = isValidString;\nfunction isValidChainId(value) {\n    if (isValidString(value) && value.includes(\":\")) {\n        const split = value.split(\":\");\n        return split.length === 2;\n    }\n    return false;\n}\nexports.isValidChainId = isValidChainId;\nfunction isValidAccountId(value) {\n    if (isValidString(value) && value.includes(\"@\")) {\n        const split = value.split(\"@\");\n        if (split.length === 2) {\n            return !!split[0] && isValidChainId(split[1]);\n        }\n    }\n    return false;\n}\nexports.isValidAccountId = isValidAccountId;\nfunction isValidUrl(value) {\n    if (isValidString(value)) {\n        try {\n            const url = new URL(value);\n            return typeof url !== \"undefined\";\n        }\n        catch (e) {\n            return false;\n        }\n    }\n    return false;\n}\nexports.isValidUrl = isValidUrl;\nfunction isValidationInvalid(validation) {\n    return (\"valid\" in validation &&\n        validation.valid === false &&\n        \"error\" in validation &&\n        typeof validation.error.code === \"number\" &&\n        typeof validation.error.message === \"string\");\n}\nexports.isValidationInvalid = isValidationInvalid;\nfunction formatValidResult() {\n    return { valid: true };\n}\nexports.formatValidResult = formatValidResult;\nfunction formatInvalidResult(error) {\n    return { valid: false, error };\n}\nexports.formatInvalidResult = formatInvalidResult;\n//# sourceMappingURL=validators.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst constants_1 = require(\"./constants\");\nfunction getDefaultLoggerOptions(opts) {\n    var _a, _b;\n    return Object.assign(Object.assign({}, opts), { level: ((_a = opts) === null || _a === void 0 ? void 0 : _a.level) || constants_1.PINO_LOGGER_DEFAULTS.level, prettyPrint: ((_b = opts) === null || _b === void 0 ? void 0 : _b.prettyPrint) || constants_1.PINO_LOGGER_DEFAULTS.prettyPrint });\n}\nexports.getDefaultLoggerOptions = getDefaultLoggerOptions;\nfunction getBrowserLoggerContext(logger, customContextKey = constants_1.PINO_CUSTOM_CONTEXT_KEY) {\n    return logger[customContextKey] || '';\n}\nexports.getBrowserLoggerContext = getBrowserLoggerContext;\nfunction setBrowserLoggerContext(logger, context, customContextKey = constants_1.PINO_CUSTOM_CONTEXT_KEY) {\n    logger[customContextKey] = context;\n    return logger;\n}\nexports.setBrowserLoggerContext = setBrowserLoggerContext;\nfunction getLoggerContext(logger, customContextKey = constants_1.PINO_CUSTOM_CONTEXT_KEY) {\n    let context = '';\n    if (typeof logger.bindings === 'undefined') {\n        context = getBrowserLoggerContext(logger, customContextKey);\n    }\n    else {\n        context = logger.bindings().context || '';\n    }\n    return context;\n}\nexports.getLoggerContext = getLoggerContext;\nfunction formatChildLoggerContext(logger, childContext, customContextKey = constants_1.PINO_CUSTOM_CONTEXT_KEY) {\n    const parentContext = getLoggerContext(logger, customContextKey);\n    const context = parentContext.trim()\n        ? `${parentContext}/${childContext}`\n        : childContext;\n    return context;\n}\nexports.formatChildLoggerContext = formatChildLoggerContext;\nfunction generateChildLogger(logger, childContext, customContextKey = constants_1.PINO_CUSTOM_CONTEXT_KEY) {\n    const context = formatChildLoggerContext(logger, childContext, customContextKey);\n    const child = logger.child({ context });\n    return setBrowserLoggerContext(child, context, customContextKey);\n}\nexports.generateChildLogger = generateChildLogger;\n//# sourceMappingURL=utils.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.STANDARD_ERROR_MAP = exports.SERVER_ERROR_CODE_RANGE = exports.RESERVED_ERROR_CODES = exports.SERVER_ERROR = exports.INTERNAL_ERROR = exports.INVALID_PARAMS = exports.METHOD_NOT_FOUND = exports.INVALID_REQUEST = exports.PARSE_ERROR = void 0;\nexports.PARSE_ERROR = \"PARSE_ERROR\";\nexports.INVALID_REQUEST = \"INVALID_REQUEST\";\nexports.METHOD_NOT_FOUND = \"METHOD_NOT_FOUND\";\nexports.INVALID_PARAMS = \"INVALID_PARAMS\";\nexports.INTERNAL_ERROR = \"INTERNAL_ERROR\";\nexports.SERVER_ERROR = \"SERVER_ERROR\";\nexports.RESERVED_ERROR_CODES = [-32700, -32600, -32601, -32602, -32603];\nexports.SERVER_ERROR_CODE_RANGE = [-32000, -32099];\nexports.STANDARD_ERROR_MAP = {\n    [exports.PARSE_ERROR]: { code: -32700, message: \"Parse error\" },\n    [exports.INVALID_REQUEST]: { code: -32600, message: \"Invalid Request\" },\n    [exports.METHOD_NOT_FOUND]: { code: -32601, message: \"Method not found\" },\n    [exports.INVALID_PARAMS]: { code: -32602, message: \"Invalid params\" },\n    [exports.INTERNAL_ERROR]: { code: -32603, message: \"Internal error\" },\n    [exports.SERVER_ERROR]: { code: -32000, message: \"Server error\" },\n};\n//# sourceMappingURL=constants.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.validateJsonRpcError = exports.getErrorByCode = exports.getError = exports.isValidErrorCode = exports.isReservedErrorCode = exports.isServerErrorCode = void 0;\nconst constants_1 = require(\"./constants\");\nfunction isServerErrorCode(code) {\n    return code <= constants_1.SERVER_ERROR_CODE_RANGE[0] && code >= constants_1.SERVER_ERROR_CODE_RANGE[1];\n}\nexports.isServerErrorCode = isServerErrorCode;\nfunction isReservedErrorCode(code) {\n    return constants_1.RESERVED_ERROR_CODES.includes(code);\n}\nexports.isReservedErrorCode = isReservedErrorCode;\nfunction isValidErrorCode(code) {\n    return typeof code === \"number\";\n}\nexports.isValidErrorCode = isValidErrorCode;\nfunction getError(type) {\n    if (!Object.keys(constants_1.STANDARD_ERROR_MAP).includes(type)) {\n        return constants_1.STANDARD_ERROR_MAP[constants_1.INTERNAL_ERROR];\n    }\n    return constants_1.STANDARD_ERROR_MAP[type];\n}\nexports.getError = getError;\nfunction getErrorByCode(code) {\n    const match = Object.values(constants_1.STANDARD_ERROR_MAP).find(e => e.code === code);\n    if (!match) {\n        return constants_1.STANDARD_ERROR_MAP[constants_1.INTERNAL_ERROR];\n    }\n    return match;\n}\nexports.getErrorByCode = getErrorByCode;\nfunction validateJsonRpcError(response) {\n    if (typeof response.error.code === \"undefined\") {\n        return { valid: false, error: \"Missing code for JSON-RPC error\" };\n    }\n    if (typeof response.error.message === \"undefined\") {\n        return { valid: false, error: \"Missing message for JSON-RPC error\" };\n    }\n    if (!isValidErrorCode(response.error.code)) {\n        return {\n            valid: false,\n            error: `Invalid error code type for JSON-RPC: ${response.error.code}`,\n        };\n    }\n    if (isReservedErrorCode(response.error.code)) {\n        const error = getErrorByCode(response.error.code);\n        if (error.message !== constants_1.STANDARD_ERROR_MAP[constants_1.INTERNAL_ERROR].message &&\n            response.error.message === error.message) {\n            return {\n                valid: false,\n                error: `Invalid error code message for JSON-RPC: ${response.error.code}`,\n            };\n        }\n    }\n    return { valid: true };\n}\nexports.validateJsonRpcError = validateJsonRpcError;\n//# sourceMappingURL=error.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isBrowserCryptoAvailable = exports.getSubtleCrypto = exports.getBrowerCrypto = void 0;\nfunction getBrowerCrypto() {\n    return (global === null || global === void 0 ? void 0 : global.crypto) || (global === null || global === void 0 ? void 0 : global.msCrypto) || {};\n}\nexports.getBrowerCrypto = getBrowerCrypto;\nfunction getSubtleCrypto() {\n    const browserCrypto = getBrowerCrypto();\n    return browserCrypto.subtle || browserCrypto.webkitSubtle;\n}\nexports.getSubtleCrypto = getSubtleCrypto;\nfunction isBrowserCryptoAvailable() {\n    return !!getBrowerCrypto() && !!getSubtleCrypto();\n}\nexports.isBrowserCryptoAvailable = isBrowserCryptoAvailable;\n//# sourceMappingURL=crypto.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isBrowser = exports.isNode = exports.isReactNative = void 0;\nfunction isReactNative() {\n    return (typeof document === 'undefined' &&\n        typeof navigator !== 'undefined' &&\n        navigator.product === 'ReactNative');\n}\nexports.isReactNative = isReactNative;\nfunction isNode() {\n    return (typeof process !== 'undefined' &&\n        typeof process.versions !== 'undefined' &&\n        typeof process.versions.node !== 'undefined');\n}\nexports.isNode = isNode;\nfunction isBrowser() {\n    return !isReactNative() && !isNode();\n}\nexports.isBrowser = isBrowser;\n//# sourceMappingURL=env.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.formatErrorMessage = exports.formatJsonRpcError = exports.formatJsonRpcResult = exports.formatJsonRpcRequest = exports.payloadId = void 0;\nconst error_1 = require(\"./error\");\nconst constants_1 = require(\"./constants\");\nfunction payloadId() {\n    const date = Date.now() * Math.pow(10, 3);\n    const extra = Math.floor(Math.random() * Math.pow(10, 3));\n    return date + extra;\n}\nexports.payloadId = payloadId;\nfunction formatJsonRpcRequest(method, params, id) {\n    return {\n        id: id || payloadId(),\n        jsonrpc: \"2.0\",\n        method,\n        params,\n    };\n}\nexports.formatJsonRpcRequest = formatJsonRpcRequest;\nfunction formatJsonRpcResult(id, result) {\n    return {\n        id,\n        jsonrpc: \"2.0\",\n        result,\n    };\n}\nexports.formatJsonRpcResult = formatJsonRpcResult;\nfunction formatJsonRpcError(id, error) {\n    return {\n        id,\n        jsonrpc: \"2.0\",\n        error: formatErrorMessage(error),\n    };\n}\nexports.formatJsonRpcError = formatJsonRpcError;\nfunction formatErrorMessage(error) {\n    if (typeof error === \"undefined\") {\n        return error_1.getError(constants_1.INTERNAL_ERROR);\n    }\n    if (typeof error === \"string\") {\n        error = Object.assign(Object.assign({}, error_1.getError(constants_1.SERVER_ERROR)), { message: error });\n    }\n    if (error_1.isReservedErrorCode(error.code)) {\n        error = error_1.getErrorByCode(error.code);\n    }\n    if (!error_1.isServerErrorCode(error.code)) {\n        throw new Error(\"Error code is not in server code range\");\n    }\n    return error;\n}\nexports.formatErrorMessage = formatErrorMessage;\n//# sourceMappingURL=format.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isValidTrailingWildcardRoute = exports.isValidLeadingWildcardRoute = exports.isValidWildcardRoute = exports.isValidDefaultRoute = exports.isValidRoute = void 0;\nfunction isValidRoute(route) {\n    if (route.includes(\"*\")) {\n        return isValidWildcardRoute(route);\n    }\n    if (/\\W/g.test(route)) {\n        return false;\n    }\n    return true;\n}\nexports.isValidRoute = isValidRoute;\nfunction isValidDefaultRoute(route) {\n    return route === \"*\";\n}\nexports.isValidDefaultRoute = isValidDefaultRoute;\nfunction isValidWildcardRoute(route) {\n    if (isValidDefaultRoute(route)) {\n        return true;\n    }\n    if (!route.includes(\"*\")) {\n        return false;\n    }\n    if (route.split(\"*\").length !== 2) {\n        return false;\n    }\n    if (route.split(\"*\").filter(x => x.trim() === \"\").length !== 1) {\n        return false;\n    }\n    return true;\n}\nexports.isValidWildcardRoute = isValidWildcardRoute;\nfunction isValidLeadingWildcardRoute(route) {\n    return !isValidDefaultRoute(route) && isValidWildcardRoute(route) && !route.split(\"*\")[0].trim();\n}\nexports.isValidLeadingWildcardRoute = isValidLeadingWildcardRoute;\nfunction isValidTrailingWildcardRoute(route) {\n    return !isValidDefaultRoute(route) && isValidWildcardRoute(route) && !route.split(\"*\")[1].trim();\n}\nexports.isValidTrailingWildcardRoute = isValidTrailingWildcardRoute;\n//# sourceMappingURL=routing.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isJsonRpcValidationInvalid = exports.isJsonRpcError = exports.isJsonRpcResult = exports.isJsonRpcResponse = exports.isJsonRpcRequest = exports.isJsonRpcPayload = void 0;\nfunction isJsonRpcPayload(payload) {\n    return \"id\" in payload && \"jsonrpc\" in payload && payload.jsonrpc === \"2.0\";\n}\nexports.isJsonRpcPayload = isJsonRpcPayload;\nfunction isJsonRpcRequest(payload) {\n    return isJsonRpcPayload(payload) && \"method\" in payload;\n}\nexports.isJsonRpcRequest = isJsonRpcRequest;\nfunction isJsonRpcResponse(payload) {\n    return isJsonRpcPayload(payload) && (isJsonRpcResult(payload) || isJsonRpcError(payload));\n}\nexports.isJsonRpcResponse = isJsonRpcResponse;\nfunction isJsonRpcResult(payload) {\n    return \"result\" in payload;\n}\nexports.isJsonRpcResult = isJsonRpcResult;\nfunction isJsonRpcError(payload) {\n    return \"error\" in payload;\n}\nexports.isJsonRpcError = isJsonRpcError;\nfunction isJsonRpcValidationInvalid(validation) {\n    return \"error\" in validation && validation.valid === false;\n}\nexports.isJsonRpcValidationInvalid = isJsonRpcValidationInvalid;\n//# sourceMappingURL=validators.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FIVE_SECONDS = exports.TEN_SECONDS = exports.THIRTY_SECONDS = exports.FIVE_MINUTES = exports.SIX_HOURS = exports.ONE_DAY = exports.SEVEN_DAYS = exports.THREE_WEEKS = exports.THIRTY_DAYS = void 0;\nexports.THIRTY_DAYS = 2592000;\nexports.THREE_WEEKS = 1814400;\nexports.SEVEN_DAYS = 604800;\nexports.ONE_DAY = 86400;\nexports.SIX_HOURS = 21600;\nexports.FIVE_MINUTES = 300;\nexports.THIRTY_SECONDS = 30;\nexports.TEN_SECONDS = 10;\nexports.FIVE_SECONDS = 5;\n//# sourceMappingURL=time.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CLIENT_STORAGE_OPTIONS = exports.CLIENT_EVENTS = exports.CLIENT_BEAT_INTERVAL = exports.CLIENT_CONTEXT = void 0;\nconst time_1 = require(\"./time\");\nexports.CLIENT_CONTEXT = \"client\";\nexports.CLIENT_BEAT_INTERVAL = time_1.FIVE_SECONDS * 1000;\nexports.CLIENT_EVENTS = {\n    beat: \"client_beat\",\n    pairing: {\n        proposal: \"pairing_proposal\",\n        updated: \"pairing_updated\",\n        created: \"pairing_created\",\n        deleted: \"pairing_deleted\",\n    },\n    session: {\n        proposal: \"session_proposal\",\n        updated: \"session_updated\",\n        created: \"session_created\",\n        deleted: \"session_deleted\",\n        notification: \"session_notification\",\n        request: \"session_request\",\n        response: \"session_response\",\n    },\n};\nexports.CLIENT_STORAGE_OPTIONS = {\n    database: \":memory:\",\n};\n//# sourceMappingURL=client.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.HISTORY_CONTEXT = exports.HISTORY_EVENTS = void 0;\nexports.HISTORY_EVENTS = {\n    created: \"history_created\",\n    updated: \"history_updated\",\n    deleted: \"history_deleted\",\n    enabled: \"history_enabled\",\n    disabled: \"history_disabled\",\n    sync: \"history_sync\",\n};\nexports.HISTORY_CONTEXT = \"history\";\n//# sourceMappingURL=history.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.PAIRING_EVENTS = exports.PAIRING_STATUS = exports.PAIRING_SIGNAL_METHOD_URI = exports.PAIRING_DEFAULT_TTL = exports.PAIRING_CONTEXT = exports.PAIRING_JSONRPC = void 0;\nconst time_1 = require(\"./time\");\nexports.PAIRING_JSONRPC = {\n    approve: \"wc_pairingApprove\",\n    reject: \"wc_pairingReject\",\n    update: \"wc_pairingUpdate\",\n    upgrade: \"wc_pairingUpgrade\",\n    delete: \"wc_pairingDelete\",\n    payload: \"wc_pairingPayload\",\n    ping: \"wc_pairingPing\",\n};\nexports.PAIRING_CONTEXT = \"pairing\";\nexports.PAIRING_DEFAULT_TTL = time_1.THIRTY_DAYS;\nexports.PAIRING_SIGNAL_METHOD_URI = \"uri\";\nexports.PAIRING_STATUS = {\n    proposed: \"proposed\",\n    responded: \"responded\",\n    pending: \"pending\",\n    settled: \"settled\",\n};\nexports.PAIRING_EVENTS = {\n    proposed: \"pairing_proposed\",\n    responded: \"pairing_responded\",\n    settled: \"pairing_settled\",\n    updated: \"pairing_updated\",\n    deleted: \"pairing_deleted\",\n    request: \"pairing_request\",\n    response: \"pairing_response\",\n    enabled: \"pairing_enabled\",\n    disabled: \"pairing_disabled\",\n    sync: \"pairing_sync\",\n};\n//# sourceMappingURL=pairing.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SESSION_EMPTY_RESPONSE = exports.SESSION_EMPTY_METADATA = exports.SESSION_EMPTY_STATE = exports.SESSION_EMPTY_PERMISSIONS = exports.SESSION_EVENTS = exports.SESSION_STATUS = exports.SESSION_SIGNAL_METHOD_PAIRING = exports.SESSION_DEFAULT_TTL = exports.SESSION_CONTEXT = exports.SESSION_JSONRPC = void 0;\nconst time_1 = require(\"./time\");\nexports.SESSION_JSONRPC = {\n    propose: \"wc_sessionPropose\",\n    approve: \"wc_sessionApprove\",\n    reject: \"wc_sessionReject\",\n    update: \"wc_sessionUpdate\",\n    upgrade: \"wc_sessionUpgrade\",\n    delete: \"wc_sessionDelete\",\n    payload: \"wc_sessionPayload\",\n    ping: \"wc_sessionPing\",\n    notification: \"wc_sessionNotification\",\n};\nexports.SESSION_CONTEXT = \"session\";\nexports.SESSION_DEFAULT_TTL = time_1.SEVEN_DAYS;\nexports.SESSION_SIGNAL_METHOD_PAIRING = \"pairing\";\nexports.SESSION_STATUS = {\n    proposed: \"proposed\",\n    responded: \"responded\",\n    pending: \"pending\",\n    settled: \"settled\",\n};\nexports.SESSION_EVENTS = {\n    proposed: \"session_proposed\",\n    responded: \"session_responded\",\n    settled: \"session_settled\",\n    updated: \"session_updated\",\n    deleted: \"session_deleted\",\n    notification: \"session_notification\",\n    request: \"session_request\",\n    response: \"session_response\",\n    enabled: \"session_enabled\",\n    disabled: \"session_disabled\",\n    sync: \"session_sync\",\n};\nexports.SESSION_EMPTY_PERMISSIONS = {\n    jsonrpc: {\n        methods: [],\n    },\n    blockchain: {\n        chains: [],\n    },\n    notifications: {\n        types: [],\n    },\n};\nexports.SESSION_EMPTY_STATE = {\n    accounts: [],\n};\nexports.SESSION_EMPTY_METADATA = {\n    name: \"\",\n    description: \"\",\n    url: \"\",\n    icons: [],\n};\nexports.SESSION_EMPTY_RESPONSE = {\n    metadata: exports.SESSION_EMPTY_METADATA,\n    state: exports.SESSION_EMPTY_STATE,\n};\n//# sourceMappingURL=session.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SUBSCRIPTION_DEFAULT_TTL = exports.SUBSCRIPTION_EVENTS = void 0;\nconst time_1 = require(\"./time\");\nexports.SUBSCRIPTION_EVENTS = {\n    payload: \"subscription_payload\",\n    created: \"subscription_created\",\n    updated: \"subscription_updated\",\n    deleted: \"subscription_deleted\",\n    enabled: \"subscription_enabled\",\n    disabled: \"subscription_disabled\",\n    sync: \"subscription_sync\",\n};\nexports.SUBSCRIPTION_DEFAULT_TTL = time_1.THIRTY_DAYS;\n//# sourceMappingURL=subscription.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Subscription = void 0;\nconst tslib_1 = require(\"tslib\");\nconst events_1 = require(\"events\");\nconst types_1 = require(\"@walletconnect/types\");\nconst utils_1 = require(\"@walletconnect/utils\");\nconst constants_1 = require(\"../constants\");\nconst pino_utils_1 = require(\"@pedrouid/pino-utils\");\nclass Subscription extends types_1.ISubscription {\n    constructor(client, logger, context, encrypted) {\n        super(client, logger, context, encrypted);\n        this.client = client;\n        this.logger = logger;\n        this.context = context;\n        this.encrypted = encrypted;\n        this.subscriptions = new Map();\n        this.events = new events_1.EventEmitter();\n        this.timeout = new Map();\n        this.cached = [];\n        this.logger = pino_utils_1.generateChildLogger(logger, this.context);\n        this.registerEventListeners();\n    }\n    init() {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            this.logger.trace(`Initialized`);\n            yield this.restore();\n        });\n    }\n    get length() {\n        return this.subscriptions.size;\n    }\n    get topics() {\n        return Array.from(this.subscriptions.keys());\n    }\n    get values() {\n        return Array.from(this.subscriptions.values());\n    }\n    set(topic, data, opts) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            yield this.isEnabled();\n            if (this.subscriptions.has(topic)) {\n                this.update(topic, data);\n            }\n            else {\n                this.logger.debug(`Setting subscription`);\n                this.logger.trace({ type: \"method\", method: \"set\", topic, data, opts });\n                if (this.encrypted && typeof opts.decryptKeys === \"undefined\") {\n                    const error = utils_1.getError(utils_1.ERROR.MISSING_DECRYPT_PARAMS, {\n                        context: this.getSubscriptionContext(),\n                    });\n                    this.logger.error(error.message);\n                    throw new Error(error.message);\n                }\n                yield this.subscribeAndSet(topic, data, opts);\n                this.events.emit(constants_1.SUBSCRIPTION_EVENTS.created, {\n                    topic,\n                    data,\n                });\n            }\n        });\n    }\n    get(topic) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            yield this.isEnabled();\n            this.logger.debug(`Getting subscription`);\n            this.logger.trace({ type: \"method\", method: \"get\", topic });\n            const subscription = yield this.getSubscription(topic);\n            return subscription.data;\n        });\n    }\n    update(topic, update) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            yield this.isEnabled();\n            this.logger.debug(`Updating subscription`);\n            this.logger.trace({ type: \"method\", method: \"update\", topic, update });\n            const subscription = yield this.getSubscription(topic);\n            const data = Object.assign(Object.assign({}, subscription.data), update);\n            this.subscriptions.set(topic, Object.assign(Object.assign({}, subscription), { topic,\n                data }));\n            this.events.emit(constants_1.SUBSCRIPTION_EVENTS.updated, {\n                topic,\n                data,\n                update,\n            });\n        });\n    }\n    delete(topic, reason) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            yield this.isEnabled();\n            this.logger.debug(`Deleting subscription`);\n            this.logger.trace({ type: \"method\", method: \"delete\", topic, reason });\n            const subscription = yield this.getSubscription(topic);\n            this.subscriptions.delete(topic);\n            yield this.client.relayer.unsubscribe(subscription.id, {\n                relay: subscription.relay,\n                decryptKeys: subscription.decryptKeys,\n            });\n            this.events.emit(constants_1.SUBSCRIPTION_EVENTS.deleted, {\n                topic,\n                data: subscription.data,\n                reason,\n            });\n        });\n    }\n    on(event, listener) {\n        this.events.on(event, listener);\n    }\n    once(event, listener) {\n        this.events.once(event, listener);\n    }\n    off(event, listener) {\n        this.events.off(event, listener);\n    }\n    removeListener(event, listener) {\n        this.events.removeListener(event, listener);\n    }\n    onPayload(payloadEvent) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            this.events.emit(constants_1.SUBSCRIPTION_EVENTS.payload, payloadEvent);\n        });\n    }\n    getNestedContext(length) {\n        const nestedContext = pino_utils_1.getLoggerContext(this.logger).split(\"/\");\n        return nestedContext.slice(nestedContext.length - length, nestedContext.length);\n    }\n    getSubscriptionContext() {\n        return this.getNestedContext(2).join(\" \");\n    }\n    getStorageKey() {\n        const storageKeyPrefix = `${this.client.protocol}@${this.client.version}:${this.client.context}`;\n        const subscriptionContext = this.getNestedContext(2).join(\":\");\n        return `${storageKeyPrefix}//${subscriptionContext}`;\n    }\n    getSubscription(topic) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            yield this.isEnabled();\n            const subscription = this.subscriptions.get(topic);\n            if (!subscription) {\n                const error = utils_1.getError(utils_1.ERROR.NO_MATCHING_TOPIC, {\n                    context: this.getSubscriptionContext(),\n                    topic,\n                });\n                this.logger.error(error.message);\n                throw new Error(error.message);\n            }\n            return subscription;\n        });\n    }\n    subscribeAndSet(topic, data, opts) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            const id = yield this.client.relayer.subscribe(topic, (payload) => this.onPayload({ topic, payload }), opts);\n            const expiry = opts.expiry || Date.now() + constants_1.SUBSCRIPTION_DEFAULT_TTL * 1000;\n            this.subscriptions.set(topic, Object.assign(Object.assign({ id, topic, data }, opts), { expiry }));\n            this.setTimeout(topic, expiry);\n        });\n    }\n    setTimeout(topic, expiry) {\n        if (this.timeout.has(topic))\n            return;\n        const ttl = expiry - Date.now();\n        if (ttl <= 0) {\n            this.onTimeout(topic);\n            return;\n        }\n        if (ttl > constants_1.CLIENT_BEAT_INTERVAL)\n            return;\n        const timeout = setTimeout(() => this.onTimeout(topic), ttl);\n        this.timeout.set(topic, timeout);\n    }\n    deleteTimeout(topic) {\n        if (!this.timeout.has(topic))\n            return;\n        const timeout = this.timeout.get(topic);\n        if (typeof timeout === \"undefined\")\n            return;\n        clearTimeout(timeout);\n    }\n    resetTimeout() {\n        this.timeout.forEach(timeout => clearTimeout(timeout));\n        this.timeout.clear();\n    }\n    onTimeout(topic) {\n        this.deleteTimeout(topic);\n        this.delete(topic, utils_1.getError(utils_1.ERROR.EXPIRED, { context: this.getSubscriptionContext() }));\n    }\n    checkSubscriptions() {\n        this.subscriptions.forEach(subscription => this.setTimeout(subscription.topic, subscription.expiry));\n    }\n    persist() {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            yield this.client.storage.setItem(this.getStorageKey(), this.values);\n            this.events.emit(constants_1.SUBSCRIPTION_EVENTS.sync);\n        });\n    }\n    restore() {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            try {\n                const persisted = yield this.client.storage.getItem(this.getStorageKey());\n                if (typeof persisted === \"undefined\")\n                    return;\n                if (!persisted.length)\n                    return;\n                if (this.subscriptions.size) {\n                    const error = utils_1.getError(utils_1.ERROR.RESTORE_WILL_OVERRIDE, {\n                        context: this.getSubscriptionContext(),\n                    });\n                    this.logger.error(error.message);\n                    throw new Error(error.message);\n                }\n                this.cached = persisted;\n                yield Promise.all(this.cached.map((subscription) => tslib_1.__awaiter(this, void 0, void 0, function* () {\n                    const { topic, data } = subscription;\n                    const opts = {\n                        relay: subscription.relay,\n                        decryptKeys: subscription.decryptKeys,\n                        expiry: subscription.expiry,\n                    };\n                    yield this.subscribeAndSet(topic, data, opts);\n                })));\n                yield this.enable();\n                this.logger.debug(`Successfully Restored subscriptions for ${this.getSubscriptionContext()}`);\n                this.logger.trace({ type: \"method\", method: \"restore\", subscriptions: this.values });\n            }\n            catch (e) {\n                this.logger.debug(`Failed to Restore subscriptions for ${this.getSubscriptionContext()}`);\n                this.logger.error(e);\n            }\n        });\n    }\n    reset() {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            yield this.disable();\n            yield Promise.all(this.cached.map((subscription) => tslib_1.__awaiter(this, void 0, void 0, function* () {\n                const { topic, data } = subscription;\n                const opts = {\n                    relay: subscription.relay,\n                    decryptKeys: subscription.decryptKeys,\n                    expiry: subscription.expiry,\n                };\n                yield this.subscribeAndSet(topic, data, opts);\n            })));\n            yield this.enable();\n        });\n    }\n    isEnabled() {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            if (!this.cached.length)\n                return;\n            return new Promise(resolve => {\n                this.events.once(constants_1.SUBSCRIPTION_EVENTS.enabled, () => resolve());\n            });\n        });\n    }\n    enable() {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            this.cached = [];\n            this.events.emit(constants_1.SUBSCRIPTION_EVENTS.enabled);\n        });\n    }\n    disable() {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            if (!this.cached.length) {\n                this.cached = this.values;\n            }\n            this.resetTimeout();\n            this.events.emit(constants_1.SUBSCRIPTION_EVENTS.disabled);\n        });\n    }\n    registerEventListeners() {\n        this.client.on(constants_1.CLIENT_EVENTS.beat, () => this.checkSubscriptions());\n        this.client.relayer.on(constants_1.RELAYER_EVENTS.connect, () => this.reset());\n        this.events.on(constants_1.SUBSCRIPTION_EVENTS.payload, (payloadEvent) => {\n            this.logger.info(`Emitting ${constants_1.SUBSCRIPTION_EVENTS.created}`);\n            this.logger.debug({ type: \"event\", event: constants_1.SUBSCRIPTION_EVENTS.created, data: payloadEvent });\n        });\n        this.events.on(constants_1.SUBSCRIPTION_EVENTS.created, (createdEvent) => {\n            this.logger.info(`Emitting ${constants_1.SUBSCRIPTION_EVENTS.created}`);\n            this.logger.debug({ type: \"event\", event: constants_1.SUBSCRIPTION_EVENTS.created, data: createdEvent });\n            this.persist();\n        });\n        this.events.on(constants_1.SUBSCRIPTION_EVENTS.updated, (updatedEvent) => {\n            this.logger.info(`Emitting ${constants_1.SUBSCRIPTION_EVENTS.updated}`);\n            this.logger.debug({ type: \"event\", event: constants_1.SUBSCRIPTION_EVENTS.updated, data: updatedEvent });\n            this.persist();\n        });\n        this.events.on(constants_1.SUBSCRIPTION_EVENTS.deleted, (deletedEvent) => {\n            this.logger.info(`Emitting ${constants_1.SUBSCRIPTION_EVENTS.deleted}`);\n            this.logger.debug({ type: \"event\", event: constants_1.SUBSCRIPTION_EVENTS.deleted, data: deletedEvent });\n            this.persist();\n        });\n    }\n}\nexports.Subscription = Subscription;\n//# sourceMappingURL=subscription.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.JsonRpcHistory = void 0;\nconst tslib_1 = require(\"tslib\");\nconst events_1 = require(\"events\");\nconst types_1 = require(\"@walletconnect/types\");\nconst utils_1 = require(\"@walletconnect/utils\");\nconst utils_2 = require(\"@json-rpc-tools/utils\");\nconst pino_utils_1 = require(\"@pedrouid/pino-utils\");\nconst constants_1 = require(\"../constants\");\nclass JsonRpcHistory extends types_1.IJsonRpcHistory {\n    constructor(client, logger) {\n        super(client, logger);\n        this.client = client;\n        this.logger = logger;\n        this.records = new Map();\n        this.events = new events_1.EventEmitter();\n        this.context = constants_1.HISTORY_CONTEXT;\n        this.cached = [];\n        this.client;\n        this.logger = pino_utils_1.generateChildLogger(logger, this.context);\n        this.registerEventListeners();\n    }\n    init() {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            this.logger.trace(`Initialized`);\n            yield this.restore();\n        });\n    }\n    get size() {\n        return this.records.size;\n    }\n    get keys() {\n        return Array.from(this.records.keys());\n    }\n    get values() {\n        return Array.from(this.records.values());\n    }\n    get pending() {\n        const requests = [];\n        this.values.forEach(record => {\n            if (typeof record.response !== \"undefined\")\n                return;\n            const requestEvent = {\n                topic: record.topic,\n                request: utils_2.formatJsonRpcRequest(record.request.method, record.request.params, record.id),\n                chainId: record.chainId,\n            };\n            return requests.push(requestEvent);\n        });\n        return requests;\n    }\n    set(topic, request, chainId) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            yield this.isEnabled();\n            this.logger.debug(`Setting JSON-RPC request history record`);\n            this.logger.trace({ type: \"method\", method: \"set\", topic, request, chainId });\n            if (this.records.has(request.id)) {\n                const error = utils_1.getError(utils_1.ERROR.RECORD_ALREADY_EXISTS, {\n                    context: this.getHistoryContext(),\n                    id: request.id,\n                });\n                this.logger.error(error.message);\n                throw new Error(error.message);\n            }\n            const record = {\n                id: request.id,\n                topic,\n                request: { method: request.method, params: request.params || null },\n                chainId,\n            };\n            this.records.set(record.id, record);\n            this.events.emit(constants_1.HISTORY_EVENTS.created, record);\n        });\n    }\n    update(topic, response) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            yield this.isEnabled();\n            this.logger.debug(`Updating JSON-RPC response history record`);\n            this.logger.trace({ type: \"method\", method: \"update\", topic, response });\n            if (!this.records.has(response.id))\n                return;\n            const record = yield this.getRecord(response.id);\n            if (record.topic !== topic)\n                return;\n            if (typeof record.response !== \"undefined\")\n                return;\n            record.response = utils_2.isJsonRpcError(response)\n                ? { error: response.error }\n                : { result: response.result };\n            this.records.set(record.id, record);\n            this.events.emit(constants_1.HISTORY_EVENTS.updated, record);\n        });\n    }\n    get(topic, id) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            yield this.isEnabled();\n            this.logger.debug(`Getting record`);\n            this.logger.trace({ type: \"method\", method: \"get\", topic, id });\n            const record = yield this.getRecord(id);\n            if (record.topic !== topic) {\n                const error = utils_1.getError(utils_1.ERROR.MISMATCHED_TOPIC, {\n                    context: this.getHistoryContext(),\n                    id,\n                });\n                this.logger.error(error.message);\n                throw new Error(error.message);\n            }\n            return record;\n        });\n    }\n    delete(topic, id) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            yield this.isEnabled();\n            this.logger.debug(`Deleting record`);\n            this.logger.trace({ type: \"method\", method: \"delete\", id });\n            this.values.forEach((record) => {\n                if (record.topic === topic) {\n                    if (typeof id !== \"undefined\" && record.id !== id)\n                        return;\n                    this.records.delete(record.id);\n                    this.events.emit(constants_1.HISTORY_EVENTS.deleted, record);\n                }\n            });\n        });\n    }\n    exists(topic, id) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            yield this.isEnabled();\n            if (!this.records.has(id))\n                return false;\n            const record = yield this.getRecord(id);\n            return record.topic === topic;\n        });\n    }\n    on(event, listener) {\n        this.events.on(event, listener);\n    }\n    once(event, listener) {\n        this.events.once(event, listener);\n    }\n    off(event, listener) {\n        this.events.off(event, listener);\n    }\n    removeListener(event, listener) {\n        this.events.removeListener(event, listener);\n    }\n    getNestedContext(length) {\n        const nestedContext = pino_utils_1.getLoggerContext(this.logger).split(\"/\");\n        return nestedContext.slice(nestedContext.length - length, nestedContext.length);\n    }\n    getHistoryContext() {\n        return this.getNestedContext(2).join(\" \");\n    }\n    getStorageKey() {\n        const storageKeyPrefix = `${this.client.protocol}@${this.client.version}:${this.client.context}`;\n        const recordContext = this.getNestedContext(2).join(\":\");\n        return `${storageKeyPrefix}//${recordContext}`;\n    }\n    getRecord(id) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            yield this.isEnabled();\n            const record = this.records.get(id);\n            if (!record) {\n                const error = utils_1.getError(utils_1.ERROR.NO_MATCHING_ID, {\n                    context: this.getHistoryContext(),\n                    id,\n                });\n                this.logger.error(error.message);\n                throw new Error(error.message);\n            }\n            return record;\n        });\n    }\n    persist() {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            yield this.client.storage.setItem(this.getStorageKey(), this.values);\n            this.events.emit(constants_1.HISTORY_EVENTS.sync);\n        });\n    }\n    restore() {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            try {\n                const persisted = yield this.client.storage.getItem(this.getStorageKey());\n                if (typeof persisted === \"undefined\")\n                    return;\n                if (!persisted.length)\n                    return;\n                if (this.records.size) {\n                    const error = utils_1.getError(utils_1.ERROR.RESTORE_WILL_OVERRIDE, {\n                        context: this.getHistoryContext(),\n                    });\n                    this.logger.error(error.message);\n                    throw new Error(error.message);\n                }\n                this.cached = persisted;\n                yield Promise.all(this.cached.map((record) => tslib_1.__awaiter(this, void 0, void 0, function* () {\n                    this.records.set(record.id, record);\n                })));\n                yield this.enable();\n                this.logger.debug(`Successfully Restored records for ${this.getHistoryContext()}`);\n                this.logger.trace({ type: \"method\", method: \"restore\", records: this.values });\n            }\n            catch (e) {\n                this.logger.debug(`Failed to Restore records for ${this.getHistoryContext()}`);\n                this.logger.error(e);\n            }\n        });\n    }\n    reset() {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            yield this.disable();\n            yield Promise.all(this.cached.map((record) => tslib_1.__awaiter(this, void 0, void 0, function* () {\n                this.records.set(record.id, record);\n            })));\n            yield this.enable();\n        });\n    }\n    isEnabled() {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            if (!this.cached.length)\n                return;\n            return new Promise(resolve => {\n                this.events.once(constants_1.HISTORY_EVENTS.enabled, () => resolve());\n            });\n        });\n    }\n    enable() {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            this.cached = [];\n            this.events.emit(constants_1.HISTORY_EVENTS.enabled);\n        });\n    }\n    disable() {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            if (!this.cached.length) {\n                this.cached = this.values;\n            }\n            this.events.emit(constants_1.HISTORY_EVENTS.disabled);\n        });\n    }\n    registerEventListeners() {\n        this.events.on(constants_1.HISTORY_EVENTS.created, (record) => {\n            this.logger.info(`Emitting ${constants_1.HISTORY_EVENTS.created}`);\n            this.logger.debug({ type: \"event\", event: constants_1.HISTORY_EVENTS.created, record });\n            this.persist();\n        });\n        this.events.on(constants_1.HISTORY_EVENTS.updated, (record) => {\n            this.logger.info(`Emitting ${constants_1.HISTORY_EVENTS.updated}`);\n            this.logger.debug({ type: \"event\", event: constants_1.HISTORY_EVENTS.updated, record });\n            this.persist();\n        });\n        this.events.on(constants_1.HISTORY_EVENTS.deleted, (record) => {\n            this.logger.info(`Emitting ${constants_1.HISTORY_EVENTS.deleted}`);\n            this.logger.debug({ type: \"event\", event: constants_1.HISTORY_EVENTS.deleted, record });\n            this.persist();\n        });\n    }\n}\nexports.JsonRpcHistory = JsonRpcHistory;\n//# sourceMappingURL=history.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Pairing = void 0;\nconst tslib_1 = require(\"tslib\");\nconst events_1 = require(\"events\");\nconst pino_utils_1 = require(\"@pedrouid/pino-utils\");\nconst types_1 = require(\"@walletconnect/types\");\nconst utils_1 = require(\"@walletconnect/utils\");\nconst utils_2 = require(\"@json-rpc-tools/utils\");\nconst subscription_1 = require(\"./subscription\");\nconst history_1 = require(\"./history\");\nconst constants_1 = require(\"../constants\");\nclass Pairing extends types_1.IPairing {\n    constructor(client, logger) {\n        super(client, logger);\n        this.client = client;\n        this.logger = logger;\n        this.events = new events_1.EventEmitter();\n        this.context = constants_1.PAIRING_CONTEXT;\n        this.logger = pino_utils_1.generateChildLogger(logger, this.context);\n        this.pending = new subscription_1.Subscription(client, this.logger, constants_1.PAIRING_STATUS.pending, false);\n        this.settled = new subscription_1.Subscription(client, this.logger, constants_1.PAIRING_STATUS.settled, true);\n        this.history = new history_1.JsonRpcHistory(client, this.logger);\n        this.registerEventListeners();\n    }\n    init() {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            this.logger.trace(`Initialized`);\n            yield this.pending.init();\n            yield this.settled.init();\n            yield this.history.init();\n        });\n    }\n    get(topic) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            return this.settled.get(topic);\n        });\n    }\n    ping(topic, timeout) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            const request = { method: constants_1.PAIRING_JSONRPC.ping, params: {} };\n            return this.request({ topic, request, timeout: timeout || constants_1.THIRTY_SECONDS * 1000 });\n        });\n    }\n    send(topic, payload) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            const pairing = yield this.settled.get(topic);\n            const encryptKeys = {\n                sharedKey: pairing.sharedKey,\n                publicKey: pairing.self.publicKey,\n            };\n            if (utils_2.isJsonRpcRequest(payload)) {\n                if (!Object.values(constants_1.PAIRING_JSONRPC).includes(payload.method)) {\n                    if (!pairing.permissions.jsonrpc.methods.includes(payload.method)) {\n                        const error = utils_1.getError(utils_1.ERROR.UNAUTHORIZED_JSON_RPC_METHOD, {\n                            method: payload.method,\n                        });\n                        this.logger.error(error.message);\n                        throw new Error(error.message);\n                    }\n                    yield this.history.set(topic, payload);\n                    payload = utils_2.formatJsonRpcRequest(constants_1.PAIRING_JSONRPC.payload, {\n                        request: { method: payload.method, params: payload.params },\n                    }, payload.id);\n                }\n            }\n            else {\n                yield this.history.update(topic, payload);\n            }\n            yield this.client.relayer.publish(pairing.topic, payload, {\n                relay: pairing.relay,\n                encryptKeys,\n            });\n        });\n    }\n    get length() {\n        return this.settled.length;\n    }\n    get topics() {\n        return this.settled.topics;\n    }\n    get values() {\n        return this.settled.values.map(x => x.data);\n    }\n    create(params) {\n        return new Promise((resolve, reject) => tslib_1.__awaiter(this, void 0, void 0, function* () {\n            this.logger.debug(`Create Pairing`);\n            this.logger.trace({ type: \"method\", method: \"create\", params });\n            const maxTimeout = (params === null || params === void 0 ? void 0 : params.timeout) || constants_1.FIVE_MINUTES * 1000;\n            const timeout = setTimeout(() => {\n                const error = utils_1.getError(utils_1.ERROR.SETTLE_TIMEOUT, {\n                    context: this.context,\n                    timeout: maxTimeout,\n                });\n                this.logger.error(error.message);\n                reject(error.message);\n            }, maxTimeout);\n            let pending;\n            try {\n                pending = yield this.propose(params);\n            }\n            catch (e) {\n                clearTimeout(timeout);\n                return reject(e);\n            }\n            this.pending.on(constants_1.SUBSCRIPTION_EVENTS.updated, (updatedEvent) => tslib_1.__awaiter(this, void 0, void 0, function* () {\n                if (pending.topic !== updatedEvent.data.topic)\n                    return;\n                if (utils_1.isPairingResponded(updatedEvent.data)) {\n                    const outcome = updatedEvent.data.outcome;\n                    clearTimeout(timeout);\n                    if (utils_1.isPairingFailed(outcome)) {\n                        try {\n                            yield this.pending.delete(pending.topic, outcome.reason);\n                        }\n                        catch (e) {\n                            return reject(e);\n                        }\n                        reject(new Error(outcome.reason.message));\n                    }\n                    else {\n                        try {\n                            const pairing = yield this.settled.get(outcome.topic);\n                            const reason = utils_1.getError(utils_1.ERROR.SETTLED, { context: this.context });\n                            yield this.pending.delete(pending.topic, reason);\n                            resolve(pairing);\n                        }\n                        catch (e) {\n                            return reject(e);\n                        }\n                    }\n                }\n            }));\n        }));\n    }\n    respond(params) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            this.logger.debug(`Respond Pairing`);\n            this.logger.trace({ type: \"method\", method: \"respond\", params });\n            const { approved, proposal } = params;\n            const self = utils_1.generateKeyPair();\n            if (approved) {\n                try {\n                    const responder = {\n                        publicKey: self.publicKey,\n                    };\n                    const expiry = Date.now() + proposal.ttl * 1000;\n                    const controller = proposal.proposer.controller\n                        ? { publicKey: proposal.proposer.publicKey }\n                        : { publicKey: self.publicKey };\n                    const pairing = yield this.settle({\n                        relay: proposal.relay,\n                        self,\n                        peer: { publicKey: proposal.proposer.publicKey },\n                        permissions: Object.assign(Object.assign({}, proposal.permissions), { controller }),\n                        state: {},\n                        ttl: proposal.ttl,\n                        expiry,\n                    });\n                    const outcome = {\n                        topic: pairing.topic,\n                        relay: pairing.relay,\n                        responder,\n                        expiry,\n                        state: {},\n                    };\n                    const pending = {\n                        status: constants_1.PAIRING_STATUS.responded,\n                        topic: proposal.topic,\n                        relay: proposal.relay,\n                        self,\n                        proposal,\n                        outcome,\n                    };\n                    yield this.pending.set(pending.topic, pending, { relay: pending.relay });\n                    return pending;\n                }\n                catch (e) {\n                    const reason = utils_1.getError(utils_1.ERROR.GENERIC, { message: e.message });\n                    const outcome = { reason };\n                    const pending = {\n                        status: constants_1.PAIRING_STATUS.responded,\n                        topic: proposal.topic,\n                        relay: proposal.relay,\n                        self,\n                        proposal,\n                        outcome,\n                    };\n                    yield this.pending.set(pending.topic, pending, { relay: pending.relay });\n                    return pending;\n                }\n            }\n            else {\n                const defaultReason = utils_1.getError(utils_1.ERROR.NOT_APPROVED, { context: this.context });\n                const outcome = { reason: (params === null || params === void 0 ? void 0 : params.reason) || defaultReason };\n                const pending = {\n                    status: constants_1.PAIRING_STATUS.responded,\n                    topic: proposal.topic,\n                    relay: proposal.relay,\n                    self,\n                    proposal,\n                    outcome,\n                };\n                yield this.pending.set(pending.topic, pending, { relay: pending.relay });\n                return pending;\n            }\n        });\n    }\n    upgrade(params) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            this.logger.info(`Upgrade Pairing`);\n            this.logger.trace({ type: \"method\", method: \"upgrade\", params });\n            const pairing = yield this.settled.get(params.topic);\n            const participant = { publicKey: pairing.self.publicKey };\n            const upgrade = yield this.handleUpgrade(params.topic, params, participant);\n            const request = utils_2.formatJsonRpcRequest(constants_1.PAIRING_JSONRPC.upgrade, upgrade);\n            yield this.send(pairing.topic, request);\n            return pairing;\n        });\n    }\n    update(params) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            this.logger.debug(`Update Pairing`);\n            this.logger.trace({ type: \"method\", method: \"update\", params });\n            const pairing = yield this.settled.get(params.topic);\n            const participant = { publicKey: pairing.self.publicKey };\n            const update = yield this.handleUpdate(params.topic, params, participant);\n            const request = utils_2.formatJsonRpcRequest(constants_1.PAIRING_JSONRPC.update, update);\n            yield this.send(pairing.topic, request);\n            return pairing;\n        });\n    }\n    request(params) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            return new Promise((resolve, reject) => tslib_1.__awaiter(this, void 0, void 0, function* () {\n                const request = utils_2.formatJsonRpcRequest(params.request.method, params.request.params);\n                const maxTimeout = (params === null || params === void 0 ? void 0 : params.timeout) || constants_1.FIVE_MINUTES * 1000;\n                const timeout = setTimeout(() => {\n                    const error = utils_1.getError(utils_1.ERROR.JSONRPC_REQUEST_TIMEOUT, {\n                        method: request.method,\n                        timeout: maxTimeout,\n                    });\n                    this.logger.error(error.message);\n                    reject(error.message);\n                }, maxTimeout);\n                this.events.on(constants_1.PAIRING_EVENTS.response, (responseEvent) => {\n                    if (params.topic !== responseEvent.topic)\n                        return;\n                    const response = responseEvent.response;\n                    if (response.id !== request.id)\n                        return;\n                    clearTimeout(timeout);\n                    if (utils_2.isJsonRpcError(response)) {\n                        const errorMessage = response.error.message;\n                        this.logger.error(errorMessage);\n                        return reject(new Error(errorMessage));\n                    }\n                    return resolve(response.result);\n                });\n                try {\n                    yield this.send(params.topic, request);\n                }\n                catch (e) {\n                    clearTimeout(timeout);\n                    return reject(e);\n                }\n            }));\n        });\n    }\n    delete(params) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            this.logger.debug(`Delete Pairing`);\n            this.logger.trace({ type: \"method\", method: \"delete\", params });\n            yield this.settled.delete(params.topic, params.reason);\n        });\n    }\n    on(event, listener) {\n        this.events.on(event, listener);\n    }\n    once(event, listener) {\n        this.events.once(event, listener);\n    }\n    off(event, listener) {\n        this.events.off(event, listener);\n    }\n    removeListener(event, listener) {\n        this.events.removeListener(event, listener);\n    }\n    propose(params) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            this.logger.debug(`Propose Pairing`);\n            this.logger.trace({ type: \"method\", method: \"propose\", params });\n            const relay = (params === null || params === void 0 ? void 0 : params.relay) || { protocol: constants_1.RELAYER_DEFAULT_PROTOCOL };\n            const topic = utils_1.generateRandomBytes32();\n            const self = utils_1.generateKeyPair();\n            const proposer = {\n                publicKey: self.publicKey,\n                controller: this.client.controller,\n            };\n            const uri = utils_1.formatUri({\n                protocol: this.client.protocol,\n                version: this.client.version,\n                topic: topic,\n                publicKey: proposer.publicKey,\n                controller: proposer.controller,\n                relay: relay,\n            });\n            const signal = {\n                method: constants_1.PAIRING_SIGNAL_METHOD_URI,\n                params: { uri },\n            };\n            const permissions = {\n                jsonrpc: {\n                    methods: [constants_1.SESSION_JSONRPC.propose],\n                },\n            };\n            const proposal = {\n                relay,\n                topic,\n                proposer,\n                signal,\n                permissions,\n                ttl: constants_1.PAIRING_DEFAULT_TTL,\n            };\n            const pending = {\n                status: constants_1.PAIRING_STATUS.proposed,\n                topic: proposal.topic,\n                relay: proposal.relay,\n                self,\n                proposal,\n            };\n            yield this.pending.set(pending.topic, pending, { relay });\n            return pending;\n        });\n    }\n    settle(params) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            this.logger.debug(`Settle Pairing`);\n            this.logger.trace({ type: \"method\", method: \"settle\", params });\n            const sharedKey = utils_1.deriveSharedKey(params.self.privateKey, params.peer.publicKey);\n            const topic = yield utils_1.sha256(sharedKey);\n            const pairing = {\n                topic,\n                relay: params.relay,\n                sharedKey,\n                self: params.self,\n                peer: params.peer,\n                permissions: params.permissions,\n                expiry: params.expiry,\n                state: params.state,\n            };\n            const decryptKeys = {\n                sharedKey,\n            };\n            yield this.settled.set(pairing.topic, pairing, {\n                relay: pairing.relay,\n                expiry: pairing.expiry,\n                decryptKeys,\n            });\n            return pairing;\n        });\n    }\n    onResponse(payloadEvent) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            const { topic, payload } = payloadEvent;\n            this.logger.debug(`Receiving Pairing response`);\n            this.logger.trace({ type: \"method\", method: \"onResponse\", topic, payload });\n            const request = payload;\n            const pending = yield this.pending.get(topic);\n            let error;\n            if (!utils_1.isPairingFailed(request.params)) {\n                try {\n                    const controller = pending.proposal.proposer.controller\n                        ? { publicKey: pending.proposal.proposer.publicKey }\n                        : { publicKey: request.params.responder.publicKey };\n                    const pairing = yield this.settle({\n                        relay: pending.relay,\n                        self: pending.self,\n                        peer: { publicKey: request.params.responder.publicKey },\n                        permissions: Object.assign(Object.assign({}, pending.proposal.permissions), { controller }),\n                        ttl: pending.proposal.ttl,\n                        expiry: request.params.expiry,\n                        state: {},\n                    });\n                    yield this.pending.update(topic, {\n                        status: constants_1.PAIRING_STATUS.responded,\n                        outcome: {\n                            topic: pairing.topic,\n                            relay: pairing.relay,\n                            responder: request.params.responder,\n                            expiry: pairing.expiry,\n                            state: {},\n                        },\n                    });\n                }\n                catch (e) {\n                    this.logger.error(e);\n                    error = utils_1.getError(utils_1.ERROR.GENERIC, { message: e.message });\n                    yield this.pending.update(topic, {\n                        status: constants_1.PAIRING_STATUS.responded,\n                        outcome: { reason: error },\n                    });\n                }\n                const response = typeof error === \"undefined\"\n                    ? utils_2.formatJsonRpcResult(request.id, true)\n                    : utils_2.formatJsonRpcError(request.id, error);\n                yield this.client.relayer.publish(pending.topic, response, { relay: pending.relay });\n            }\n            else {\n                this.logger.error(request.params.reason);\n                yield this.pending.update(topic, {\n                    status: constants_1.PAIRING_STATUS.responded,\n                    outcome: { reason: request.params.reason },\n                });\n            }\n        });\n    }\n    onAcknowledge(payloadEvent) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            const { topic, payload } = payloadEvent;\n            this.logger.debug(`Receiving Pairing acknowledge`);\n            this.logger.trace({ type: \"method\", method: \"onAcknowledge\", topic, payload });\n            const response = payload;\n            const pending = yield this.pending.get(topic);\n            if (!utils_1.isPairingResponded(pending))\n                return;\n            if (utils_2.isJsonRpcError(response) && !utils_1.isPairingFailed(pending.outcome)) {\n                yield this.settled.delete(pending.outcome.topic, response.error);\n            }\n            const reason = utils_1.getError(utils_1.ERROR.RESPONSE_ACKNOWLEDGED, { context: this.context });\n            yield this.pending.delete(topic, reason);\n        });\n    }\n    onMessage(payloadEvent) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            const { topic, payload } = payloadEvent;\n            this.logger.debug(`Receiving Pairing message`);\n            this.logger.trace({ type: \"method\", method: \"onMessage\", topic, payload });\n            if (utils_2.isJsonRpcRequest(payload)) {\n                const request = payload;\n                const pairing = yield this.settled.get(payloadEvent.topic);\n                let error;\n                switch (request.method) {\n                    case constants_1.PAIRING_JSONRPC.payload:\n                        yield this.onPayload(payloadEvent);\n                        break;\n                    case constants_1.PAIRING_JSONRPC.update:\n                        yield this.onUpdate(payloadEvent);\n                        break;\n                    case constants_1.PAIRING_JSONRPC.upgrade:\n                        yield this.onUpgrade(payloadEvent);\n                        break;\n                    case constants_1.PAIRING_JSONRPC.delete:\n                        yield this.settled.delete(pairing.topic, request.params.reason);\n                        break;\n                    case constants_1.PAIRING_JSONRPC.ping:\n                        yield this.send(pairing.topic, utils_2.formatJsonRpcResult(request.id, false));\n                        break;\n                    default:\n                        error = utils_1.getError(utils_1.ERROR.UNKNOWN_JSONRPC_METHOD, { method: request.method });\n                        this.logger.error(error.message);\n                        yield this.send(pairing.topic, utils_2.formatJsonRpcError(request.id, error));\n                        break;\n                }\n            }\n            else {\n                this.onPayloadEvent(payloadEvent);\n            }\n        });\n    }\n    onPayload(payloadEvent) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            const { topic, payload } = payloadEvent;\n            if (utils_2.isJsonRpcRequest(payload)) {\n                const { id, params } = payload;\n                const request = utils_2.formatJsonRpcRequest(params.request.method, params.request.params, id);\n                const pairing = yield this.settled.get(topic);\n                if (!pairing.permissions.jsonrpc.methods.includes(request.method)) {\n                    const error = utils_1.getError(utils_1.ERROR.UNAUTHORIZED_JSON_RPC_METHOD, {\n                        method: request.method,\n                    });\n                    this.logger.error(error.message);\n                    throw new Error(error.message);\n                }\n                const pairingPayloadEvent = {\n                    topic,\n                    payload: request,\n                };\n                this.logger.debug(`Receiving Pairing payload`);\n                this.logger.trace(Object.assign({ type: \"method\", method: \"onPayload\" }, pairingPayloadEvent));\n                this.onPayloadEvent(pairingPayloadEvent);\n            }\n            else {\n                const pairingPayloadEvent = {\n                    topic,\n                    payload,\n                };\n                this.logger.debug(`Receiving Pairing payload`);\n                this.logger.trace(Object.assign({ type: \"method\", method: \"onPayload\" }, pairingPayloadEvent));\n                this.onPayloadEvent(pairingPayloadEvent);\n            }\n        });\n    }\n    onUpdate(payloadEvent) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            const { topic, payload } = payloadEvent;\n            this.logger.debug(`Receiving Pairing update`);\n            this.logger.trace({ type: \"method\", method: \"onUpdate\", topic, payload });\n            const request = payloadEvent.payload;\n            const pairing = yield this.settled.get(payloadEvent.topic);\n            try {\n                const participant = { publicKey: pairing.peer.publicKey };\n                yield this.handleUpdate(topic, request.params, participant);\n                const response = utils_2.formatJsonRpcResult(request.id, true);\n                yield this.send(pairing.topic, response);\n            }\n            catch (e) {\n                this.logger.error(e);\n                const response = utils_2.formatJsonRpcError(request.id, e.message);\n                yield this.send(pairing.topic, response);\n            }\n        });\n    }\n    onUpgrade(payloadEvent) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            const { topic, payload } = payloadEvent;\n            this.logger.debug(`Receiving Pairing upgrade`);\n            this.logger.trace({ type: \"method\", method: \"onUpgrade\", topic, payload });\n            const request = payloadEvent.payload;\n            const pairing = yield this.settled.get(payloadEvent.topic);\n            try {\n                const participant = { publicKey: pairing.peer.publicKey };\n                yield this.handleUpgrade(topic, request.params, participant);\n                const response = utils_2.formatJsonRpcResult(request.id, true);\n                yield this.send(pairing.topic, response);\n            }\n            catch (e) {\n                this.logger.error(e);\n                const response = utils_2.formatJsonRpcError(request.id, e.message);\n                yield this.send(pairing.topic, response);\n            }\n        });\n    }\n    handleUpdate(topic, params, participant) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            const pairing = yield this.settled.get(topic);\n            let update;\n            if (typeof params.state !== \"undefined\") {\n                const state = pairing.state;\n                if (participant.publicKey !== pairing.permissions.controller.publicKey) {\n                    const error = utils_1.getError(utils_1.ERROR.UNAUTHORIZED_UPDATE_REQUEST, { context: this.context });\n                    this.logger.error(error.message);\n                    throw new Error(error.message);\n                }\n                state.metadata = params.state.metadata || state.metadata;\n                update = { state };\n            }\n            else {\n                const error = utils_1.getError(utils_1.ERROR.INVALID_UPDATE_REQUEST, { context: this.context });\n                this.logger.error(error.message);\n                throw new Error(error.message);\n            }\n            yield this.settled.update(pairing.topic, pairing);\n            return update;\n        });\n    }\n    handleUpgrade(topic, params, participant) {\n        var _a;\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            const pairing = yield this.settled.get(topic);\n            let upgrade = { permissions: {} };\n            if (participant.publicKey !== pairing.permissions.controller.publicKey) {\n                const error = utils_1.getError(utils_1.ERROR.UNAUTHORIZED_UPGRADE_REQUEST, { context: this.context });\n                this.logger.error(error.message);\n                throw new Error(error.message);\n            }\n            const permissions = {\n                jsonrpc: {\n                    methods: [\n                        ...pairing.permissions.jsonrpc.methods,\n                        ...(((_a = params.permissions.jsonrpc) === null || _a === void 0 ? void 0 : _a.methods) || []),\n                    ],\n                },\n            };\n            upgrade = { permissions };\n            pairing.permissions = Object.assign(Object.assign({}, permissions), { controller: pairing.permissions.controller });\n            yield this.settled.update(pairing.topic, pairing);\n            return upgrade;\n        });\n    }\n    shouldIgnorePayloadEvent(payloadEvent) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            const { topic, payload } = payloadEvent;\n            if (!this.settled.subscriptions.has(topic))\n                return true;\n            let exists = false;\n            try {\n                exists = yield this.history.exists(topic, payload.id);\n            }\n            catch (e) {\n            }\n            return exists;\n        });\n    }\n    onPayloadEvent(payloadEvent) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            const { topic, payload } = payloadEvent;\n            if (utils_2.isJsonRpcRequest(payload)) {\n                if (yield this.shouldIgnorePayloadEvent(payloadEvent))\n                    return;\n                yield this.history.set(topic, payload);\n            }\n            else {\n                yield this.history.update(topic, payload);\n            }\n            if (utils_2.isJsonRpcRequest(payload)) {\n                const requestEvent = { topic, request: payload };\n                this.logger.info(`Emitting ${constants_1.PAIRING_EVENTS.request}`);\n                this.logger.debug({ type: \"event\", event: constants_1.PAIRING_EVENTS.request, data: requestEvent });\n                this.events.emit(constants_1.PAIRING_EVENTS.request, requestEvent);\n            }\n            else {\n                const responseEvent = { topic, response: payload };\n                this.logger.info(`Emitting ${constants_1.PAIRING_EVENTS.response}`);\n                this.logger.debug({ type: \"event\", event: constants_1.PAIRING_EVENTS.response, data: responseEvent });\n                this.events.emit(constants_1.PAIRING_EVENTS.response, responseEvent);\n            }\n        });\n    }\n    onPendingPayloadEvent(event) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            if (utils_2.isJsonRpcRequest(event.payload)) {\n                switch (event.payload.method) {\n                    case constants_1.PAIRING_JSONRPC.approve:\n                    case constants_1.PAIRING_JSONRPC.reject:\n                        this.onResponse(event);\n                        break;\n                    default:\n                        break;\n                }\n            }\n            else {\n                this.onAcknowledge(event);\n            }\n        });\n    }\n    onPendingStatusEvent(event) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            const pending = event.data;\n            if (utils_1.isPairingResponded(pending)) {\n                this.logger.info(`Emitting ${constants_1.PAIRING_EVENTS.responded}`);\n                this.logger.debug({ type: \"event\", event: constants_1.PAIRING_EVENTS.responded, data: pending });\n                this.events.emit(constants_1.PAIRING_EVENTS.responded, pending);\n                if (!utils_1.isSubscriptionUpdatedEvent(event)) {\n                    const method = !utils_1.isPairingFailed(pending.outcome)\n                        ? constants_1.PAIRING_JSONRPC.approve\n                        : constants_1.PAIRING_JSONRPC.reject;\n                    const request = utils_2.formatJsonRpcRequest(method, pending.outcome);\n                    yield this.client.relayer.publish(pending.topic, request, { relay: pending.relay });\n                }\n            }\n            else {\n                this.logger.info(`Emitting ${constants_1.PAIRING_EVENTS.proposed}`);\n                this.logger.debug({ type: \"event\", event: constants_1.PAIRING_EVENTS.proposed, data: pending });\n                this.events.emit(constants_1.PAIRING_EVENTS.proposed, pending);\n            }\n        });\n    }\n    registerEventListeners() {\n        this.pending.on(constants_1.SUBSCRIPTION_EVENTS.payload, (payloadEvent) => this.onPendingPayloadEvent(payloadEvent));\n        this.pending.on(constants_1.SUBSCRIPTION_EVENTS.created, (createdEvent) => this.onPendingStatusEvent(createdEvent));\n        this.pending.on(constants_1.SUBSCRIPTION_EVENTS.updated, (updatedEvent) => this.onPendingStatusEvent(updatedEvent));\n        this.settled.on(constants_1.SUBSCRIPTION_EVENTS.payload, (payloadEvent) => this.onMessage(payloadEvent));\n        this.settled.on(constants_1.SUBSCRIPTION_EVENTS.created, (createdEvent) => {\n            const { data: pairing } = createdEvent;\n            this.logger.info(`Emitting ${constants_1.PAIRING_EVENTS.settled}`);\n            this.logger.debug({ type: \"event\", event: constants_1.PAIRING_EVENTS.settled, data: pairing });\n            this.events.emit(constants_1.PAIRING_EVENTS.settled, pairing);\n        });\n        this.settled.on(constants_1.SUBSCRIPTION_EVENTS.updated, (updatedEvent) => {\n            const { data: pairing, update } = updatedEvent;\n            this.logger.info(`Emitting ${constants_1.PAIRING_EVENTS.updated}`);\n            this.logger.debug({ type: \"event\", event: constants_1.PAIRING_EVENTS.updated, data: pairing, update });\n            this.events.emit(constants_1.PAIRING_EVENTS.updated, pairing, update);\n        });\n        this.settled.on(constants_1.SUBSCRIPTION_EVENTS.deleted, (deletedEvent) => tslib_1.__awaiter(this, void 0, void 0, function* () {\n            const { data: pairing, reason } = deletedEvent;\n            this.logger.info(`Emitting ${constants_1.PAIRING_EVENTS.deleted}`);\n            this.logger.debug({ type: \"event\", event: constants_1.PAIRING_EVENTS.deleted, data: pairing, reason });\n            this.events.emit(constants_1.PAIRING_EVENTS.deleted, pairing, reason);\n            const request = utils_2.formatJsonRpcRequest(constants_1.PAIRING_JSONRPC.delete, { reason });\n            yield this.history.delete(pairing.topic);\n            yield this.client.relayer.publish(pairing.topic, request, { relay: pairing.relay });\n        }));\n        this.settled.on(constants_1.SUBSCRIPTION_EVENTS.sync, () => this.events.emit(constants_1.PAIRING_EVENTS.sync));\n        this.settled.on(constants_1.SUBSCRIPTION_EVENTS.enabled, () => this.events.emit(constants_1.PAIRING_EVENTS.enabled));\n        this.settled.on(constants_1.SUBSCRIPTION_EVENTS.disabled, () => this.events.emit(constants_1.PAIRING_EVENTS.disabled));\n    }\n}\nexports.Pairing = Pairing;\n//# sourceMappingURL=pairing.js.map","'use strict';\n\nmodule.exports = function bind(fn, thisArg) {\n  return function wrap() {\n    var args = new Array(arguments.length);\n    for (var i = 0; i < args.length; i++) {\n      args[i] = arguments[i];\n    }\n    return fn.apply(thisArg, args);\n  };\n};\n","'use strict';\n\nvar bind = require('./helpers/bind');\n\n/*global toString:true*/\n\n// utils is a library of generic helper functions non-specific to axios\n\nvar toString = Object.prototype.toString;\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Array, otherwise false\n */\nfunction isArray(val) {\n  return toString.call(val) === '[object Array]';\n}\n\n/**\n * Determine if a value is undefined\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nfunction isUndefined(val) {\n  return typeof val === 'undefined';\n}\n\n/**\n * Determine if a value is a Buffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Buffer, otherwise false\n */\nfunction isBuffer(val) {\n  return val !== null && !isUndefined(val) && val.constructor !== null && !isUndefined(val.constructor)\n    && typeof val.constructor.isBuffer === 'function' && val.constructor.isBuffer(val);\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nfunction isArrayBuffer(val) {\n  return toString.call(val) === '[object ArrayBuffer]';\n}\n\n/**\n * Determine if a value is a FormData\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nfunction isFormData(val) {\n  return (typeof FormData !== 'undefined') && (val instanceof FormData);\n}\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  var result;\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = (val) && (val.buffer) && (val.buffer instanceof ArrayBuffer);\n  }\n  return result;\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a String, otherwise false\n */\nfunction isString(val) {\n  return typeof val === 'string';\n}\n\n/**\n * Determine if a value is a Number\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Number, otherwise false\n */\nfunction isNumber(val) {\n  return typeof val === 'number';\n}\n\n/**\n * Determine if a value is an Object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is an Object, otherwise false\n */\nfunction isObject(val) {\n  return val !== null && typeof val === 'object';\n}\n\n/**\n * Determine if a value is a plain Object\n *\n * @param {Object} val The value to test\n * @return {boolean} True if value is a plain Object, otherwise false\n */\nfunction isPlainObject(val) {\n  if (toString.call(val) !== '[object Object]') {\n    return false;\n  }\n\n  var prototype = Object.getPrototypeOf(val);\n  return prototype === null || prototype === Object.prototype;\n}\n\n/**\n * Determine if a value is a Date\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Date, otherwise false\n */\nfunction isDate(val) {\n  return toString.call(val) === '[object Date]';\n}\n\n/**\n * Determine if a value is a File\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a File, otherwise false\n */\nfunction isFile(val) {\n  return toString.call(val) === '[object File]';\n}\n\n/**\n * Determine if a value is a Blob\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nfunction isBlob(val) {\n  return toString.call(val) === '[object Blob]';\n}\n\n/**\n * Determine if a value is a Function\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\nfunction isFunction(val) {\n  return toString.call(val) === '[object Function]';\n}\n\n/**\n * Determine if a value is a Stream\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nfunction isStream(val) {\n  return isObject(val) && isFunction(val.pipe);\n}\n\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {Object} val The value to test\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nfunction isURLSearchParams(val) {\n  return typeof URLSearchParams !== 'undefined' && val instanceof URLSearchParams;\n}\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n * @returns {String} The String freed of excess whitespace\n */\nfunction trim(str) {\n  return str.replace(/^\\s*/, '').replace(/\\s*$/, '');\n}\n\n/**\n * Determine if we're running in a standard browser environment\n *\n * This allows axios to run in a web worker, and react-native.\n * Both environments support XMLHttpRequest, but not fully standard globals.\n *\n * web workers:\n *  typeof window -> undefined\n *  typeof document -> undefined\n *\n * react-native:\n *  navigator.product -> 'ReactNative'\n * nativescript\n *  navigator.product -> 'NativeScript' or 'NS'\n */\nfunction isStandardBrowserEnv() {\n  if (typeof navigator !== 'undefined' && (navigator.product === 'ReactNative' ||\n                                           navigator.product === 'NativeScript' ||\n                                           navigator.product === 'NS')) {\n    return false;\n  }\n  return (\n    typeof window !== 'undefined' &&\n    typeof document !== 'undefined'\n  );\n}\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n */\nfunction forEach(obj, fn) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  }\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object') {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (var i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Iterate over object keys\n    for (var key in obj) {\n      if (Object.prototype.hasOwnProperty.call(obj, key)) {\n        fn.call(null, obj[key], key, obj);\n      }\n    }\n  }\n}\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/* obj1, obj2, obj3, ... */) {\n  var result = {};\n  function assignValue(val, key) {\n    if (isPlainObject(result[key]) && isPlainObject(val)) {\n      result[key] = merge(result[key], val);\n    } else if (isPlainObject(val)) {\n      result[key] = merge({}, val);\n    } else if (isArray(val)) {\n      result[key] = val.slice();\n    } else {\n      result[key] = val;\n    }\n  }\n\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n * @return {Object} The resulting value of object a\n */\nfunction extend(a, b, thisArg) {\n  forEach(b, function assignValue(val, key) {\n    if (thisArg && typeof val === 'function') {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  });\n  return a;\n}\n\n/**\n * Remove byte order marker. This catches EF BB BF (the UTF-8 BOM)\n *\n * @param {string} content with BOM\n * @return {string} content value without BOM\n */\nfunction stripBOM(content) {\n  if (content.charCodeAt(0) === 0xFEFF) {\n    content = content.slice(1);\n  }\n  return content;\n}\n\nmodule.exports = {\n  isArray: isArray,\n  isArrayBuffer: isArrayBuffer,\n  isBuffer: isBuffer,\n  isFormData: isFormData,\n  isArrayBufferView: isArrayBufferView,\n  isString: isString,\n  isNumber: isNumber,\n  isObject: isObject,\n  isPlainObject: isPlainObject,\n  isUndefined: isUndefined,\n  isDate: isDate,\n  isFile: isFile,\n  isBlob: isBlob,\n  isFunction: isFunction,\n  isStream: isStream,\n  isURLSearchParams: isURLSearchParams,\n  isStandardBrowserEnv: isStandardBrowserEnv,\n  forEach: forEach,\n  merge: merge,\n  extend: extend,\n  trim: trim,\n  stripBOM: stripBOM\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction encode(val) {\n  return encodeURIComponent(val).\n    replace(/%3A/gi, ':').\n    replace(/%24/g, '$').\n    replace(/%2C/gi, ',').\n    replace(/%20/g, '+').\n    replace(/%5B/gi, '[').\n    replace(/%5D/gi, ']');\n}\n\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @returns {string} The formatted url\n */\nmodule.exports = function buildURL(url, params, paramsSerializer) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n\n  var serializedParams;\n  if (paramsSerializer) {\n    serializedParams = paramsSerializer(params);\n  } else if (utils.isURLSearchParams(params)) {\n    serializedParams = params.toString();\n  } else {\n    var parts = [];\n\n    utils.forEach(params, function serialize(val, key) {\n      if (val === null || typeof val === 'undefined') {\n        return;\n      }\n\n      if (utils.isArray(val)) {\n        key = key + '[]';\n      } else {\n        val = [val];\n      }\n\n      utils.forEach(val, function parseValue(v) {\n        if (utils.isDate(v)) {\n          v = v.toISOString();\n        } else if (utils.isObject(v)) {\n          v = JSON.stringify(v);\n        }\n        parts.push(encode(key) + '=' + encode(v));\n      });\n    });\n\n    serializedParams = parts.join('&');\n  }\n\n  if (serializedParams) {\n    var hashmarkIndex = url.indexOf('#');\n    if (hashmarkIndex !== -1) {\n      url = url.slice(0, hashmarkIndex);\n    }\n\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n  }\n\n  return url;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nfunction InterceptorManager() {\n  this.handlers = [];\n}\n\n/**\n * Add a new interceptor to the stack\n *\n * @param {Function} fulfilled The function to handle `then` for a `Promise`\n * @param {Function} rejected The function to handle `reject` for a `Promise`\n *\n * @return {Number} An ID used to remove interceptor later\n */\nInterceptorManager.prototype.use = function use(fulfilled, rejected) {\n  this.handlers.push({\n    fulfilled: fulfilled,\n    rejected: rejected\n  });\n  return this.handlers.length - 1;\n};\n\n/**\n * Remove an interceptor from the stack\n *\n * @param {Number} id The ID that was returned by `use`\n */\nInterceptorManager.prototype.eject = function eject(id) {\n  if (this.handlers[id]) {\n    this.handlers[id] = null;\n  }\n};\n\n/**\n * Iterate over all the registered interceptors\n *\n * This method is particularly useful for skipping over any\n * interceptors that may have become `null` calling `eject`.\n *\n * @param {Function} fn The function to call for each interceptor\n */\nInterceptorManager.prototype.forEach = function forEach(fn) {\n  utils.forEach(this.handlers, function forEachHandler(h) {\n    if (h !== null) {\n      fn(h);\n    }\n  });\n};\n\nmodule.exports = InterceptorManager;\n","'use strict';\n\nvar utils = require('./../utils');\n\n/**\n * Transform the data for a request or a response\n *\n * @param {Object|String} data The data to be transformed\n * @param {Array} headers The headers for the request or response\n * @param {Array|Function} fns A single function or Array of functions\n * @returns {*} The resulting transformed data\n */\nmodule.exports = function transformData(data, headers, fns) {\n  /*eslint no-param-reassign:0*/\n  utils.forEach(fns, function transform(fn) {\n    data = fn(data, headers);\n  });\n\n  return data;\n};\n","'use strict';\n\nmodule.exports = function isCancel(value) {\n  return !!(value && value.__CANCEL__);\n};\n","'use strict';\n\nvar utils = require('../utils');\n\nmodule.exports = function normalizeHeaderName(headers, normalizedName) {\n  utils.forEach(headers, function processHeader(value, name) {\n    if (name !== normalizedName && name.toUpperCase() === normalizedName.toUpperCase()) {\n      headers[normalizedName] = value;\n      delete headers[name];\n    }\n  });\n};\n","'use strict';\n\n/**\n * Update an Error with the specified config, error code, and response.\n *\n * @param {Error} error The error to update.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The error.\n */\nmodule.exports = function enhanceError(error, config, code, request, response) {\n  error.config = config;\n  if (code) {\n    error.code = code;\n  }\n\n  error.request = request;\n  error.response = response;\n  error.isAxiosError = true;\n\n  error.toJSON = function toJSON() {\n    return {\n      // Standard\n      message: this.message,\n      name: this.name,\n      // Microsoft\n      description: this.description,\n      number: this.number,\n      // Mozilla\n      fileName: this.fileName,\n      lineNumber: this.lineNumber,\n      columnNumber: this.columnNumber,\n      stack: this.stack,\n      // Axios\n      config: this.config,\n      code: this.code\n    };\n  };\n  return error;\n};\n","'use strict';\n\nvar enhanceError = require('./enhanceError');\n\n/**\n * Create an Error with the specified message, config, error code, request and response.\n *\n * @param {string} message The error message.\n * @param {Object} config The config.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n * @returns {Error} The created error.\n */\nmodule.exports = function createError(message, config, code, request, response) {\n  var error = new Error(message);\n  return enhanceError(error, config, code, request, response);\n};\n","'use strict';\n\nvar createError = require('./createError');\n\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n */\nmodule.exports = function settle(resolve, reject, response) {\n  var validateStatus = response.config.validateStatus;\n  if (!response.status || !validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(createError(\n      'Request failed with status code ' + response.status,\n      response.config,\n      null,\n      response.request,\n      response\n    ));\n  }\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs support document.cookie\n    (function standardBrowserEnv() {\n      return {\n        write: function write(name, value, expires, path, domain, secure) {\n          var cookie = [];\n          cookie.push(name + '=' + encodeURIComponent(value));\n\n          if (utils.isNumber(expires)) {\n            cookie.push('expires=' + new Date(expires).toGMTString());\n          }\n\n          if (utils.isString(path)) {\n            cookie.push('path=' + path);\n          }\n\n          if (utils.isString(domain)) {\n            cookie.push('domain=' + domain);\n          }\n\n          if (secure === true) {\n            cookie.push('secure');\n          }\n\n          document.cookie = cookie.join('; ');\n        },\n\n        read: function read(name) {\n          var match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n          return (match ? decodeURIComponent(match[3]) : null);\n        },\n\n        remove: function remove(name) {\n          this.write(name, '', Date.now() - 86400000);\n        }\n      };\n    })() :\n\n  // Non standard browser env (web workers, react-native) lack needed support.\n    (function nonStandardBrowserEnv() {\n      return {\n        write: function write() {},\n        read: function read() { return null; },\n        remove: function remove() {}\n      };\n    })()\n);\n","'use strict';\n\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\nmodule.exports = function isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d\\+\\-\\.]*:)?\\/\\//i.test(url);\n};\n","'use strict';\n\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n * @returns {string} The combined URL\n */\nmodule.exports = function combineURLs(baseURL, relativeURL) {\n  return relativeURL\n    ? baseURL.replace(/\\/+$/, '') + '/' + relativeURL.replace(/^\\/+/, '')\n    : baseURL;\n};\n","'use strict';\n\nvar isAbsoluteURL = require('../helpers/isAbsoluteURL');\nvar combineURLs = require('../helpers/combineURLs');\n\n/**\n * Creates a new URL by combining the baseURL with the requestedURL,\n * only when the requestedURL is not already an absolute URL.\n * If the requestURL is absolute, this function returns the requestedURL untouched.\n *\n * @param {string} baseURL The base URL\n * @param {string} requestedURL Absolute or relative URL to combine\n * @returns {string} The combined full path\n */\nmodule.exports = function buildFullPath(baseURL, requestedURL) {\n  if (baseURL && !isAbsoluteURL(requestedURL)) {\n    return combineURLs(baseURL, requestedURL);\n  }\n  return requestedURL;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\n// Headers whose duplicates are ignored by node\n// c.f. https://nodejs.org/api/http.html#http_message_headers\nvar ignoreDuplicateOf = [\n  'age', 'authorization', 'content-length', 'content-type', 'etag',\n  'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since',\n  'last-modified', 'location', 'max-forwards', 'proxy-authorization',\n  'referer', 'retry-after', 'user-agent'\n];\n\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} headers Headers needing to be parsed\n * @returns {Object} Headers parsed into an object\n */\nmodule.exports = function parseHeaders(headers) {\n  var parsed = {};\n  var key;\n  var val;\n  var i;\n\n  if (!headers) { return parsed; }\n\n  utils.forEach(headers.split('\\n'), function parser(line) {\n    i = line.indexOf(':');\n    key = utils.trim(line.substr(0, i)).toLowerCase();\n    val = utils.trim(line.substr(i + 1));\n\n    if (key) {\n      if (parsed[key] && ignoreDuplicateOf.indexOf(key) >= 0) {\n        return;\n      }\n      if (key === 'set-cookie') {\n        parsed[key] = (parsed[key] ? parsed[key] : []).concat([val]);\n      } else {\n        parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n      }\n    }\n  });\n\n  return parsed;\n};\n","'use strict';\n\nvar utils = require('./../utils');\n\nmodule.exports = (\n  utils.isStandardBrowserEnv() ?\n\n  // Standard browser envs have full support of the APIs needed to test\n  // whether the request URL is of the same origin as current location.\n    (function standardBrowserEnv() {\n      var msie = /(msie|trident)/i.test(navigator.userAgent);\n      var urlParsingNode = document.createElement('a');\n      var originURL;\n\n      /**\n    * Parse a URL to discover it's components\n    *\n    * @param {String} url The URL to be parsed\n    * @returns {Object}\n    */\n      function resolveURL(url) {\n        var href = url;\n\n        if (msie) {\n        // IE needs attribute set twice to normalize properties\n          urlParsingNode.setAttribute('href', href);\n          href = urlParsingNode.href;\n        }\n\n        urlParsingNode.setAttribute('href', href);\n\n        // urlParsingNode provides the UrlUtils interface - http://url.spec.whatwg.org/#urlutils\n        return {\n          href: urlParsingNode.href,\n          protocol: urlParsingNode.protocol ? urlParsingNode.protocol.replace(/:$/, '') : '',\n          host: urlParsingNode.host,\n          search: urlParsingNode.search ? urlParsingNode.search.replace(/^\\?/, '') : '',\n          hash: urlParsingNode.hash ? urlParsingNode.hash.replace(/^#/, '') : '',\n          hostname: urlParsingNode.hostname,\n          port: urlParsingNode.port,\n          pathname: (urlParsingNode.pathname.charAt(0) === '/') ?\n            urlParsingNode.pathname :\n            '/' + urlParsingNode.pathname\n        };\n      }\n\n      originURL = resolveURL(window.location.href);\n\n      /**\n    * Determine if a URL shares the same origin as the current location\n    *\n    * @param {String} requestURL The URL to test\n    * @returns {boolean} True if URL shares the same origin, otherwise false\n    */\n      return function isURLSameOrigin(requestURL) {\n        var parsed = (utils.isString(requestURL)) ? resolveURL(requestURL) : requestURL;\n        return (parsed.protocol === originURL.protocol &&\n            parsed.host === originURL.host);\n      };\n    })() :\n\n  // Non standard browser envs (web workers, react-native) lack needed support.\n    (function nonStandardBrowserEnv() {\n      return function isURLSameOrigin() {\n        return true;\n      };\n    })()\n);\n","'use strict';\n\nvar utils = require('./../utils');\nvar settle = require('./../core/settle');\nvar cookies = require('./../helpers/cookies');\nvar buildURL = require('./../helpers/buildURL');\nvar buildFullPath = require('../core/buildFullPath');\nvar parseHeaders = require('./../helpers/parseHeaders');\nvar isURLSameOrigin = require('./../helpers/isURLSameOrigin');\nvar createError = require('../core/createError');\n\nmodule.exports = function xhrAdapter(config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    var requestData = config.data;\n    var requestHeaders = config.headers;\n\n    if (utils.isFormData(requestData)) {\n      delete requestHeaders['Content-Type']; // Let the browser set it\n    }\n\n    var request = new XMLHttpRequest();\n\n    // HTTP basic authentication\n    if (config.auth) {\n      var username = config.auth.username || '';\n      var password = config.auth.password ? unescape(encodeURIComponent(config.auth.password)) : '';\n      requestHeaders.Authorization = 'Basic ' + btoa(username + ':' + password);\n    }\n\n    var fullPath = buildFullPath(config.baseURL, config.url);\n    request.open(config.method.toUpperCase(), buildURL(fullPath, config.params, config.paramsSerializer), true);\n\n    // Set the request timeout in MS\n    request.timeout = config.timeout;\n\n    // Listen for ready state\n    request.onreadystatechange = function handleLoad() {\n      if (!request || request.readyState !== 4) {\n        return;\n      }\n\n      // The request errored out and we didn't get a response, this will be\n      // handled by onerror instead\n      // With one exception: request that using file: protocol, most browsers\n      // will return status as 0 even though it's a successful request\n      if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n        return;\n      }\n\n      // Prepare the response\n      var responseHeaders = 'getAllResponseHeaders' in request ? parseHeaders(request.getAllResponseHeaders()) : null;\n      var responseData = !config.responseType || config.responseType === 'text' ? request.responseText : request.response;\n      var response = {\n        data: responseData,\n        status: request.status,\n        statusText: request.statusText,\n        headers: responseHeaders,\n        config: config,\n        request: request\n      };\n\n      settle(resolve, reject, response);\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle browser request cancellation (as opposed to a manual cancellation)\n    request.onabort = function handleAbort() {\n      if (!request) {\n        return;\n      }\n\n      reject(createError('Request aborted', config, 'ECONNABORTED', request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle low level network errors\n    request.onerror = function handleError() {\n      // Real errors are hidden from us by the browser\n      // onerror should only fire if it's a network error\n      reject(createError('Network Error', config, null, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle timeout\n    request.ontimeout = function handleTimeout() {\n      var timeoutErrorMessage = 'timeout of ' + config.timeout + 'ms exceeded';\n      if (config.timeoutErrorMessage) {\n        timeoutErrorMessage = config.timeoutErrorMessage;\n      }\n      reject(createError(timeoutErrorMessage, config, 'ECONNABORTED',\n        request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Add xsrf header\n    // This is only done if running in a standard browser environment.\n    // Specifically not if we're in a web worker, or react-native.\n    if (utils.isStandardBrowserEnv()) {\n      // Add xsrf header\n      var xsrfValue = (config.withCredentials || isURLSameOrigin(fullPath)) && config.xsrfCookieName ?\n        cookies.read(config.xsrfCookieName) :\n        undefined;\n\n      if (xsrfValue) {\n        requestHeaders[config.xsrfHeaderName] = xsrfValue;\n      }\n    }\n\n    // Add headers to the request\n    if ('setRequestHeader' in request) {\n      utils.forEach(requestHeaders, function setRequestHeader(val, key) {\n        if (typeof requestData === 'undefined' && key.toLowerCase() === 'content-type') {\n          // Remove Content-Type if data is undefined\n          delete requestHeaders[key];\n        } else {\n          // Otherwise add header to the request\n          request.setRequestHeader(key, val);\n        }\n      });\n    }\n\n    // Add withCredentials to request if needed\n    if (!utils.isUndefined(config.withCredentials)) {\n      request.withCredentials = !!config.withCredentials;\n    }\n\n    // Add responseType to request if needed\n    if (config.responseType) {\n      try {\n        request.responseType = config.responseType;\n      } catch (e) {\n        // Expected DOMException thrown by browsers not compatible XMLHttpRequest Level 2.\n        // But, this can be suppressed for 'json' type as it can be parsed by default 'transformResponse' function.\n        if (config.responseType !== 'json') {\n          throw e;\n        }\n      }\n    }\n\n    // Handle progress if needed\n    if (typeof config.onDownloadProgress === 'function') {\n      request.addEventListener('progress', config.onDownloadProgress);\n    }\n\n    // Not all browsers support upload events\n    if (typeof config.onUploadProgress === 'function' && request.upload) {\n      request.upload.addEventListener('progress', config.onUploadProgress);\n    }\n\n    if (config.cancelToken) {\n      // Handle cancellation\n      config.cancelToken.promise.then(function onCanceled(cancel) {\n        if (!request) {\n          return;\n        }\n\n        request.abort();\n        reject(cancel);\n        // Clean up request\n        request = null;\n      });\n    }\n\n    if (!requestData) {\n      requestData = null;\n    }\n\n    // Send the request\n    request.send(requestData);\n  });\n};\n","'use strict';\n\nvar utils = require('./utils');\nvar normalizeHeaderName = require('./helpers/normalizeHeaderName');\n\nvar DEFAULT_CONTENT_TYPE = {\n  'Content-Type': 'application/x-www-form-urlencoded'\n};\n\nfunction setContentTypeIfUnset(headers, value) {\n  if (!utils.isUndefined(headers) && utils.isUndefined(headers['Content-Type'])) {\n    headers['Content-Type'] = value;\n  }\n}\n\nfunction getDefaultAdapter() {\n  var adapter;\n  if (typeof XMLHttpRequest !== 'undefined') {\n    // For browsers use XHR adapter\n    adapter = require('./adapters/xhr');\n  } else if (typeof process !== 'undefined' && Object.prototype.toString.call(process) === '[object process]') {\n    // For node use HTTP adapter\n    adapter = require('./adapters/http');\n  }\n  return adapter;\n}\n\nvar defaults = {\n  adapter: getDefaultAdapter(),\n\n  transformRequest: [function transformRequest(data, headers) {\n    normalizeHeaderName(headers, 'Accept');\n    normalizeHeaderName(headers, 'Content-Type');\n    if (utils.isFormData(data) ||\n      utils.isArrayBuffer(data) ||\n      utils.isBuffer(data) ||\n      utils.isStream(data) ||\n      utils.isFile(data) ||\n      utils.isBlob(data)\n    ) {\n      return data;\n    }\n    if (utils.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n    if (utils.isURLSearchParams(data)) {\n      setContentTypeIfUnset(headers, 'application/x-www-form-urlencoded;charset=utf-8');\n      return data.toString();\n    }\n    if (utils.isObject(data)) {\n      setContentTypeIfUnset(headers, 'application/json;charset=utf-8');\n      return JSON.stringify(data);\n    }\n    return data;\n  }],\n\n  transformResponse: [function transformResponse(data) {\n    /*eslint no-param-reassign:0*/\n    if (typeof data === 'string') {\n      try {\n        data = JSON.parse(data);\n      } catch (e) { /* Ignore */ }\n    }\n    return data;\n  }],\n\n  /**\n   * A timeout in milliseconds to abort a request. If set to 0 (default) a\n   * timeout is not created.\n   */\n  timeout: 0,\n\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n\n  maxContentLength: -1,\n  maxBodyLength: -1,\n\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  }\n};\n\ndefaults.headers = {\n  common: {\n    'Accept': 'application/json, text/plain, */*'\n  }\n};\n\nutils.forEach(['delete', 'get', 'head'], function forEachMethodNoData(method) {\n  defaults.headers[method] = {};\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  defaults.headers[method] = utils.merge(DEFAULT_CONTENT_TYPE);\n});\n\nmodule.exports = defaults;\n","'use strict';\n\nvar utils = require('./../utils');\nvar transformData = require('./transformData');\nvar isCancel = require('../cancel/isCancel');\nvar defaults = require('../defaults');\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n}\n\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n * @returns {Promise} The Promise to be fulfilled\n */\nmodule.exports = function dispatchRequest(config) {\n  throwIfCancellationRequested(config);\n\n  // Ensure headers exist\n  config.headers = config.headers || {};\n\n  // Transform request data\n  config.data = transformData(\n    config.data,\n    config.headers,\n    config.transformRequest\n  );\n\n  // Flatten headers\n  config.headers = utils.merge(\n    config.headers.common || {},\n    config.headers[config.method] || {},\n    config.headers\n  );\n\n  utils.forEach(\n    ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n    function cleanHeaderConfig(method) {\n      delete config.headers[method];\n    }\n  );\n\n  var adapter = config.adapter || defaults.adapter;\n\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config);\n\n    // Transform response data\n    response.data = transformData(\n      response.data,\n      response.headers,\n      config.transformResponse\n    );\n\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config);\n\n      // Transform response data\n      if (reason && reason.response) {\n        reason.response.data = transformData(\n          reason.response.data,\n          reason.response.headers,\n          config.transformResponse\n        );\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n};\n","'use strict';\n\nvar utils = require('../utils');\n\n/**\n * Config-specific merge-function which creates a new config-object\n * by merging two configuration objects together.\n *\n * @param {Object} config1\n * @param {Object} config2\n * @returns {Object} New object resulting from merging config2 to config1\n */\nmodule.exports = function mergeConfig(config1, config2) {\n  // eslint-disable-next-line no-param-reassign\n  config2 = config2 || {};\n  var config = {};\n\n  var valueFromConfig2Keys = ['url', 'method', 'data'];\n  var mergeDeepPropertiesKeys = ['headers', 'auth', 'proxy', 'params'];\n  var defaultToConfig2Keys = [\n    'baseURL', 'transformRequest', 'transformResponse', 'paramsSerializer',\n    'timeout', 'timeoutMessage', 'withCredentials', 'adapter', 'responseType', 'xsrfCookieName',\n    'xsrfHeaderName', 'onUploadProgress', 'onDownloadProgress', 'decompress',\n    'maxContentLength', 'maxBodyLength', 'maxRedirects', 'transport', 'httpAgent',\n    'httpsAgent', 'cancelToken', 'socketPath', 'responseEncoding'\n  ];\n  var directMergeKeys = ['validateStatus'];\n\n  function getMergedValue(target, source) {\n    if (utils.isPlainObject(target) && utils.isPlainObject(source)) {\n      return utils.merge(target, source);\n    } else if (utils.isPlainObject(source)) {\n      return utils.merge({}, source);\n    } else if (utils.isArray(source)) {\n      return source.slice();\n    }\n    return source;\n  }\n\n  function mergeDeepProperties(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      config[prop] = getMergedValue(config1[prop], config2[prop]);\n    } else if (!utils.isUndefined(config1[prop])) {\n      config[prop] = getMergedValue(undefined, config1[prop]);\n    }\n  }\n\n  utils.forEach(valueFromConfig2Keys, function valueFromConfig2(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      config[prop] = getMergedValue(undefined, config2[prop]);\n    }\n  });\n\n  utils.forEach(mergeDeepPropertiesKeys, mergeDeepProperties);\n\n  utils.forEach(defaultToConfig2Keys, function defaultToConfig2(prop) {\n    if (!utils.isUndefined(config2[prop])) {\n      config[prop] = getMergedValue(undefined, config2[prop]);\n    } else if (!utils.isUndefined(config1[prop])) {\n      config[prop] = getMergedValue(undefined, config1[prop]);\n    }\n  });\n\n  utils.forEach(directMergeKeys, function merge(prop) {\n    if (prop in config2) {\n      config[prop] = getMergedValue(config1[prop], config2[prop]);\n    } else if (prop in config1) {\n      config[prop] = getMergedValue(undefined, config1[prop]);\n    }\n  });\n\n  var axiosKeys = valueFromConfig2Keys\n    .concat(mergeDeepPropertiesKeys)\n    .concat(defaultToConfig2Keys)\n    .concat(directMergeKeys);\n\n  var otherKeys = Object\n    .keys(config1)\n    .concat(Object.keys(config2))\n    .filter(function filterAxiosKeys(key) {\n      return axiosKeys.indexOf(key) === -1;\n    });\n\n  utils.forEach(otherKeys, mergeDeepProperties);\n\n  return config;\n};\n","'use strict';\n\nvar utils = require('./../utils');\nvar buildURL = require('../helpers/buildURL');\nvar InterceptorManager = require('./InterceptorManager');\nvar dispatchRequest = require('./dispatchRequest');\nvar mergeConfig = require('./mergeConfig');\n\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n */\nfunction Axios(instanceConfig) {\n  this.defaults = instanceConfig;\n  this.interceptors = {\n    request: new InterceptorManager(),\n    response: new InterceptorManager()\n  };\n}\n\n/**\n * Dispatch a request\n *\n * @param {Object} config The config specific for this request (merged with this.defaults)\n */\nAxios.prototype.request = function request(config) {\n  /*eslint no-param-reassign:0*/\n  // Allow for axios('example/url'[, config]) a la fetch API\n  if (typeof config === 'string') {\n    config = arguments[1] || {};\n    config.url = arguments[0];\n  } else {\n    config = config || {};\n  }\n\n  config = mergeConfig(this.defaults, config);\n\n  // Set config.method\n  if (config.method) {\n    config.method = config.method.toLowerCase();\n  } else if (this.defaults.method) {\n    config.method = this.defaults.method.toLowerCase();\n  } else {\n    config.method = 'get';\n  }\n\n  // Hook up interceptors middleware\n  var chain = [dispatchRequest, undefined];\n  var promise = Promise.resolve(config);\n\n  this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n    chain.unshift(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n    chain.push(interceptor.fulfilled, interceptor.rejected);\n  });\n\n  while (chain.length) {\n    promise = promise.then(chain.shift(), chain.shift());\n  }\n\n  return promise;\n};\n\nAxios.prototype.getUri = function getUri(config) {\n  config = mergeConfig(this.defaults, config);\n  return buildURL(config.url, config.params, config.paramsSerializer).replace(/^\\?/, '');\n};\n\n// Provide aliases for supported request methods\nutils.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, config) {\n    return this.request(mergeConfig(config || {}, {\n      method: method,\n      url: url,\n      data: (config || {}).data\n    }));\n  };\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, data, config) {\n    return this.request(mergeConfig(config || {}, {\n      method: method,\n      url: url,\n      data: data\n    }));\n  };\n});\n\nmodule.exports = Axios;\n","'use strict';\n\n/**\n * A `Cancel` is an object that is thrown when an operation is canceled.\n *\n * @class\n * @param {string=} message The message.\n */\nfunction Cancel(message) {\n  this.message = message;\n}\n\nCancel.prototype.toString = function toString() {\n  return 'Cancel' + (this.message ? ': ' + this.message : '');\n};\n\nCancel.prototype.__CANCEL__ = true;\n\nmodule.exports = Cancel;\n","'use strict';\n\nvar Cancel = require('./Cancel');\n\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @class\n * @param {Function} executor The executor function.\n */\nfunction CancelToken(executor) {\n  if (typeof executor !== 'function') {\n    throw new TypeError('executor must be a function.');\n  }\n\n  var resolvePromise;\n  this.promise = new Promise(function promiseExecutor(resolve) {\n    resolvePromise = resolve;\n  });\n\n  var token = this;\n  executor(function cancel(message) {\n    if (token.reason) {\n      // Cancellation has already been requested\n      return;\n    }\n\n    token.reason = new Cancel(message);\n    resolvePromise(token.reason);\n  });\n}\n\n/**\n * Throws a `Cancel` if cancellation has been requested.\n */\nCancelToken.prototype.throwIfRequested = function throwIfRequested() {\n  if (this.reason) {\n    throw this.reason;\n  }\n};\n\n/**\n * Returns an object that contains a new `CancelToken` and a function that, when called,\n * cancels the `CancelToken`.\n */\nCancelToken.source = function source() {\n  var cancel;\n  var token = new CancelToken(function executor(c) {\n    cancel = c;\n  });\n  return {\n    token: token,\n    cancel: cancel\n  };\n};\n\nmodule.exports = CancelToken;\n","'use strict';\n\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n * @returns {Function}\n */\nmodule.exports = function spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n};\n","'use strict';\n\n/**\n * Determines whether the payload is an error thrown by Axios\n *\n * @param {*} payload The value to test\n * @returns {boolean} True if the payload is an error thrown by Axios, otherwise false\n */\nmodule.exports = function isAxiosError(payload) {\n  return (typeof payload === 'object') && (payload.isAxiosError === true);\n};\n","'use strict';\n\nvar utils = require('./utils');\nvar bind = require('./helpers/bind');\nvar Axios = require('./core/Axios');\nvar mergeConfig = require('./core/mergeConfig');\nvar defaults = require('./defaults');\n\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n * @return {Axios} A new instance of Axios\n */\nfunction createInstance(defaultConfig) {\n  var context = new Axios(defaultConfig);\n  var instance = bind(Axios.prototype.request, context);\n\n  // Copy axios.prototype to instance\n  utils.extend(instance, Axios.prototype, context);\n\n  // Copy context to instance\n  utils.extend(instance, context);\n\n  return instance;\n}\n\n// Create the default instance to be exported\nvar axios = createInstance(defaults);\n\n// Expose Axios class to allow class inheritance\naxios.Axios = Axios;\n\n// Factory for creating new instances\naxios.create = function create(instanceConfig) {\n  return createInstance(mergeConfig(axios.defaults, instanceConfig));\n};\n\n// Expose Cancel & CancelToken\naxios.Cancel = require('./cancel/Cancel');\naxios.CancelToken = require('./cancel/CancelToken');\naxios.isCancel = require('./cancel/isCancel');\n\n// Expose all/spread\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\naxios.spread = require('./helpers/spread');\n\n// Expose isAxiosError\naxios.isAxiosError = require('./helpers/isAxiosError');\n\nmodule.exports = axios;\n\n// Allow use of default import syntax in TypeScript\nmodule.exports.default = axios;\n","module.exports = require('./lib/axios');","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.isLocalhostUrl = exports.isWsUrl = exports.isHttpUrl = void 0;\nconst HTTP_REGEX = \"^https?:\";\nconst WS_REGEX = \"^wss?:\";\nfunction getUrlProtocol(url) {\n    const matches = url.match(new RegExp(/^\\w+:/, \"gi\"));\n    if (!matches || !matches.length)\n        return;\n    return matches[0];\n}\nfunction matchRegexProtocol(url, regex) {\n    const protocol = getUrlProtocol(url);\n    if (typeof protocol === \"undefined\")\n        return false;\n    return new RegExp(regex).test(protocol);\n}\nfunction isHttpUrl(url) {\n    return matchRegexProtocol(url, HTTP_REGEX);\n}\nexports.isHttpUrl = isHttpUrl;\nfunction isWsUrl(url) {\n    return matchRegexProtocol(url, WS_REGEX);\n}\nexports.isWsUrl = isWsUrl;\nfunction isLocalhostUrl(url) {\n    return new RegExp(\"wss?://localhost(:d{2,5})?\").test(url);\n}\nexports.isLocalhostUrl = isLocalhostUrl;\n//# sourceMappingURL=url.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.HttpConnection = void 0;\nconst tslib_1 = require(\"tslib\");\nconst events_1 = require(\"events\");\nconst axios_1 = tslib_1.__importDefault(require(\"axios\"));\nconst utils_1 = require(\"@json-rpc-tools/utils\");\nconst safe_json_utils_1 = require(\"safe-json-utils\");\nconst url_1 = require(\"./url\");\nclass HttpConnection {\n    constructor(url) {\n        this.url = url;\n        this.events = new events_1.EventEmitter();\n        this.registering = false;\n        if (!url_1.isHttpUrl(url)) {\n            throw new Error(`Provided URL is not compatible with HTTP connection: ${url}`);\n        }\n        this.url = url;\n    }\n    get connected() {\n        return typeof this.api !== \"undefined\";\n    }\n    get connecting() {\n        return this.registering;\n    }\n    on(event, listener) {\n        this.events.on(event, listener);\n    }\n    once(event, listener) {\n        this.events.once(event, listener);\n    }\n    off(event, listener) {\n        this.events.off(event, listener);\n    }\n    removeListener(event, listener) {\n        this.events.removeListener(event, listener);\n    }\n    open(url = this.url) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            this.api = yield this.register(url);\n        });\n    }\n    close() {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            this.onClose();\n        });\n    }\n    send(payload, context) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            if (typeof this.api === \"undefined\") {\n                this.api = yield this.register();\n            }\n            this.api\n                .post(\"/\", payload)\n                .then(res => this.onPayload(res))\n                .catch(err => this.onError(payload.id, err));\n        });\n    }\n    register(url = this.url) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            if (!url_1.isHttpUrl(url)) {\n                throw new Error(`Provided URL is not compatible with HTTP connection: ${url}`);\n            }\n            if (this.registering) {\n                return new Promise((resolve, reject) => {\n                    this.events.once(\"open\", () => {\n                        if (typeof this.api === \"undefined\") {\n                            return reject(new Error(\"HTTP connection is missing or invalid\"));\n                        }\n                        resolve(this.api);\n                    });\n                });\n            }\n            this.url = url;\n            this.registering = true;\n            const api = axios_1.default.create({\n                baseURL: url,\n                timeout: 30000,\n                headers: {\n                    Accept: \"application/json\",\n                    \"Content-Type\": \"application/json\",\n                },\n            });\n            try {\n                yield api.post(\"/\", { id: 1, jsonrpc: \"2.0\", method: \"test\", params: [] });\n                this.onOpen(api);\n            }\n            catch (e) {\n                this.onClose();\n                throw new Error(`Unavailable HTTP RPC url at ${url}`);\n            }\n            return api;\n        });\n    }\n    onOpen(api) {\n        this.api = api;\n        this.registering = false;\n        this.events.emit(\"open\");\n    }\n    onClose() {\n        this.api = undefined;\n        this.events.emit(\"close\");\n    }\n    onPayload(e) {\n        if (typeof e.data === \"undefined\")\n            return;\n        const payload = typeof e.data === \"string\" ? safe_json_utils_1.safeJsonParse(e.data) : e.data;\n        this.events.emit(\"payload\", payload);\n    }\n    onError(id, e) {\n        const message = e.message || e.toString();\n        const payload = utils_1.formatJsonRpcError(id, message);\n        this.events.emit(\"payload\", payload);\n    }\n}\nexports.HttpConnection = HttpConnection;\n//# sourceMappingURL=http.js.map","'use strict';\n\nmodule.exports = function () {\n  throw new Error(\n    'ws does not work in the browser. Browser clients must use the native ' +\n      'WebSocket object'\n  );\n};\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WsConnection = void 0;\nconst tslib_1 = require(\"tslib\");\nconst events_1 = require(\"events\");\nconst safe_json_utils_1 = require(\"safe-json-utils\");\nconst utils_1 = require(\"@json-rpc-tools/utils\");\nconst url_1 = require(\"./url\");\nconst WS = typeof global.WebSocket !== \"undefined\" ? global.WebSocket : require(\"ws\");\nclass WsConnection {\n    constructor(url) {\n        this.url = url;\n        this.events = new events_1.EventEmitter();\n        this.registering = false;\n        if (!url_1.isWsUrl(url)) {\n            throw new Error(`Provided URL is not compatible with WebSocket connection: ${url}`);\n        }\n        this.url = url;\n    }\n    get connected() {\n        return typeof this.socket !== \"undefined\";\n    }\n    get connecting() {\n        return this.registering;\n    }\n    on(event, listener) {\n        this.events.on(event, listener);\n    }\n    once(event, listener) {\n        this.events.once(event, listener);\n    }\n    off(event, listener) {\n        this.events.off(event, listener);\n    }\n    removeListener(event, listener) {\n        this.events.removeListener(event, listener);\n    }\n    open(url = this.url) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            this.socket = yield this.register(url);\n        });\n    }\n    close() {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            if (typeof this.socket === \"undefined\") {\n                throw new Error(\"Already disconnected\");\n            }\n            this.socket.close();\n            this.onClose();\n        });\n    }\n    send(payload, context) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            if (typeof this.socket === \"undefined\") {\n                this.socket = yield this.register();\n            }\n            this.socket.send(safe_json_utils_1.safeJsonStringify(payload));\n        });\n    }\n    register(url = this.url) {\n        if (!url_1.isWsUrl(url)) {\n            throw new Error(`Provided URL is not compatible with WebSocket connection: ${url}`);\n        }\n        if (this.registering) {\n            return new Promise((resolve, reject) => {\n                this.events.once(\"open\", () => {\n                    if (typeof this.socket === \"undefined\") {\n                        return reject(new Error(\"WebSocket connection is missing or invalid\"));\n                    }\n                    resolve(this.socket);\n                });\n            });\n        }\n        this.url = url;\n        this.registering = true;\n        return new Promise((resolve, reject) => {\n            const opts = !utils_1.isReactNative() ? { rejectUnauthorized: !url_1.isLocalhostUrl(url) } : undefined;\n            const socket = new WS(url, [], opts);\n            socket.onopen = () => {\n                this.onOpen(socket);\n                resolve(socket);\n            };\n            socket.onerror = (event) => {\n                this.events.emit(\"error\", event);\n                reject(event);\n            };\n        });\n    }\n    onOpen(socket) {\n        socket.onmessage = (event) => this.onPayload(event);\n        socket.onclose = () => this.onClose();\n        this.socket = socket;\n        this.registering = false;\n        this.events.emit(\"open\");\n    }\n    onClose() {\n        this.socket = undefined;\n        this.events.emit(\"close\");\n    }\n    onPayload(e) {\n        if (typeof e.data === \"undefined\")\n            return;\n        const payload = typeof e.data === \"string\" ? safe_json_utils_1.safeJsonParse(e.data) : e.data;\n        this.events.emit(\"payload\", payload);\n    }\n}\nexports.WsConnection = WsConnection;\n//# sourceMappingURL=ws.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.JsonRpcProvider = void 0;\nconst tslib_1 = require(\"tslib\");\nconst events_1 = require(\"events\");\nconst utils_1 = require(\"@json-rpc-tools/utils\");\nconst http_1 = require(\"./http\");\nconst ws_1 = require(\"./ws\");\nconst url_1 = require(\"./url\");\nclass JsonRpcProvider extends utils_1.IJsonRpcProvider {\n    constructor(connection) {\n        super(connection);\n        this.events = new events_1.EventEmitter();\n        this.connection = this.setConnection(connection);\n    }\n    connect(connection = this.connection) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            yield this.open(connection);\n        });\n    }\n    disconnect() {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            yield this.close();\n        });\n    }\n    on(event, listener) {\n        this.events.on(event, listener);\n    }\n    once(event, listener) {\n        this.events.once(event, listener);\n    }\n    off(event, listener) {\n        this.events.off(event, listener);\n    }\n    removeListener(event, listener) {\n        this.events.removeListener(event, listener);\n    }\n    request(request, context) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            return this.requestStrict(utils_1.formatJsonRpcRequest(request.method, request.params || []), context);\n        });\n    }\n    requestStrict(request, context) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            return new Promise((resolve, reject) => tslib_1.__awaiter(this, void 0, void 0, function* () {\n                if (!this.connection.connected) {\n                    try {\n                        yield this.open();\n                    }\n                    catch (e) {\n                        reject(e.message);\n                    }\n                }\n                this.events.on(`${request.id}`, response => {\n                    if (utils_1.isJsonRpcError(response)) {\n                        reject(response.error.message);\n                    }\n                    else {\n                        resolve(response.result);\n                    }\n                });\n                yield this.connection.send(request);\n            }));\n        });\n    }\n    setConnection(connection = this.connection) {\n        return typeof connection === \"string\"\n            ? url_1.isHttpUrl(connection)\n                ? new http_1.HttpConnection(connection)\n                : new ws_1.WsConnection(connection)\n            : connection;\n    }\n    onPayload(payload) {\n        this.events.emit(\"payload\", payload);\n        if (utils_1.isJsonRpcResponse(payload)) {\n            this.events.emit(`${payload.id}`, payload);\n        }\n        else {\n            this.events.emit(\"message\", {\n                type: payload.method,\n                data: payload.params,\n            });\n        }\n    }\n    open(connection = this.connection) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            if (this.connection === connection && this.connection.connected)\n                return;\n            if (this.connection.connected)\n                this.close();\n            this.connection = this.setConnection();\n            yield this.connection.open();\n            this.connection.on(\"payload\", (payload) => this.onPayload(payload));\n            this.connection.on(\"close\", () => this.events.emit(\"disconnect\"));\n            this.connection.on(\"error\", () => this.events.emit(\"error\"));\n            this.events.emit(\"connect\");\n        });\n    }\n    close() {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            yield this.connection.close();\n            this.events.emit(\"disconnect\");\n        });\n    }\n}\nexports.JsonRpcProvider = JsonRpcProvider;\nexports.default = JsonRpcProvider;\n//# sourceMappingURL=provider.js.map","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst provider_1 = __importDefault(require(\"@json-rpc-tools/provider\"));\nclass RelayProvider extends provider_1.default {\n    constructor(rpcUrl) {\n        super(rpcUrl);\n    }\n}\nexports.RelayProvider = RelayProvider;\nexports.default = RelayProvider;\n//# sourceMappingURL=provider.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nfunction assertType(obj, key, type = 'string') {\n    if (!obj[key] || typeof obj[key] !== type) {\n        throw new Error(`Missing or invalid \"${key}\" param`);\n    }\n}\nexports.assertType = assertType;\nfunction hasParamsLength(params, length) {\n    return Array.isArray(params)\n        ? params.length === length\n        : Object.keys(params).length === length;\n}\nexports.hasParamsLength = hasParamsLength;\nfunction methodEndsWith(method, expected, separator = '_') {\n    const split = method.split(separator);\n    return (split[split.length - 1].trim().toLowerCase() ===\n        expected.trim().toLowerCase());\n}\nexports.methodEndsWith = methodEndsWith;\n//# sourceMappingURL=misc.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst misc_1 = require(\"./misc\");\nfunction isSubscribeRequest(request) {\n    return isSubscribeMethod(request.method) && isSubscribeParams(request.params);\n}\nexports.isSubscribeRequest = isSubscribeRequest;\nfunction isSubscribeMethod(method) {\n    return misc_1.methodEndsWith(method, 'subscribe');\n}\nexports.isSubscribeMethod = isSubscribeMethod;\nfunction isSubscribeParams(params) {\n    return misc_1.hasParamsLength(params, 1) && 'topic' in params;\n}\nexports.isSubscribeParams = isSubscribeParams;\nfunction isPublishRequest(request) {\n    return isPublishMethod(request.method) && isPublishParams(request.params);\n}\nexports.isPublishRequest = isPublishRequest;\nfunction isPublishMethod(method) {\n    return misc_1.methodEndsWith(method, 'publish');\n}\nexports.isPublishMethod = isPublishMethod;\nfunction isPublishParams(params) {\n    return (misc_1.hasParamsLength(params, 3) &&\n        'message' in params &&\n        'topic' in params &&\n        'ttl' in params);\n}\nexports.isPublishParams = isPublishParams;\nfunction isUnsubscribeRequest(request) {\n    return (isUnsubscribeMethod(request.method) && isUnsubscribeParams(request.params));\n}\nexports.isUnsubscribeRequest = isUnsubscribeRequest;\nfunction isUnsubscribeMethod(method) {\n    return misc_1.methodEndsWith(method, 'unsubscribe');\n}\nexports.isUnsubscribeMethod = isUnsubscribeMethod;\nfunction isUnsubscribeParams(params) {\n    return misc_1.hasParamsLength(params, 1) && 'id' in params;\n}\nexports.isUnsubscribeParams = isUnsubscribeParams;\nfunction isSubscriptionRequest(request) {\n    return (isSubscriptionMethod(request.method) && isSubscriptionParams(request.params));\n}\nexports.isSubscriptionRequest = isSubscriptionRequest;\nfunction isSubscriptionMethod(method) {\n    return misc_1.methodEndsWith(method, 'subscription');\n}\nexports.isSubscriptionMethod = isSubscriptionMethod;\nfunction isSubscriptionParams(params) {\n    return misc_1.hasParamsLength(params, 2) && 'id' in params && 'data' in params;\n}\nexports.isSubscriptionParams = isSubscriptionParams;\n//# sourceMappingURL=validators.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst misc_1 = require(\"./misc\");\nconst validators_1 = require(\"./validators\");\nfunction parseSubscribeRequest(request) {\n    if (!validators_1.isSubscribeMethod(request.method)) {\n        throw new Error('JSON-RPC Request has invalid subscribe method');\n    }\n    if (!validators_1.isSubscribeParams(request.params)) {\n        throw new Error('JSON-RPC Request has invalid subscribe params');\n    }\n    const params = request.params;\n    misc_1.assertType(params, 'topic');\n    return params;\n}\nexports.parseSubscribeRequest = parseSubscribeRequest;\nfunction parsePublishRequest(request) {\n    if (!validators_1.isPublishMethod(request.method)) {\n        throw new Error('JSON-RPC Request has invalid publish method');\n    }\n    if (!validators_1.isPublishParams(request.params)) {\n        throw new Error('JSON-RPC Request has invalid publish params');\n    }\n    const params = request.params;\n    misc_1.assertType(params, 'topic');\n    misc_1.assertType(params, 'message');\n    misc_1.assertType(params, 'ttl', 'number');\n    return params;\n}\nexports.parsePublishRequest = parsePublishRequest;\nfunction parseUnsubscribeRequest(request) {\n    if (!validators_1.isUnsubscribeMethod(request.method)) {\n        throw new Error('JSON-RPC Request has invalid unsubscribe method');\n    }\n    if (!validators_1.isUnsubscribeParams(request.params)) {\n        throw new Error('JSON-RPC Request has invalid unsubscribe params');\n    }\n    const params = request.params;\n    misc_1.assertType(params, 'id');\n    return params;\n}\nexports.parseUnsubscribeRequest = parseUnsubscribeRequest;\nfunction parseSubscriptionRequest(request) {\n    if (!validators_1.isSubscriptionMethod(request.method)) {\n        throw new Error('JSON-RPC Request has invalid subscription method');\n    }\n    if (!validators_1.isSubscriptionParams(request.params)) {\n        throw new Error('JSON-RPC Request has invalid subscription params');\n    }\n    const params = request.params;\n    misc_1.assertType(params, 'id');\n    misc_1.assertType(params, 'data');\n    return params;\n}\nexports.parseSubscriptionRequest = parseSubscriptionRequest;\n//# sourceMappingURL=parsers.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RELAY_JSONRPC = {\n    bridge: {\n        info: 'bridge_info',\n        connect: 'bridge_connect',\n        disconnect: 'bridge_disconnect',\n        publish: 'bridge_publish',\n        subscribe: 'bridge_subscribe',\n        subscription: 'bridge_subscription',\n        unsubscribe: 'bridge_unsubscribe',\n    },\n    waku: {\n        info: 'waku_info',\n        connect: 'waku_connect',\n        disconnect: 'waku_disconnect',\n        publish: 'waku_publish',\n        subscribe: 'waku_subscribe',\n        subscription: 'waku_subscription',\n        unsubscribe: 'waku_unsubscribe',\n    },\n};\n//# sourceMappingURL=jsonrpc.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Relayer = void 0;\nconst tslib_1 = require(\"tslib\");\nconst events_1 = require(\"events\");\nconst pino_utils_1 = require(\"@pedrouid/pino-utils\");\nconst types_1 = require(\"@walletconnect/types\");\nconst relay_provider_1 = require(\"relay-provider\");\nconst utils_1 = require(\"@walletconnect/utils\");\nconst enc_utils_1 = require(\"enc-utils\");\nconst utils_2 = require(\"@json-rpc-tools/utils\");\nconst provider_1 = require(\"@json-rpc-tools/provider\");\nconst safe_json_utils_1 = require(\"safe-json-utils\");\nconst constants_1 = require(\"../constants\");\nclass Relayer extends types_1.IRelayer {\n    constructor(client, logger, provider) {\n        super(client, logger);\n        this.client = client;\n        this.logger = logger;\n        this.events = new events_1.EventEmitter();\n        this.context = constants_1.RELAYER_CONTEXT;\n        this.logger = pino_utils_1.generateChildLogger(logger, this.context);\n        this.provider = this.setProvider(provider);\n        this.registerEventListeners();\n    }\n    get connected() {\n        return this.provider.connection.connected;\n    }\n    init() {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            this.logger.trace(`Initialized`);\n            yield this.provider.connect();\n        });\n    }\n    publish(topic, payload, opts) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            this.logger.debug(`Publishing Payload`);\n            this.logger.trace({ type: \"method\", method: \"publish\", params: { topic, payload, opts } });\n            try {\n                const protocol = (opts === null || opts === void 0 ? void 0 : opts.relay.protocol) || constants_1.RELAYER_DEFAULT_PROTOCOL;\n                const msg = safe_json_utils_1.safeJsonStringify(payload);\n                const message = (opts === null || opts === void 0 ? void 0 : opts.encryptKeys) ? yield utils_1.encrypt(Object.assign(Object.assign({}, opts.encryptKeys), { message: msg }))\n                    : enc_utils_1.utf8ToHex(msg);\n                const jsonRpc = getRelayProtocolJsonRpc(protocol);\n                const request = {\n                    method: jsonRpc.publish,\n                    params: {\n                        topic,\n                        message,\n                        ttl: (opts === null || opts === void 0 ? void 0 : opts.ttl) || constants_1.RELAYER_DEFAULT_PUBLISH_TTL,\n                    },\n                };\n                this.logger.info(`Outgoing Relay Payload`);\n                this.logger.debug({ type: \"payload\", direction: \"outgoing\", request });\n                yield this.provider.request(request);\n                this.logger.debug(`Successfully Published Payload`);\n                this.logger.trace({ type: \"method\", method: \"publish\", request });\n            }\n            catch (e) {\n                this.logger.debug(`Failed to Publish Payload`);\n                this.logger.error(e);\n                throw e;\n            }\n        });\n    }\n    subscribe(topic, listener, opts) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            this.logger.debug(`Subscribing Topic`);\n            this.logger.trace({ type: \"method\", method: \"subscribe\", params: { topic, opts } });\n            try {\n                const protocol = (opts === null || opts === void 0 ? void 0 : opts.relay.protocol) || constants_1.RELAYER_DEFAULT_PROTOCOL;\n                const jsonRpc = getRelayProtocolJsonRpc(protocol);\n                const request = {\n                    method: jsonRpc.subscribe,\n                    params: {\n                        topic,\n                    },\n                };\n                this.logger.info(`Outgoing Relay Payload`);\n                this.logger.debug({ type: \"payload\", direction: \"outgoing\", request });\n                const id = yield this.provider.request(request);\n                this.events.on(id, ({ message }) => tslib_1.__awaiter(this, void 0, void 0, function* () {\n                    const payload = safe_json_utils_1.safeJsonParse((opts === null || opts === void 0 ? void 0 : opts.decryptKeys) ? yield utils_1.decrypt(Object.assign(Object.assign({}, opts.decryptKeys), { encrypted: message }))\n                        : enc_utils_1.hexToUtf8(message));\n                    listener(payload);\n                }));\n                this.logger.debug(`Successfully Subscribed Topic`);\n                this.logger.trace({ type: \"method\", method: \"subscribe\", request });\n                return id;\n            }\n            catch (e) {\n                this.logger.debug(`Failed to Subscribe Topic`);\n                this.logger.error(e);\n                throw e;\n            }\n        });\n    }\n    unsubscribe(id, opts) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            this.logger.debug(`Unsubscribing Topic`);\n            this.logger.trace({ type: \"method\", method: \"unsubscribe\", params: { id, opts } });\n            try {\n                const protocol = (opts === null || opts === void 0 ? void 0 : opts.relay.protocol) || constants_1.RELAYER_DEFAULT_PROTOCOL;\n                const jsonRpc = getRelayProtocolJsonRpc(protocol);\n                const request = {\n                    method: jsonRpc.unsubscribe,\n                    params: {\n                        id,\n                    },\n                };\n                this.logger.info(`Outgoing Relay Payload`);\n                this.logger.debug({ type: \"payload\", direction: \"outgoing\", request });\n                yield this.provider.request(request);\n                this.events.removeAllListeners(id);\n                this.logger.debug(`Successfully Unsubscribed Topic`);\n                this.logger.trace({ type: \"method\", method: \"unsubscribe\", request });\n            }\n            catch (e) {\n                this.logger.debug(`Failed to Unsubscribe Topic`);\n                this.logger.error(e);\n                throw e;\n            }\n        });\n    }\n    on(event, listener) {\n        this.events.on(event, listener);\n    }\n    once(event, listener) {\n        this.events.once(event, listener);\n    }\n    off(event, listener) {\n        this.events.off(event, listener);\n    }\n    removeListener(event, listener) {\n        this.events.removeListener(event, listener);\n    }\n    onPayload(payload) {\n        this.logger.info(`Incoming Relay Payload`);\n        this.logger.debug({ type: \"payload\", direction: \"incoming\", payload });\n        if (utils_2.isJsonRpcRequest(payload)) {\n            if (payload.method.endsWith(\"_subscription\")) {\n                const event = payload.params;\n                this.events.emit(event.id, event.data);\n                const response = utils_2.formatJsonRpcResult(payload.id, true);\n                this.provider.connection.send(response);\n            }\n        }\n    }\n    setProvider(provider) {\n        this.logger.debug(`Setting Relay Provider`);\n        this.logger.trace({ type: \"method\", method: \"setProvider\", provider: provider === null || provider === void 0 ? void 0 : provider.toString() });\n        const rpcUrl = utils_1.formatRelayRpcUrl(this.client.protocol, this.client.version, typeof provider === \"string\" ? provider : constants_1.RELAYER_DEFAULT_RPC_URL);\n        return typeof provider !== \"string\" && typeof provider !== \"undefined\"\n            ? provider\n            : new provider_1.JsonRpcProvider(rpcUrl);\n    }\n    registerEventListeners() {\n        this.provider.on(\"payload\", (payload) => this.onPayload(payload));\n        this.provider.on(\"connect\", () => this.events.emit(constants_1.RELAYER_EVENTS.connect));\n        this.provider.on(\"disconnect\", () => {\n            this.events.emit(constants_1.RELAYER_EVENTS.disconnect);\n            this.provider.connect();\n        });\n        this.provider.on(\"error\", e => this.events.emit(constants_1.RELAYER_EVENTS.error, e));\n    }\n}\nexports.Relayer = Relayer;\nfunction getRelayProtocolJsonRpc(protocol) {\n    const jsonrpc = relay_provider_1.RELAY_JSONRPC[protocol];\n    if (typeof jsonrpc === \"undefined\") {\n        throw new Error(`Relay Protocol not supported: ${protocol}`);\n    }\n    return jsonrpc;\n}\n//# sourceMappingURL=relayer.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Session = void 0;\nconst tslib_1 = require(\"tslib\");\nconst events_1 = require(\"events\");\nconst pino_utils_1 = require(\"@pedrouid/pino-utils\");\nconst types_1 = require(\"@walletconnect/types\");\nconst utils_1 = require(\"@walletconnect/utils\");\nconst utils_2 = require(\"@json-rpc-tools/utils\");\nconst subscription_1 = require(\"./subscription\");\nconst history_1 = require(\"./history\");\nconst constants_1 = require(\"../constants\");\nclass Session extends types_1.ISession {\n    constructor(client, logger) {\n        super(client, logger);\n        this.client = client;\n        this.logger = logger;\n        this.events = new events_1.EventEmitter();\n        this.context = constants_1.SESSION_CONTEXT;\n        this.logger = pino_utils_1.generateChildLogger(logger, this.context);\n        this.pending = new subscription_1.Subscription(client, this.logger, constants_1.SESSION_STATUS.pending, true);\n        this.settled = new subscription_1.Subscription(client, this.logger, constants_1.SESSION_STATUS.settled, true);\n        this.history = new history_1.JsonRpcHistory(client, this.logger);\n        this.registerEventListeners();\n    }\n    init() {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            this.logger.trace(`Initialized`);\n            yield this.pending.init();\n            yield this.settled.init();\n            yield this.history.init();\n        });\n    }\n    get(topic) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            return this.settled.get(topic);\n        });\n    }\n    ping(topic, timeout) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            const request = { method: constants_1.SESSION_JSONRPC.ping, params: {} };\n            return this.request({ topic, request, timeout: timeout || constants_1.THIRTY_SECONDS * 1000 });\n        });\n    }\n    send(topic, payload, chainId) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            const session = yield this.settled.get(topic);\n            const encryptKeys = {\n                sharedKey: session.sharedKey,\n                publicKey: session.self.publicKey,\n            };\n            if (utils_2.isJsonRpcRequest(payload)) {\n                if (!Object.values(constants_1.SESSION_JSONRPC).includes(payload.method)) {\n                    if (!session.permissions.jsonrpc.methods.includes(payload.method)) {\n                        const error = utils_1.getError(utils_1.ERROR.UNAUTHORIZED_JSON_RPC_METHOD, {\n                            method: payload.method,\n                        });\n                        this.logger.error(error.message);\n                        throw new Error(error.message);\n                    }\n                    if (typeof chainId !== \"undefined\" &&\n                        !session.permissions.blockchain.chains.includes(chainId)) {\n                        const error = utils_1.getError(utils_1.ERROR.UNAUTHORIZED_TARGET_CHAIN, { chainId });\n                        this.logger.error(error.message);\n                        throw new Error(error.message);\n                    }\n                    yield this.history.set(topic, payload, chainId);\n                    payload = utils_2.formatJsonRpcRequest(constants_1.SESSION_JSONRPC.payload, {\n                        chainId,\n                        request: { method: payload.method, params: payload.params },\n                    }, payload.id);\n                }\n            }\n            else {\n                yield this.history.update(topic, payload);\n            }\n            yield this.client.relayer.publish(session.topic, payload, {\n                relay: session.relay,\n                encryptKeys,\n            });\n        });\n    }\n    get length() {\n        return this.settled.length;\n    }\n    get topics() {\n        return this.settled.topics;\n    }\n    get values() {\n        return this.settled.values.map(x => x.data);\n    }\n    create(params) {\n        return new Promise((resolve, reject) => tslib_1.__awaiter(this, void 0, void 0, function* () {\n            this.logger.info(`Create Session`);\n            this.logger.trace({ type: \"method\", method: \"create\", params });\n            const maxTimeout = (params === null || params === void 0 ? void 0 : params.timeout) || constants_1.FIVE_MINUTES * 1000;\n            const timeout = setTimeout(() => {\n                const error = utils_1.getError(utils_1.ERROR.SETTLE_TIMEOUT, {\n                    context: this.context,\n                    timeout: maxTimeout,\n                });\n                this.logger.error(error.message);\n                reject(error.message);\n            }, maxTimeout);\n            let pending;\n            try {\n                pending = yield this.propose(params);\n            }\n            catch (e) {\n                clearTimeout(timeout);\n                return reject(e);\n            }\n            this.pending.on(constants_1.SUBSCRIPTION_EVENTS.updated, (updatedEvent) => tslib_1.__awaiter(this, void 0, void 0, function* () {\n                if (pending.topic !== updatedEvent.data.topic)\n                    return;\n                if (utils_1.isSessionResponded(updatedEvent.data)) {\n                    const outcome = updatedEvent.data.outcome;\n                    clearTimeout(timeout);\n                    if (utils_1.isSessionFailed(outcome)) {\n                        try {\n                            yield this.pending.delete(pending.topic, outcome.reason);\n                        }\n                        catch (e) {\n                            return reject(e);\n                        }\n                        reject(new Error(outcome.reason.message));\n                    }\n                    else {\n                        try {\n                            const session = yield this.settled.get(outcome.topic);\n                            const reason = utils_1.getError(utils_1.ERROR.SETTLED, { context: this.context });\n                            yield this.pending.delete(pending.topic, reason);\n                            resolve(session);\n                        }\n                        catch (e) {\n                            return reject(e);\n                        }\n                    }\n                }\n            }));\n        }));\n    }\n    respond(params) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            this.logger.info(`Respond Session`);\n            this.logger.trace({ type: \"method\", method: \"respond\", params });\n            const paramsValidation = utils_1.validateSessionRespondParams(params);\n            if (utils_1.isValidationInvalid(paramsValidation)) {\n                this.logger.error(paramsValidation.error.message);\n                throw new Error(paramsValidation.error.message);\n            }\n            const { approved, proposal, response } = params;\n            const { relay } = proposal;\n            const self = utils_1.generateKeyPair();\n            const pairing = yield this.client.pairing.get(proposal.signal.params.topic);\n            const decryptKeys = {\n                sharedKey: pairing.sharedKey,\n            };\n            if (approved) {\n                try {\n                    const responder = {\n                        publicKey: self.publicKey,\n                        metadata: response.metadata,\n                    };\n                    const expiry = Date.now() + proposal.ttl * 1000;\n                    const state = {\n                        accounts: params.response.state.accounts,\n                    };\n                    const controller = proposal.proposer.controller\n                        ? { publicKey: proposal.proposer.publicKey }\n                        : { publicKey: self.publicKey };\n                    const session = yield this.settle({\n                        relay,\n                        self,\n                        peer: proposal.proposer,\n                        permissions: Object.assign(Object.assign({}, proposal.permissions), { controller }),\n                        ttl: proposal.ttl,\n                        expiry,\n                        state,\n                    });\n                    const outcome = {\n                        topic: session.topic,\n                        relay: session.relay,\n                        state: session.state,\n                        responder,\n                        expiry,\n                    };\n                    const pending = {\n                        status: constants_1.SESSION_STATUS.responded,\n                        topic: proposal.topic,\n                        relay: proposal.relay,\n                        self,\n                        proposal,\n                        outcome,\n                    };\n                    yield this.pending.set(pending.topic, pending, { relay: pending.relay, decryptKeys });\n                    return pending;\n                }\n                catch (e) {\n                    const reason = utils_1.getError(utils_1.ERROR.GENERIC, { message: e.message });\n                    const outcome = { reason };\n                    const pending = {\n                        status: constants_1.SESSION_STATUS.responded,\n                        topic: proposal.topic,\n                        relay: proposal.relay,\n                        self,\n                        proposal,\n                        outcome,\n                    };\n                    yield this.pending.set(pending.topic, pending, { relay: pending.relay, decryptKeys });\n                    return pending;\n                }\n            }\n            else {\n                const defaultReason = utils_1.getError(utils_1.ERROR.NOT_APPROVED, { context: this.context });\n                const outcome = { reason: (params === null || params === void 0 ? void 0 : params.reason) || defaultReason };\n                const pending = {\n                    status: constants_1.SESSION_STATUS.responded,\n                    topic: proposal.topic,\n                    relay: proposal.relay,\n                    self,\n                    proposal,\n                    outcome,\n                };\n                yield this.pending.set(pending.topic, pending, { relay: pending.relay, decryptKeys });\n                return pending;\n            }\n        });\n    }\n    upgrade(params) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            this.logger.info(`Upgrade Session`);\n            this.logger.trace({ type: \"method\", method: \"upgrade\", params });\n            const session = yield this.settled.get(params.topic);\n            const participant = { publicKey: session.self.publicKey };\n            const upgrade = yield this.handleUpgrade(params.topic, params, participant);\n            const request = utils_2.formatJsonRpcRequest(constants_1.SESSION_JSONRPC.upgrade, upgrade);\n            yield this.send(session.topic, request);\n            return session;\n        });\n    }\n    update(params) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            this.logger.info(`Update Session`);\n            this.logger.trace({ type: \"method\", method: \"update\", params });\n            const session = yield this.settled.get(params.topic);\n            const participant = { publicKey: session.self.publicKey };\n            const update = yield this.handleUpdate(params.topic, params, participant);\n            const request = utils_2.formatJsonRpcRequest(constants_1.SESSION_JSONRPC.update, update);\n            yield this.send(session.topic, request);\n            return session;\n        });\n    }\n    request(params) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            return new Promise((resolve, reject) => tslib_1.__awaiter(this, void 0, void 0, function* () {\n                const request = utils_2.formatJsonRpcRequest(params.request.method, params.request.params);\n                const maxTimeout = (params === null || params === void 0 ? void 0 : params.timeout) || constants_1.FIVE_MINUTES * 1000;\n                const timeout = setTimeout(() => {\n                    const error = utils_1.getError(utils_1.ERROR.JSONRPC_REQUEST_TIMEOUT, {\n                        method: request.method,\n                        timeout: maxTimeout,\n                    });\n                    this.logger.error(error.message);\n                    reject(error.message);\n                }, maxTimeout);\n                this.events.on(constants_1.SESSION_EVENTS.response, (responseEvent) => {\n                    if (params.topic !== responseEvent.topic)\n                        return;\n                    const response = responseEvent.response;\n                    if (response.id !== request.id)\n                        return;\n                    clearTimeout(timeout);\n                    if (utils_2.isJsonRpcError(response)) {\n                        const errorMessage = response.error.message;\n                        this.logger.error(errorMessage);\n                        return reject(new Error(errorMessage));\n                    }\n                    return resolve(response.result);\n                });\n                try {\n                    yield this.send(params.topic, request, params.chainId);\n                }\n                catch (e) {\n                    clearTimeout(timeout);\n                    return reject(e);\n                }\n            }));\n        });\n    }\n    delete(params) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            this.logger.info(`Delete Session`);\n            this.logger.trace({ type: \"method\", method: \"delete\", params });\n            this.settled.delete(params.topic, params.reason);\n        });\n    }\n    notify(params) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            const session = yield this.settled.get(params.topic);\n            if (session.self.publicKey !== session.permissions.controller.publicKey &&\n                !session.permissions.notifications.types.includes(params.type)) {\n                const error = utils_1.getError(utils_1.ERROR.UNAUTHORIZED_NOTIFICATION_TYPE, { type: params.type });\n                this.logger.error(error.message);\n                throw new Error(error.message);\n            }\n            const notification = { type: params.type, data: params.data };\n            const request = utils_2.formatJsonRpcRequest(constants_1.SESSION_JSONRPC.notification, notification);\n            yield this.send(params.topic, request);\n        });\n    }\n    on(event, listener) {\n        this.events.on(event, listener);\n    }\n    once(event, listener) {\n        this.events.once(event, listener);\n    }\n    off(event, listener) {\n        this.events.off(event, listener);\n    }\n    removeListener(event, listener) {\n        this.events.removeListener(event, listener);\n    }\n    propose(params) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            this.logger.info(`Propose Session`);\n            this.logger.trace({ type: \"method\", method: \"propose\", params });\n            const paramsValidation = utils_1.validateSessionProposeParams(params);\n            if (utils_1.isValidationInvalid(paramsValidation)) {\n                this.logger.error(paramsValidation.error.message);\n                throw new Error(paramsValidation.error.message);\n            }\n            if (params.signal.method !== constants_1.SESSION_SIGNAL_METHOD_PAIRING) {\n                throw new Error(`Session proposal signal unsupported`);\n            }\n            const pairing = yield this.client.pairing.settled.get(params.signal.params.topic);\n            const signal = {\n                method: constants_1.SESSION_SIGNAL_METHOD_PAIRING,\n                params: { topic: pairing.topic },\n            };\n            const decryptKeys = {\n                sharedKey: pairing.sharedKey,\n            };\n            const topic = utils_1.generateRandomBytes32();\n            const self = utils_1.generateKeyPair();\n            const proposer = {\n                publicKey: self.publicKey,\n                metadata: params.metadata,\n                controller: this.client.controller,\n            };\n            const proposal = {\n                topic,\n                relay: params.relay,\n                proposer,\n                signal,\n                permissions: params.permissions,\n                ttl: params.ttl || constants_1.SESSION_DEFAULT_TTL,\n            };\n            const pending = {\n                status: constants_1.SESSION_STATUS.proposed,\n                topic: proposal.topic,\n                relay: proposal.relay,\n                self,\n                proposal,\n            };\n            yield this.pending.set(pending.topic, pending, { relay: pending.relay, decryptKeys });\n            return pending;\n        });\n    }\n    settle(params) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            this.logger.info(`Settle Session`);\n            this.logger.trace({ type: \"method\", method: \"settle\", params });\n            const sharedKey = utils_1.deriveSharedKey(params.self.privateKey, params.peer.publicKey);\n            const topic = yield utils_1.sha256(sharedKey);\n            const session = {\n                topic,\n                relay: params.relay,\n                sharedKey,\n                self: params.self,\n                peer: params.peer,\n                permissions: params.permissions,\n                expiry: params.expiry,\n                state: params.state,\n            };\n            const decryptKeys = {\n                sharedKey,\n            };\n            yield this.settled.set(session.topic, session, {\n                relay: session.relay,\n                expiry: session.expiry,\n                decryptKeys,\n            });\n            return session;\n        });\n    }\n    onResponse(payloadEvent) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            const { topic, payload } = payloadEvent;\n            this.logger.info(`Receiving Session response`);\n            this.logger.trace({ type: \"method\", method: \"onResponse\", topic, payload });\n            const request = payload;\n            const pending = yield this.pending.get(topic);\n            const pairing = yield this.client.pairing.get(pending.proposal.signal.params.topic);\n            const encryptKeys = {\n                sharedKey: pairing.sharedKey,\n                publicKey: pairing.self.publicKey,\n            };\n            let error;\n            if (!utils_1.isSessionFailed(request.params)) {\n                try {\n                    const controller = pending.proposal.proposer.controller\n                        ? { publicKey: pending.proposal.proposer.publicKey }\n                        : { publicKey: request.params.responder.publicKey };\n                    const session = yield this.settle({\n                        relay: pending.relay,\n                        self: pending.self,\n                        peer: request.params.responder,\n                        permissions: Object.assign(Object.assign({}, pending.proposal.permissions), { controller }),\n                        ttl: pending.proposal.ttl,\n                        expiry: request.params.expiry,\n                        state: request.params.state,\n                    });\n                    yield this.pending.update(topic, {\n                        status: constants_1.SESSION_STATUS.responded,\n                        outcome: {\n                            topic: session.topic,\n                            relay: session.relay,\n                            responder: session.peer,\n                            expiry: session.expiry,\n                            state: session.state,\n                        },\n                    });\n                }\n                catch (e) {\n                    this.logger.error(e);\n                    error = utils_1.getError(utils_1.ERROR.GENERIC, { message: e.message });\n                    yield this.pending.update(topic, {\n                        status: constants_1.SESSION_STATUS.responded,\n                        outcome: { reason: error },\n                    });\n                }\n                const response = typeof error === \"undefined\"\n                    ? utils_2.formatJsonRpcResult(request.id, true)\n                    : utils_2.formatJsonRpcError(request.id, error);\n                yield this.client.relayer.publish(pending.topic, response, {\n                    relay: pending.relay,\n                    encryptKeys,\n                });\n            }\n            else {\n                this.logger.error(request.params.reason);\n                yield this.pending.update(topic, {\n                    status: constants_1.SESSION_STATUS.responded,\n                    outcome: { reason: request.params.reason },\n                });\n            }\n        });\n    }\n    onAcknowledge(payloadEvent) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            const { topic, payload } = payloadEvent;\n            this.logger.info(`Receiving Session acknowledge`);\n            this.logger.trace({ type: \"method\", method: \"onAcknowledge\", topic, payload });\n            const response = payload;\n            const pending = yield this.pending.get(topic);\n            if (!utils_1.isSessionResponded(pending))\n                return;\n            if (utils_2.isJsonRpcError(response) && !utils_1.isSessionFailed(pending.outcome)) {\n                yield this.settled.delete(pending.outcome.topic, response.error);\n            }\n            const reason = utils_1.getError(utils_1.ERROR.RESPONSE_ACKNOWLEDGED, { context: this.context });\n            yield this.pending.delete(topic, reason);\n        });\n    }\n    onMessage(payloadEvent) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            const { topic, payload } = payloadEvent;\n            this.logger.debug(`Receiving Session message`);\n            this.logger.trace({ type: \"method\", method: \"onMessage\", topic, payload });\n            if (utils_2.isJsonRpcRequest(payload)) {\n                const request = payload;\n                const session = yield this.settled.get(payloadEvent.topic);\n                let error;\n                switch (request.method) {\n                    case constants_1.SESSION_JSONRPC.payload:\n                        yield this.onPayload(payloadEvent);\n                        break;\n                    case constants_1.SESSION_JSONRPC.update:\n                        yield this.onUpdate(payloadEvent);\n                        break;\n                    case constants_1.SESSION_JSONRPC.upgrade:\n                        yield this.onUpgrade(payloadEvent);\n                        break;\n                    case constants_1.SESSION_JSONRPC.notification:\n                        yield this.onNotification(payloadEvent);\n                        break;\n                    case constants_1.SESSION_JSONRPC.delete:\n                        yield this.settled.delete(session.topic, request.params.reason);\n                        break;\n                    case constants_1.SESSION_JSONRPC.ping:\n                        yield this.send(session.topic, utils_2.formatJsonRpcResult(request.id, false));\n                        break;\n                    default:\n                        error = utils_1.getError(utils_1.ERROR.UNKNOWN_JSONRPC_METHOD, { method: request.method });\n                        this.logger.error(error.message);\n                        yield this.send(session.topic, utils_2.formatJsonRpcError(request.id, error));\n                        break;\n                }\n            }\n            else {\n                this.onPayloadEvent(payloadEvent);\n            }\n        });\n    }\n    onPayload(payloadEvent) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            const { topic, payload } = payloadEvent;\n            if (utils_2.isJsonRpcRequest(payload)) {\n                const { id, params } = payload;\n                const request = utils_2.formatJsonRpcRequest(params.request.method, params.request.params, id);\n                const session = yield this.settled.get(topic);\n                if (!session.permissions.jsonrpc.methods.includes(request.method)) {\n                    const error = utils_1.getError(utils_1.ERROR.UNAUTHORIZED_JSON_RPC_METHOD, {\n                        method: request.method,\n                    });\n                    this.logger.error(error.message);\n                    throw new Error(error.message);\n                }\n                const sessionPayloadEvent = {\n                    topic,\n                    payload: request,\n                    chainId: params.chainId,\n                };\n                this.logger.debug(`Receiving Session payload`);\n                this.logger.trace(Object.assign({ type: \"method\", method: \"onPayload\" }, sessionPayloadEvent));\n                this.onPayloadEvent(sessionPayloadEvent);\n            }\n            else {\n                const sessionPayloadEvent = {\n                    topic,\n                    payload,\n                };\n                this.logger.debug(`Receiving Session payload`);\n                this.logger.trace(Object.assign({ type: \"method\", method: \"onPayload\" }, sessionPayloadEvent));\n                this.onPayloadEvent(sessionPayloadEvent);\n            }\n        });\n    }\n    onUpdate(payloadEvent) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            const { topic, payload } = payloadEvent;\n            this.logger.debug(`Receiving Session update`);\n            this.logger.trace({ type: \"method\", method: \"onUpdate\", topic, payload });\n            const request = payloadEvent.payload;\n            const session = yield this.settled.get(payloadEvent.topic);\n            try {\n                const participant = { publicKey: session.peer.publicKey };\n                yield this.handleUpdate(topic, request.params, participant);\n                const response = utils_2.formatJsonRpcResult(request.id, true);\n                yield this.send(session.topic, response);\n            }\n            catch (e) {\n                this.logger.error(e);\n                const response = utils_2.formatJsonRpcError(request.id, e.message);\n                yield this.send(session.topic, response);\n            }\n        });\n    }\n    onUpgrade(payloadEvent) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            const { topic, payload } = payloadEvent;\n            this.logger.debug(`Receiving Session upgrade`);\n            this.logger.trace({ type: \"method\", method: \"onUpgrade\", topic, payload });\n            const request = payloadEvent.payload;\n            const session = yield this.settled.get(payloadEvent.topic);\n            try {\n                const participant = { publicKey: session.peer.publicKey };\n                yield this.handleUpgrade(topic, request.params, participant);\n                const response = utils_2.formatJsonRpcResult(request.id, true);\n                yield this.send(session.topic, response);\n            }\n            catch (e) {\n                this.logger.error(e);\n                const response = utils_2.formatJsonRpcError(request.id, e.message);\n                yield this.send(session.topic, response);\n            }\n        });\n    }\n    handleUpdate(topic, params, participant) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            const session = yield this.settled.get(topic);\n            let update;\n            if (typeof params.state !== \"undefined\") {\n                const state = session.state;\n                if (participant.publicKey !== session.permissions.controller.publicKey) {\n                    const error = utils_1.getError(utils_1.ERROR.UNAUTHORIZED_UPDATE_REQUEST, { context: this.context });\n                    this.logger.error(error.message);\n                    throw new Error(error.message);\n                }\n                state.accounts = params.state.accounts || state.accounts;\n                update = { state };\n            }\n            else {\n                const error = utils_1.getError(utils_1.ERROR.INVALID_UPDATE_REQUEST, { context: this.context });\n                this.logger.error(error.message);\n                throw new Error(error.message);\n            }\n            yield this.settled.update(session.topic, session);\n            return update;\n        });\n    }\n    handleUpgrade(topic, params, participant) {\n        var _a, _b, _c, _d;\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            const session = yield this.settled.get(topic);\n            let upgrade = { permissions: {} };\n            if (participant.publicKey !== session.permissions.controller.publicKey) {\n                const error = utils_1.getError(utils_1.ERROR.UNAUTHORIZED_UPGRADE_REQUEST, { context: this.context });\n                this.logger.error(error.message);\n                throw new Error(error.message);\n            }\n            const permissions = {\n                blockchain: {\n                    chains: [\n                        ...session.permissions.blockchain.chains,\n                        ...(((_a = params.permissions.blockchain) === null || _a === void 0 ? void 0 : _a.chains) || []),\n                    ],\n                },\n                jsonrpc: {\n                    methods: [\n                        ...session.permissions.jsonrpc.methods,\n                        ...(((_b = params.permissions.jsonrpc) === null || _b === void 0 ? void 0 : _b.methods) || []),\n                    ],\n                },\n                notifications: {\n                    types: [\n                        ...(_c = session.permissions.notifications) === null || _c === void 0 ? void 0 : _c.types,\n                        ...(((_d = params.permissions.notifications) === null || _d === void 0 ? void 0 : _d.types) || []),\n                    ],\n                },\n            };\n            upgrade = { permissions };\n            session.permissions = Object.assign(Object.assign({}, permissions), { controller: session.permissions.controller });\n            yield this.settled.update(session.topic, session);\n            return upgrade;\n        });\n    }\n    onNotification(event) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            const notification = event.payload.params;\n            const notificationEvent = {\n                topic: event.topic,\n                type: notification.type,\n                data: notification.data,\n            };\n            this.logger.info(`Emitting ${constants_1.SESSION_EVENTS.notification}`);\n            this.logger.debug({ type: \"event\", event: constants_1.SESSION_EVENTS.notification, notificationEvent });\n            this.events.emit(constants_1.SESSION_EVENTS.notification, notificationEvent);\n        });\n    }\n    shouldIgnorePayloadEvent(payloadEvent) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            const { topic, payload } = payloadEvent;\n            if (!this.settled.subscriptions.has(topic))\n                return true;\n            let exists = false;\n            try {\n                exists = yield this.history.exists(topic, payload.id);\n            }\n            catch (e) {\n            }\n            return exists;\n        });\n    }\n    onPayloadEvent(payloadEvent) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            const { topic, payload, chainId } = payloadEvent;\n            if (utils_2.isJsonRpcRequest(payload)) {\n                if (yield this.shouldIgnorePayloadEvent(payloadEvent))\n                    return;\n                yield this.history.set(topic, payload, chainId);\n            }\n            else {\n                yield this.history.update(topic, payload);\n            }\n            if (utils_2.isJsonRpcRequest(payload)) {\n                const requestEvent = { topic, request: payload, chainId };\n                this.logger.info(`Emitting ${constants_1.SESSION_EVENTS.request}`);\n                this.logger.debug({ type: \"event\", event: constants_1.SESSION_EVENTS.request, data: requestEvent });\n                this.events.emit(constants_1.SESSION_EVENTS.request, requestEvent);\n            }\n            else {\n                const responseEvent = { topic, response: payload, chainId };\n                this.logger.info(`Emitting ${constants_1.SESSION_EVENTS.response}`);\n                this.logger.debug({ type: \"event\", event: constants_1.SESSION_EVENTS.response, data: responseEvent });\n                this.events.emit(constants_1.SESSION_EVENTS.response, responseEvent);\n            }\n        });\n    }\n    onPendingPayloadEvent(event) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            if (utils_2.isJsonRpcRequest(event.payload)) {\n                switch (event.payload.method) {\n                    case constants_1.SESSION_JSONRPC.approve:\n                    case constants_1.SESSION_JSONRPC.reject:\n                        this.onResponse(event);\n                        break;\n                    default:\n                        break;\n                }\n            }\n            else {\n                this.onAcknowledge(event);\n            }\n        });\n    }\n    onPendingStatusEvent(event) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            const pending = event.data;\n            if (utils_1.isSessionResponded(pending)) {\n                this.logger.info(`Emitting ${constants_1.SESSION_EVENTS.responded}`);\n                this.logger.debug({ type: \"event\", event: constants_1.SESSION_EVENTS.responded, data: pending });\n                this.events.emit(constants_1.SESSION_EVENTS.responded, pending);\n                if (!utils_1.isSubscriptionUpdatedEvent(event)) {\n                    const pairing = yield this.client.pairing.get(pending.proposal.signal.params.topic);\n                    const encryptKeys = {\n                        sharedKey: pairing.sharedKey,\n                        publicKey: pairing.self.publicKey,\n                    };\n                    const method = !utils_1.isSessionFailed(pending.outcome)\n                        ? constants_1.SESSION_JSONRPC.approve\n                        : constants_1.SESSION_JSONRPC.reject;\n                    const request = utils_2.formatJsonRpcRequest(method, pending.outcome);\n                    yield this.client.relayer.publish(pending.topic, request, {\n                        relay: pending.relay,\n                        encryptKeys,\n                    });\n                }\n            }\n            else {\n                this.logger.info(`Emitting ${constants_1.SESSION_EVENTS.proposed}`);\n                this.logger.debug({ type: \"event\", event: constants_1.SESSION_EVENTS.proposed, data: pending });\n                this.events.emit(constants_1.SESSION_EVENTS.proposed, pending);\n                const request = utils_2.formatJsonRpcRequest(constants_1.SESSION_JSONRPC.propose, pending.proposal);\n                yield this.client.pairing.send(pending.proposal.signal.params.topic, request);\n            }\n        });\n    }\n    registerEventListeners() {\n        this.pending.on(constants_1.SUBSCRIPTION_EVENTS.payload, (payloadEvent) => this.onPendingPayloadEvent(payloadEvent));\n        this.pending.on(constants_1.SUBSCRIPTION_EVENTS.created, (createdEvent) => this.onPendingStatusEvent(createdEvent));\n        this.pending.on(constants_1.SUBSCRIPTION_EVENTS.updated, (updatedEvent) => this.onPendingStatusEvent(updatedEvent));\n        this.settled.on(constants_1.SUBSCRIPTION_EVENTS.payload, (payloadEvent) => this.onMessage(payloadEvent));\n        this.settled.on(constants_1.SUBSCRIPTION_EVENTS.created, (createdEvent) => {\n            const { data: session } = createdEvent;\n            this.logger.info(`Emitting ${constants_1.SESSION_EVENTS.settled}`);\n            this.logger.debug({ type: \"event\", event: constants_1.SESSION_EVENTS.settled, data: session });\n            this.events.emit(constants_1.SESSION_EVENTS.settled, session);\n        });\n        this.settled.on(constants_1.SUBSCRIPTION_EVENTS.updated, (updatedEvent) => {\n            const { data: session, update } = updatedEvent;\n            this.logger.info(`Emitting ${constants_1.SESSION_EVENTS.updated}`);\n            this.logger.debug({ type: \"event\", event: constants_1.SESSION_EVENTS.updated, data: session, update });\n            this.events.emit(constants_1.SESSION_EVENTS.updated, session, update);\n        });\n        this.settled.on(constants_1.SUBSCRIPTION_EVENTS.deleted, (deletedEvent) => tslib_1.__awaiter(this, void 0, void 0, function* () {\n            const { data: session, reason } = deletedEvent;\n            this.logger.info(`Emitting ${constants_1.SESSION_EVENTS.deleted}`);\n            this.logger.debug({ type: \"event\", event: constants_1.SESSION_EVENTS.deleted, data: session, reason });\n            this.events.emit(constants_1.SESSION_EVENTS.deleted, session, reason);\n            const request = utils_2.formatJsonRpcRequest(constants_1.SESSION_JSONRPC.delete, { reason });\n            yield this.history.delete(session.topic);\n            const encryptKeys = {\n                sharedKey: session.sharedKey,\n                publicKey: session.self.publicKey,\n            };\n            yield this.client.relayer.publish(session.topic, request, {\n                relay: session.relay,\n                encryptKeys,\n            });\n        }));\n        this.settled.on(constants_1.SUBSCRIPTION_EVENTS.sync, () => this.events.emit(constants_1.SESSION_EVENTS.sync));\n        this.settled.on(constants_1.SUBSCRIPTION_EVENTS.enabled, () => this.events.emit(constants_1.SESSION_EVENTS.enabled));\n        this.settled.on(constants_1.SUBSCRIPTION_EVENTS.disabled, () => this.events.emit(constants_1.SESSION_EVENTS.disabled));\n    }\n}\nexports.Session = Session;\n//# sourceMappingURL=session.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Client = void 0;\nconst tslib_1 = require(\"tslib\");\nconst events_1 = require(\"events\");\nconst pino_1 = tslib_1.__importDefault(require(\"pino\"));\nconst keyvaluestorage_1 = tslib_1.__importDefault(require(\"keyvaluestorage\"));\nconst types_1 = require(\"@walletconnect/types\");\nconst utils_1 = require(\"@walletconnect/utils\");\nconst pino_utils_1 = require(\"@pedrouid/pino-utils\");\nconst controllers_1 = require(\"./controllers\");\nconst constants_1 = require(\"./constants\");\nclass Client extends types_1.IClient {\n    constructor(opts) {\n        super(opts);\n        this.protocol = \"wc\";\n        this.version = 2;\n        this.events = new events_1.EventEmitter();\n        this.context = constants_1.CLIENT_CONTEXT;\n        const logger = typeof (opts === null || opts === void 0 ? void 0 : opts.logger) !== \"undefined\" && typeof (opts === null || opts === void 0 ? void 0 : opts.logger) !== \"string\"\n            ? opts.logger\n            : pino_1.default(pino_utils_1.getDefaultLoggerOptions({ level: (opts === null || opts === void 0 ? void 0 : opts.logger) || \"error\" }));\n        this.context = (opts === null || opts === void 0 ? void 0 : opts.name) || this.context;\n        this.controller = (opts === null || opts === void 0 ? void 0 : opts.controller) || false;\n        this.metadata = (opts === null || opts === void 0 ? void 0 : opts.metadata) || utils_1.getAppMetadata();\n        this.logger = pino_utils_1.generateChildLogger(logger, this.context);\n        this.relayer = new controllers_1.Relayer(this, this.logger, opts === null || opts === void 0 ? void 0 : opts.relayProvider);\n        this.storage =\n            (opts === null || opts === void 0 ? void 0 : opts.storage) || new keyvaluestorage_1.default(Object.assign(Object.assign({}, constants_1.CLIENT_STORAGE_OPTIONS), opts === null || opts === void 0 ? void 0 : opts.storageOptions));\n        this.pairing = new controllers_1.Pairing(this, this.logger);\n        this.session = new controllers_1.Session(this, this.logger);\n    }\n    static init(opts) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            const client = new Client(opts);\n            yield client.initialize();\n            return client;\n        });\n    }\n    on(event, listener) {\n        this.events.on(event, listener);\n    }\n    once(event, listener) {\n        this.events.once(event, listener);\n    }\n    off(event, listener) {\n        this.events.off(event, listener);\n    }\n    removeListener(event, listener) {\n        this.events.removeListener(event, listener);\n    }\n    connect(params) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            this.logger.debug(`Connecting Application`);\n            this.logger.trace({ type: \"method\", method: \"connect\", params });\n            try {\n                if (typeof params.pairing === undefined) {\n                    this.logger.info(\"Connecing with existing pairing\");\n                }\n                const pairing = typeof params.pairing === \"undefined\"\n                    ? yield this.pairing.create()\n                    : yield this.pairing.get(params.pairing.topic);\n                this.logger.trace({ type: \"method\", method: \"connect\", pairing });\n                const metadata = params.metadata || this.metadata;\n                if (typeof metadata === \"undefined\") {\n                    const error = utils_1.getError(utils_1.ERROR.MISSING_OR_INVALID, { name: \"app metadata\" });\n                    this.logger.error(error.message);\n                    throw new Error(error.message);\n                }\n                const session = yield this.session.create({\n                    signal: { method: constants_1.SESSION_SIGNAL_METHOD_PAIRING, params: { topic: pairing.topic } },\n                    relay: params.relay || { protocol: constants_1.RELAYER_DEFAULT_PROTOCOL },\n                    metadata,\n                    permissions: Object.assign(Object.assign({}, params.permissions), { notifications: constants_1.SESSION_EMPTY_PERMISSIONS.notifications }),\n                });\n                this.logger.debug(`Application Connection Successful`);\n                this.logger.trace({ type: \"method\", method: \"connect\", session });\n                return session;\n            }\n            catch (e) {\n                this.logger.debug(`Application Connection Failure`);\n                this.logger.error(e);\n                throw e;\n            }\n        });\n    }\n    pair(params) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            this.logger.debug(`Pairing`);\n            this.logger.trace({ type: \"method\", method: \"pair\", params });\n            const proposal = formatPairingProposal(params.uri);\n            const approved = proposal.proposer.controller !== this.controller;\n            const reason = approved\n                ? undefined\n                : utils_1.getError(utils_1.ERROR.UNAUTHORIZED_MATCHING_CONTROLLER, { controller: this.controller });\n            const pending = yield this.pairing.respond({ approved, proposal, reason });\n            if (!utils_1.isPairingResponded(pending)) {\n                const error = utils_1.getError(utils_1.ERROR.NO_MATCHING_RESPONSE, { context: \"pairing\" });\n                this.logger.error(error.message);\n                throw new Error(error.message);\n            }\n            if (utils_1.isPairingFailed(pending.outcome)) {\n                this.logger.debug(`Pairing Failure`);\n                this.logger.trace({ type: \"method\", method: \"pair\", outcome: pending.outcome });\n                throw new Error(pending.outcome.reason.message);\n            }\n            this.logger.debug(`Pairing Success`);\n            this.logger.trace({ type: \"method\", method: \"pair\", pending });\n            return pending.outcome.topic;\n        });\n    }\n    approve(params) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            this.logger.debug(`Approving Session Proposal`);\n            this.logger.trace({ type: \"method\", method: \"approve\", params });\n            if (typeof params.response === \"undefined\") {\n                const error = utils_1.getError(utils_1.ERROR.MISSING_RESPONSE, { context: \"session\" });\n                this.logger.error(error.message);\n                throw new Error(error.message);\n            }\n            const state = params.response.state || constants_1.SESSION_EMPTY_STATE;\n            const metadata = params.response.metadata || this.metadata;\n            if (typeof metadata === \"undefined\") {\n                const error = utils_1.getError(utils_1.ERROR.MISSING_OR_INVALID, { name: \"app metadata\" });\n                this.logger.error(error.message);\n                throw new Error(error.message);\n            }\n            const approved = params.proposal.proposer.controller !== this.controller;\n            const reason = approved\n                ? undefined\n                : utils_1.getError(utils_1.ERROR.UNAUTHORIZED_MATCHING_CONTROLLER, { controller: this.controller });\n            const pending = yield this.session.respond({\n                approved,\n                proposal: params.proposal,\n                response: { state, metadata },\n                reason,\n            });\n            if (!utils_1.isSessionResponded(pending)) {\n                const error = utils_1.getError(utils_1.ERROR.NO_MATCHING_RESPONSE, { context: \"session\" });\n                this.logger.error(error.message);\n                throw new Error(error.message);\n            }\n            if (utils_1.isSessionFailed(pending.outcome)) {\n                this.logger.debug(`Session Proposal Approval Failure`);\n                this.logger.trace({ type: \"method\", method: \"approve\", outcome: pending.outcome });\n                throw new Error(pending.outcome.reason.message);\n            }\n            this.logger.debug(`Session Proposal Approval Success`);\n            this.logger.trace({ type: \"method\", method: \"approve\", pending });\n            return this.session.get(pending.outcome.topic);\n        });\n    }\n    reject(params) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            this.logger.debug(`Rejecting Session Proposal`);\n            this.logger.trace({ type: \"method\", method: \"reject\", params });\n            const pending = yield this.session.respond({\n                approved: false,\n                proposal: params.proposal,\n                response: constants_1.SESSION_EMPTY_RESPONSE,\n                reason: params.reason,\n            });\n            this.logger.debug(`Session Proposal Response Success`);\n            this.logger.trace({ type: \"method\", method: \"reject\", pending });\n        });\n    }\n    upgrade(params) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            yield this.session.upgrade(params);\n        });\n    }\n    update(params) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            yield this.session.update(params);\n        });\n    }\n    request(params) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            return this.session.request(params);\n        });\n    }\n    respond(params) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            yield this.session.send(params.topic, params.response);\n        });\n    }\n    notify(params) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            yield this.session.notify(params);\n        });\n    }\n    disconnect(params) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            this.logger.debug(`Disconnecting Application`);\n            this.logger.trace({ type: \"method\", method: \"disconnect\", params });\n            yield this.session.delete(params);\n        });\n    }\n    onPairingRequest(request) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            if (request.method === constants_1.SESSION_JSONRPC.propose) {\n                const proposal = request.params;\n                if (proposal.proposer.controller === this.controller) {\n                    const reason = utils_1.getError(utils_1.ERROR.UNAUTHORIZED_MATCHING_CONTROLLER, {\n                        controller: this.controller,\n                    });\n                    yield this.session.respond({\n                        approved: false,\n                        proposal,\n                        response: constants_1.SESSION_EMPTY_RESPONSE,\n                        reason,\n                    });\n                    return;\n                }\n                this.logger.info(`Emitting ${constants_1.CLIENT_EVENTS.session.proposal}`);\n                this.logger.debug({\n                    type: \"event\",\n                    event: constants_1.CLIENT_EVENTS.session.proposal,\n                    data: proposal,\n                });\n                this.events.emit(constants_1.CLIENT_EVENTS.session.proposal, proposal);\n            }\n        });\n    }\n    onPairingSettled(pairing) {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            if (pairing.permissions.controller.publicKey === pairing.self.publicKey) {\n                this.pairing.update({ topic: pairing.topic, state: { metadata: this.metadata } });\n            }\n        });\n    }\n    initialize() {\n        return tslib_1.__awaiter(this, void 0, void 0, function* () {\n            this.logger.trace(`Initialized`);\n            try {\n                yield this.relayer.init();\n                yield this.pairing.init();\n                yield this.session.init();\n                this.setBeatInterval();\n                this.registerEventListeners();\n                this.logger.info(`Client Initilization Success`);\n            }\n            catch (e) {\n                this.logger.info(`Client Initilization Failure`);\n                this.logger.error(e);\n                throw e;\n            }\n        });\n    }\n    setBeatInterval() {\n        setInterval(() => this.events.emit(constants_1.CLIENT_EVENTS.beat), constants_1.CLIENT_BEAT_INTERVAL);\n    }\n    registerEventListeners() {\n        this.pairing.on(constants_1.PAIRING_EVENTS.proposed, (pending) => {\n            this.logger.info(`Emitting ${constants_1.CLIENT_EVENTS.pairing.proposal}`);\n            this.logger.debug({\n                type: \"event\",\n                event: constants_1.CLIENT_EVENTS.pairing.proposal,\n                data: pending.proposal,\n            });\n            this.events.emit(constants_1.CLIENT_EVENTS.pairing.proposal, pending.proposal);\n        });\n        this.pairing.on(constants_1.PAIRING_EVENTS.settled, (pairing) => {\n            this.logger.info(`Emitting ${constants_1.CLIENT_EVENTS.pairing.created}`);\n            this.logger.debug({\n                type: \"event\",\n                event: constants_1.CLIENT_EVENTS.pairing.created,\n                data: pairing,\n            });\n            this.events.emit(constants_1.CLIENT_EVENTS.pairing.created, pairing);\n            this.onPairingSettled(pairing);\n        });\n        this.pairing.on(constants_1.PAIRING_EVENTS.updated, (pairing, update) => {\n            this.logger.info(`Emitting ${constants_1.CLIENT_EVENTS.pairing.updated}`);\n            this.logger.debug({\n                type: \"event\",\n                event: constants_1.CLIENT_EVENTS.pairing.updated,\n                data: pairing,\n                update,\n            });\n            this.events.emit(constants_1.CLIENT_EVENTS.pairing.updated, pairing, update);\n        });\n        this.pairing.on(constants_1.PAIRING_EVENTS.deleted, (pairing, reason) => {\n            this.logger.info(`Emitting ${constants_1.CLIENT_EVENTS.pairing.deleted}`);\n            this.logger.debug({\n                type: \"event\",\n                event: constants_1.CLIENT_EVENTS.pairing.deleted,\n                data: pairing,\n                reason,\n            });\n            this.events.emit(constants_1.CLIENT_EVENTS.pairing.deleted, pairing, reason);\n        });\n        this.pairing.on(constants_1.PAIRING_EVENTS.request, (requestEvent) => {\n            this.onPairingRequest(requestEvent.request);\n        });\n        this.session.on(constants_1.SESSION_EVENTS.proposed, (pending) => {\n            this.logger.info(`Emitting ${constants_1.CLIENT_EVENTS.session.proposal}`);\n            this.logger.debug({\n                type: \"event\",\n                event: constants_1.CLIENT_EVENTS.session.proposal,\n                data: pending.proposal,\n            });\n            this.events.emit(constants_1.CLIENT_EVENTS.session.proposal, pending.proposal);\n        });\n        this.session.on(constants_1.SESSION_EVENTS.settled, (session) => {\n            this.logger.info(`Emitting ${constants_1.CLIENT_EVENTS.session.created}`);\n            this.logger.debug({ type: \"event\", event: constants_1.CLIENT_EVENTS.session.created, data: session });\n            this.events.emit(constants_1.CLIENT_EVENTS.session.created, session);\n        });\n        this.session.on(constants_1.SESSION_EVENTS.updated, (session, update) => {\n            this.logger.info(`Emitting ${constants_1.CLIENT_EVENTS.session.updated}`);\n            this.logger.debug({\n                type: \"event\",\n                event: constants_1.CLIENT_EVENTS.session.updated,\n                data: session,\n                update,\n            });\n            this.events.emit(constants_1.CLIENT_EVENTS.session.updated, session, update);\n        });\n        this.session.on(constants_1.SESSION_EVENTS.deleted, (session, reason) => {\n            this.logger.info(`Emitting ${constants_1.CLIENT_EVENTS.session.deleted}`);\n            this.logger.debug({\n                type: \"event\",\n                event: constants_1.CLIENT_EVENTS.session.deleted,\n                data: session,\n                reason,\n            });\n            this.events.emit(constants_1.CLIENT_EVENTS.session.deleted, session, reason);\n        });\n        this.session.on(constants_1.SESSION_EVENTS.request, (requestEvent) => {\n            this.logger.info(`Emitting ${constants_1.CLIENT_EVENTS.session.request}`);\n            this.logger.debug({\n                type: \"event\",\n                event: constants_1.CLIENT_EVENTS.session.request,\n                data: requestEvent,\n            });\n            this.events.emit(constants_1.CLIENT_EVENTS.session.request, requestEvent);\n        });\n        this.session.on(constants_1.SESSION_EVENTS.response, (responseEvent) => {\n            this.logger.info(`Emitting ${constants_1.CLIENT_EVENTS.session.response}`);\n            this.logger.debug({\n                type: \"event\",\n                event: constants_1.CLIENT_EVENTS.session.response,\n                data: responseEvent,\n            });\n            this.events.emit(constants_1.CLIENT_EVENTS.session.response, responseEvent);\n        });\n        this.session.on(constants_1.SESSION_EVENTS.notification, (notificationEvent) => {\n            this.logger.info(`Emitting ${constants_1.CLIENT_EVENTS.session.notification}`);\n            this.logger.debug({\n                type: \"event\",\n                event: constants_1.CLIENT_EVENTS.session.notification,\n                data: notificationEvent,\n            });\n            this.events.emit(constants_1.CLIENT_EVENTS.session.notification, notificationEvent);\n        });\n    }\n}\nexports.Client = Client;\nfunction formatPairingProposal(uri) {\n    const uriParams = utils_1.parseUri(uri);\n    return {\n        topic: uriParams.topic,\n        relay: uriParams.relay,\n        proposer: { publicKey: uriParams.publicKey, controller: uriParams.controller },\n        signal: { method: constants_1.PAIRING_SIGNAL_METHOD_URI, params: { uri } },\n        permissions: { jsonrpc: { methods: [constants_1.SESSION_JSONRPC.propose] } },\n        ttl: constants_1.PAIRING_DEFAULT_TTL,\n    };\n}\n//# sourceMappingURL=client.js.map","import React, {useCallback, useContext, useEffect, useState} from 'react';\r\nimport Client from \"@walletconnect/client\";\r\nimport {CLIENT_EVENTS} from \"@walletconnect/client/dist/cjs/constants/client\";\r\nimport {AppMetadata, SessionTypes} from \"@walletconnect/types\";\r\nimport {ERROR, getError} from \"@walletconnect/utils/dist/cjs/error\";\r\nimport {getAppMetadata} from \"@walletconnect/utils/dist/cjs/misc\";\r\nimport KeyValueStorage from \"keyvaluestorage\";\r\nimport {JsonRpcRequest, JsonRpcResponse} from \"@json-rpc-tools/utils\";\r\nimport {formatJsonRpcError} from \"@json-rpc-tools/utils/dist/cjs/format\";\r\n\r\ntype OnRequestCallback = (accountAddress: string, chainId: string, request: JsonRpcRequest) => Promise<JsonRpcResponse>\r\n\r\ninterface IWalletConnectContext {\r\n    wcClient: Client | undefined,\r\n    setWcClient: React.Dispatch<React.SetStateAction<Client | undefined>>,\r\n    storage: KeyValueStorage | undefined,\r\n    setStorage: React.Dispatch<React.SetStateAction<KeyValueStorage | undefined>>,\r\n    sessionProposals: SessionTypes.Proposal[],\r\n    setSessionProposals: React.Dispatch<React.SetStateAction<SessionTypes.Proposal[]>>,\r\n    initialized: boolean,\r\n    setInitialized: React.Dispatch<React.SetStateAction<boolean>>,\r\n    chains: string[],\r\n    setChains: React.Dispatch<React.SetStateAction<string[]>>,\r\n    sessions: SessionTypes.Created[],\r\n    setSessions: React.Dispatch<React.SetStateAction<SessionTypes.Created[]>>,\r\n    requests: SessionTypes.RequestEvent[],\r\n    setRequests: React.Dispatch<React.SetStateAction<SessionTypes.RequestEvent[]>>,\r\n    results: any[],\r\n    setResults: React.Dispatch<React.SetStateAction<any[]>>,\r\n\r\n    init: () => Promise<void>,\r\n    resetApp: () => Promise<void>,\r\n    subscribeToEvents: () => void,\r\n    checkPersistedState: () => Promise<void>,\r\n    approveAndMakeRequest: (request: JsonRpcRequest) => Promise<JsonRpcResponse<any>>,\r\n    makeRequest: (request: JsonRpcRequest) => Promise<JsonRpcResponse<any>>,\r\n    checkApprovedRequest: (request: JsonRpcRequest) => Promise<boolean | undefined>,\r\n    onURI: (data: any) => Promise<void>,\r\n    getPeerOfRequest: (requestEvent: SessionTypes.RequestEvent) => Promise<SessionTypes.Peer>,\r\n    approveSession: (proposal: SessionTypes.Proposal) => Promise<void>,\r\n    rejectSession: (proposal: SessionTypes.Proposal) => Promise<void>,\r\n    disconnect: (topic: string) => Promise<void>,\r\n    removeFromPending: (requestEvent: SessionTypes.RequestEvent) => Promise<void>,\r\n    respondRequest: (topic: string, response: JsonRpcResponse) => Promise<void>,\r\n    approveRequest: (requestEvent: SessionTypes.RequestEvent) => Promise<void>,\r\n    rejectRequest: (requestEvent: SessionTypes.RequestEvent) => Promise<void>,\r\n    onRequestListener: (listener: OnRequestCallback) => void,\r\n    addAccountAndChain: (address: string, chain: string) => void,\r\n    removeAccountAndChain: (address: string, chain: string) => void,\r\n    clearAccountAndChain: () => void,\r\n}\r\n\r\nexport interface CtxOptions {\r\n    appMetadata: AppMetadata,\r\n    chainIds: string[],\r\n    logger: string,\r\n    methods: string[],\r\n    relayServer: string,\r\n}\r\n\r\nexport const WalletConnectContext = React.createContext({} as IWalletConnectContext)\r\n\r\nexport const WalletConnectContextProvider: React.FC<{ options: CtxOptions, children: any }> = ({ options, children }) => {\r\n    const [wcClient, setWcClient] = useState<Client | undefined>(undefined)\r\n    const [storage, setStorage] = useState<KeyValueStorage | undefined>(undefined)\r\n    const [sessionProposals, setSessionProposals] = useState<SessionTypes.Proposal[]>([])\r\n    const [initialized, setInitialized] = useState<boolean>(false)\r\n    const [chains, setChains] = useState<string[]>(options.chainIds)\r\n    const [accounts, setAccounts] = useState<string[]>([])\r\n    const [sessions, setSessions] = useState<SessionTypes.Created[]>([])\r\n    const [requests, setRequests] = useState<SessionTypes.RequestEvent[]>([])\r\n    const [results, setResults] = useState<any[]>([])\r\n    const [onRequestCallback, setOnRequestCallback] = useState<OnRequestCallback | undefined>(undefined)\r\n\r\n    useEffect(() => {\r\n        init()\r\n    }, [])\r\n\r\n    const init = async () => {\r\n        const st = new KeyValueStorage()\r\n        setStorage(st)\r\n        setWcClient(await Client.init({\r\n            controller: true,\r\n            relayProvider: options.relayServer,\r\n            logger: options.logger,\r\n            storage: st,\r\n        }));\r\n    };\r\n\r\n    const resetApp = async () => {\r\n        setWcClient(undefined)\r\n        setSessionProposals([])\r\n        setInitialized(false)\r\n        setChains([])\r\n        setAccounts([])\r\n        setSessions([])\r\n        setRequests([])\r\n        setResults([])\r\n    }\r\n\r\n    const checkPersistedState = useCallback(async () => {\r\n        if (typeof wcClient === \"undefined\") {\r\n            throw new Error(\"Client is not initialized\");\r\n        }\r\n        setSessions(wcClient.session.values)\r\n        setRequests(wcClient.session.history.pending)\r\n        setInitialized(true)\r\n    }, [wcClient]);\r\n\r\n    // ---- MAKE REQUESTS AND SAVE/CHECK IF APPROVED ------------------------------//\r\n\r\n    const onRequestListener = (listener: OnRequestCallback) => {\r\n        setOnRequestCallback(() => listener)\r\n    }\r\n\r\n    const approveAndMakeRequest = async (request: JsonRpcRequest) => {\r\n        storage?.setItem(`request-${JSON.stringify(request)}`, true)\r\n        return await makeRequest(request)\r\n    }\r\n\r\n    const makeRequest = useCallback(async (request: JsonRpcRequest) => {\r\n        // TODO: allow multiple accounts\r\n        const [address, chainId] = accounts[0].split('@')\r\n        if (!onRequestCallback) {\r\n            throw new Error(\"There is no onRequestCallback\")\r\n        }\r\n        return await onRequestCallback(address, chainId, request);\r\n    }, [accounts])\r\n\r\n    const checkApprovedRequest = useCallback(async (request: JsonRpcRequest) => {\r\n        return storage?.getItem<boolean>(`request-${JSON.stringify(request)}`);\r\n    }, [storage])\r\n\r\n    const respondRequest = useCallback(async (topic: string, response: JsonRpcResponse) => {\r\n        if (typeof wcClient === \"undefined\") {\r\n            throw new Error(\"Client is not initialized\");\r\n        }\r\n        await wcClient.respond({topic, response});\r\n    }, [wcClient]);\r\n\r\n    const subscribeToEvents = useCallback(() => {\r\n        console.log(\"ACTION\", \"subscribeToEvents\");\r\n\r\n        if (typeof wcClient === \"undefined\") {\r\n            throw new Error(\"Client is not initialized\");\r\n        }\r\n\r\n        wcClient.on(CLIENT_EVENTS.session.proposal, (proposal: SessionTypes.Proposal) => {\r\n            if (typeof wcClient === \"undefined\") {\r\n                throw new Error(\"Client is not initialized\");\r\n            }\r\n            console.log(\"EVENT\", \"session_proposal\");\r\n            const unsupportedChains: string[] = [];\r\n            proposal.permissions.blockchain.chains.forEach(chainId => {\r\n                if (chains.includes(chainId)) return;\r\n                unsupportedChains.push(chainId);\r\n            });\r\n            if (unsupportedChains.length) {\r\n                return wcClient.reject({proposal});\r\n            }\r\n            const unsupportedMethods: string[] = [];\r\n            proposal.permissions.jsonrpc.methods.forEach(method => {\r\n                if (options.methods.includes(method)) return;\r\n                unsupportedMethods.push(method);\r\n            });\r\n            if (unsupportedMethods.length) {\r\n                return wcClient.reject({proposal});\r\n            }\r\n            setSessionProposals((old) => [...old, proposal]);\r\n\r\n            return null;\r\n        });\r\n\r\n        wcClient.on(\r\n          CLIENT_EVENTS.session.request,\r\n          async (requestEvent: SessionTypes.RequestEvent) => {\r\n              // tslint:disable-next-line\r\n              console.log(\"EVENT\", CLIENT_EVENTS.session.request, requestEvent.request);\r\n              try {\r\n                  const alreadyApproved = await checkApprovedRequest(requestEvent.request);\r\n                  if (!alreadyApproved) {\r\n                      setRequests((old) => {\r\n                          return [\r\n                              ...(old.filter((i) => i.request.id !== requestEvent.request.id)),\r\n                              requestEvent\r\n                          ]\r\n                      })\r\n                  } else {\r\n                      const response = await makeRequest(requestEvent.request)\r\n                      await respondRequest(requestEvent.topic, response);\r\n                  }\r\n              } catch (e) {\r\n                  const response = formatJsonRpcError(requestEvent.request.id, e.message);\r\n                  await respondRequest(requestEvent.topic, response);\r\n              }\r\n          },\r\n        );\r\n\r\n        wcClient.on(CLIENT_EVENTS.session.created, () => {\r\n            if (typeof wcClient === \"undefined\") {\r\n                throw new Error(\"Client is not initialized\");\r\n            }\r\n            console.log(\"EVENT\", \"session_created\");\r\n            setSessions(wcClient.session.values)\r\n        });\r\n\r\n        wcClient.on(CLIENT_EVENTS.session.deleted, () => {\r\n            if (typeof wcClient === \"undefined\") {\r\n                throw new Error(\"Client is not initialized\");\r\n            }\r\n            console.log(\"EVENT\", \"session_deleted\");\r\n            setSessions(wcClient.session.values)\r\n        });\r\n    }, [chains, checkApprovedRequest, makeRequest, respondRequest, wcClient]);\r\n\r\n    useEffect(() => {\r\n        if (wcClient) {\r\n            subscribeToEvents()\r\n            checkPersistedState()\r\n        }\r\n    }, [wcClient, subscribeToEvents, checkPersistedState])\r\n\r\n    const onURI = async (data: any) => {\r\n        const uri = typeof data === \"string\" ? data : \"\";\r\n        if (!uri) return;\r\n        if (typeof wcClient === \"undefined\") {\r\n            throw new Error(\"Client is not initialized\");\r\n        }\r\n        await wcClient.pair({uri});\r\n    };\r\n\r\n    const getPeerOfRequest = async (requestEvent: SessionTypes.RequestEvent) => {\r\n        if (typeof wcClient === \"undefined\") {\r\n            throw new Error(\"Client is not initialized\");\r\n        }\r\n        const {peer} = await wcClient.session.get(requestEvent.topic);\r\n        return peer\r\n    };\r\n\r\n    const approveSession = async (proposal: SessionTypes.Proposal) => {\r\n        console.log(\"ACTION\", \"approveSession\");\r\n        if (typeof wcClient === \"undefined\") {\r\n            throw new Error(\"Client is not initialized\");\r\n        }\r\n        if (typeof accounts === \"undefined\") {\r\n            throw new Error(\"Accounts is undefined\");\r\n        }\r\n        const accs = accounts.filter(account => {\r\n            const chainId = account.split(\"@\")[1];\r\n            return proposal.permissions.blockchain.chains.includes(chainId);\r\n        });\r\n        const response = {\r\n            state: {accounts: accs},\r\n            metadata: getAppMetadata() || options.appMetadata,\r\n        };\r\n        const session = await wcClient.approve({proposal, response});\r\n        setSessionProposals((old) => old.filter(i => i !== proposal))\r\n        setSessions([session]);\r\n    };\r\n\r\n    const rejectSession = async (proposal: SessionTypes.Proposal) => {\r\n        console.log(\"ACTION\", \"rejectSession\");\r\n        if (typeof wcClient === \"undefined\") {\r\n            throw new Error(\"Client is not initialized\");\r\n        }\r\n        await wcClient.reject({proposal});\r\n        setSessionProposals((old) => old.filter(i => i !== proposal))\r\n    };\r\n\r\n    const disconnect = async (topic: string) => {\r\n        console.log(\"ACTION\", \"disconnect\");\r\n        if (typeof wcClient === \"undefined\") {\r\n            throw new Error(\"Client is not initialized\");\r\n        }\r\n        await wcClient.disconnect({\r\n            topic,\r\n            reason: getError(ERROR.USER_DISCONNECTED),\r\n        });\r\n    };\r\n\r\n    const removeFromPending = async (requestEvent: SessionTypes.RequestEvent) => {\r\n        setRequests(requests.filter(x => x.request.id !== requestEvent.request.id));\r\n    };\r\n\r\n    const approveRequest = async (requestEvent: SessionTypes.RequestEvent) => {\r\n        if (typeof wcClient === \"undefined\") {\r\n            throw new Error(\"Client is not initialized\");\r\n        }\r\n        try {\r\n            const response = await approveAndMakeRequest(requestEvent.request)\r\n            await wcClient.respond({\r\n                topic: requestEvent.topic,\r\n                response,\r\n            });\r\n        } catch (error) {\r\n            console.error(error);\r\n            await wcClient.respond({\r\n                topic: requestEvent.topic,\r\n                response: formatJsonRpcError(requestEvent.request.id, \"Failed or Rejected Request\"),\r\n            });\r\n        }\r\n\r\n        await removeFromPending(requestEvent);\r\n    };\r\n\r\n    const rejectRequest = async (requestEvent: SessionTypes.RequestEvent) => {\r\n        if (typeof wcClient === \"undefined\") {\r\n            throw new Error(\"Client is not initialized\");\r\n        }\r\n        await wcClient.respond({\r\n            topic: requestEvent.topic,\r\n            response: formatJsonRpcError(requestEvent.request.id, \"Failed or Rejected Request\"),\r\n        });\r\n        await removeFromPending(requestEvent);\r\n    };\r\n\r\n    const addAccountAndChain = (address: string, chain: string) => {\r\n        setAccounts((oldAccs) => [...oldAccs, `${address}@${chain}`])\r\n    }\r\n\r\n    const removeAccountAndChain = (address: string, chain: string) => {\r\n        setAccounts((oldAccs) => [...oldAccs.filter((acc) => acc !== `${address}@${chain}`)])\r\n    }\r\n\r\n    const clearAccountAndChain = () => {\r\n        setAccounts([])\r\n    }\r\n\r\n\r\n    const contextValue: IWalletConnectContext = {\r\n        wcClient,\r\n        setWcClient,\r\n        storage,\r\n        setStorage,\r\n        sessionProposals,\r\n        setSessionProposals,\r\n        initialized,\r\n        setInitialized,\r\n        chains,\r\n        setChains,\r\n        sessions,\r\n        setSessions,\r\n        requests,\r\n        setRequests,\r\n        results,\r\n        setResults,\r\n\r\n        init,\r\n        resetApp,\r\n        subscribeToEvents,\r\n        checkPersistedState,\r\n        approveAndMakeRequest,\r\n        makeRequest,\r\n        checkApprovedRequest,\r\n        onURI,\r\n        getPeerOfRequest,\r\n        approveSession,\r\n        rejectSession,\r\n        disconnect,\r\n        removeFromPending,\r\n        respondRequest,\r\n        approveRequest,\r\n        rejectRequest,\r\n        onRequestListener,\r\n        addAccountAndChain,\r\n        removeAccountAndChain,\r\n        clearAccountAndChain,\r\n    }\r\n\r\n    return (\r\n      <WalletConnectContext.Provider value={contextValue}>{children}</WalletConnectContext.Provider>\r\n    );\r\n}\r\n\r\nexport const useWalletConnect = (): IWalletConnectContext => useContext(WalletConnectContext)"],"names":["extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__extends","__","constructor","prototype","create","__assign","assign","t","s","i","n","arguments","length","call","apply","__rest","e","indexOf","getOwnPropertySymbols","propertyIsEnumerable","__decorate","decorators","target","key","desc","c","r","getOwnPropertyDescriptor","Reflect","decorate","defineProperty","__param","paramIndex","decorator","__metadata","metadataKey","metadataValue","metadata","__awaiter","thisArg","_arguments","P","generator","adopt","value","resolve","Promise","reject","fulfilled","step","next","rejected","result","done","then","__generator","body","_","label","sent","trys","ops","f","y","g","verb","Symbol","iterator","v","op","TypeError","pop","push","__createBinding","o","m","k","k2","undefined","__exportStar","exports","__values","__read","ar","error","__spread","concat","__spreadArrays","il","a","j","jl","__await","__asyncGenerator","asyncIterator","q","resume","settle","fulfill","shift","__asyncDelegator","__asyncValues","__makeTemplateObject","cooked","raw","__importStar","mod","__esModule","__importDefault","__classPrivateFieldGet","receiver","privateMap","has","get","__classPrivateFieldSet","set","tryStringify","JSON","stringify","format","args","opts","ss","offset","len","objects","index","join","argLen","str","lastPos","flen","charCodeAt","slice","Number","Math","floor","type","name","String","pino","_console","pfGlobalThisOrFallback","console","stdSerializers","mapHttpRequest","mock","mapHttpResponse","wrapRequestSerializer","passthrough","wrapResponseSerializer","wrapErrorSerializer","req","res","err","asErrValue","shouldSerialize","serialize","serializers","isArray","hasToFilter","filter","keys","browser","transmit","send","Error","proto","write","asObject","stdErrSerialize","levels","fatal","warn","info","debug","trace","enabled","level","logger","log","noop","getLevelVal","getLevel","setLevel","setOpts","timestamp","getTimeFunction","setMaxListeners","getMaxListeners","emit","addListener","on","prependListener","once","prependOnceListener","removeListener","removeAllListeners","listeners","listenerCount","eventNames","flush","_serialize","_stdErrSerialize","child","_logEvent","createLogEventShape","Infinity","values","_level","bindings","bindingsSerializers","childSerializers","childSerialize","applySerializers","Child","parent","_childLevel","bind","labels","stdTimeFunctions","nullTime","epochTime","unixTime","isoTime","fallback","getPrototypeOf","levelVal","wrap","LOG","ts","transmitLevel","transmitValue","methodValue","methodLevel","val","argsCloned","msg","time","lvl","messages","arg","obj","message","stack","Date","now","round","toISOString","defd","globalThis","configurable","self","window","db","LocalStorage","getItem","setItem","removeItem","clear","forEach","__defineGetter__","global","localStorage","module","misc_1","constants_1","root","checkInt","parseInt","checkInts","arrayish","coerceArray","copy","buffer","Uint8Array","createArray","copyArray","sourceArray","targetArray","targetStart","sourceStart","sourceEnd","convertUtf8","toBytes","text","encodeURI","substr","fromBytes","bytes","fromCharCode","convertHex","Hex","numberOfRounds","rcon","S","Si","T1","T2","T3","T4","T5","T6","T7","T8","U1","U2","U3","U4","convertToInt32","AES","_prepare","rounds","_Ke","_Kd","roundKeyCount","KC","tk","rconpointer","tt","encrypt","plaintext","decrypt","ciphertext","ModeOfOperationECB","description","_aes","block","ModeOfOperationCBC","iv","_lastCipherblock","ModeOfOperationCFB","segmentSize","_shiftRegister","encrypted","xorSegment","ModeOfOperationOFB","_lastPrecipher","_lastPrecipherIndex","Counter","initialValue","_counter","setValue","setBytes","MAX_SAFE_INTEGER","increment","ModeOfOperationCTR","counter","_remainingCounter","_remainingCounterIndex","pkcs7pad","data","padder","pkcs7strip","aesjs","ModeOfOperation","ecb","cbc","cfb","ofb","ctr","utils","hex","utf8","padding","pkcs7","pad","strip","_arrayTest","this","assert","equal","assertEqual","l","inherits","ctor","superCtor","super_","enumerable","writable","TempCtor","isSurrogatePair","toArray","enc","replace","toHex","zero2","toString","htonl","w","toHex32","endian","zero8","word","join32","start","end","split32","rotr32","rotl32","sum32","sum32_3","sum32_4","sum32_5","sum64","buf","pos","ah","al","bh","bl","lo","hi","sum64_hi","sum64_lo","sum64_4_hi","ch","cl","dh","dl","carry","sum64_4_lo","sum64_5_hi","eh","el","sum64_5_lo","rotr64_hi","num","rotr64_lo","shr64_hi","shr64_lo","BlockHash","pending","pendingTotal","blockSize","outSize","hmacStrength","padLength","_delta8","_delta32","update","_update","digest","_pad","_digest","ft_1","x","z","ch32","p32","maj32","s0_256","s1_256","g0_256","g1_256","shaCommon","common","sha1_K","SHA1","h","W","sha256_K","SHA256","SHA224","sha512_K","SHA512","_prepareBlock","c0_hi","g1_512_hi","c0_lo","g1_512_lo","c1_hi","c1_lo","c2_hi","g0_512_hi","c2_lo","g0_512_lo","c3_hi","c3_lo","fh","fl","gh","gl","hh","hl","s1_512_hi","s1_512_lo","ch64_hi","ch64_lo","c4_hi","c4_lo","T1_hi","T1_lo","s0_512_hi","s0_512_lo","maj64_hi","maj64_lo","T2_hi","T2_lo","xh","xl","yh","yl","zh","zl","SHA384","require$$0","require$$1","require$$2","require$$3","require$$4","RIPEMD160","A","B","C","D","E","Ah","Bh","Ch","Dh","Eh","T","K","rh","Kh","sh","Hmac","hash","Hash","inner","outer","_init","init","sha","ripemd","hmac","sha1","sha256","sha224","sha384","sha512","ripemd160","isTypedArray","strict","isStrictTypedArray","loose","isLooseTypedArray","names","arr","Int8Array","Int16Array","Int32Array","Uint8ClampedArray","Uint16Array","Uint32Array","Float32Array","Float64Array","typedarrayToBuffer","Buffer","from","byteLength","byteOffset","helpers_1","sync","commonjsHelpers.createCommonjsModule","random","x25519","iso_crypto_1","shared_1","tslib_1","encodeURIComponent","toUpperCase","token","singleMatcher","RegExp","multiMatcher","decodeComponents","components","split","decodeURIComponent","left","right","decode","input","tokens","match","customDecodeURIComponent","replaceMap","exec","entries","encodedURI","string","separator","separatorIndex","predicate","ret","isArr","isNullOrUndefined","encoderForArrayFormat","options","arrayFormat","skipNull","skipEmptyString","encode","arrayFormatSeparator","parserForArrayFormat","accumulator","includes","isEncodedArray","newValue","map","item","validateArrayFormatSeparator","strictUriEncode","decodeComponent","keysSorter","sort","removeHash","hashStart","getHash","url","extract","queryStart","parseValue","parseNumbers","isNaN","trim","parseBooleans","toLowerCase","parse","query","formatter","param","splitOnFirst","reduce","Boolean","object","shouldFilter","objectCopy","url_","parseFragmentIdentifier","fragmentIdentifier","queryFromUrl","parsedQueryFromUrl","queryString","parseUrl","stringifyUrl","filterObject","exclusionFilter","pick","window_getters_1","validators","error_1","pino_utils_1","subscription_1","utils_1","utils_2","fn","isUndefined","isBuffer","isArrayBuffer","isFormData","FormData","isArrayBufferView","ArrayBuffer","isView","isString","isNumber","isObject","isPlainObject","isDate","isFile","isBlob","isFunction","isStream","pipe","isURLSearchParams","URLSearchParams","isStandardBrowserEnv","navigator","product","document","merge","assignValue","extend","stripBOM","content","buildURL","params","paramsSerializer","serializedParams","parts","hashmarkIndex","InterceptorManager","handlers","use","eject","id","forEachHandler","transformData","headers","fns","transform","isCancel","__CANCEL__","normalizeHeaderName","normalizedName","processHeader","enhanceError","config","code","request","response","isAxiosError","toJSON","number","fileName","lineNumber","columnNumber","createError","validateStatus","status","standardBrowserEnv","expires","path","domain","secure","cookie","toGMTString","read","remove","nonStandardBrowserEnv","isAbsoluteURL","test","combineURLs","baseURL","relativeURL","buildFullPath","requestedURL","ignoreDuplicateOf","parseHeaders","parsed","parser","line","msie","userAgent","urlParsingNode","createElement","originURL","resolveURL","href","setAttribute","protocol","host","search","hostname","port","pathname","charAt","location","isURLSameOrigin","requestURL","xhrAdapter","dispatchXhrRequest","requestData","requestHeaders","XMLHttpRequest","auth","username","password","unescape","Authorization","btoa","fullPath","open","method","timeout","onreadystatechange","handleLoad","readyState","responseURL","responseHeaders","getAllResponseHeaders","responseData","responseType","responseText","statusText","onabort","handleAbort","onerror","handleError","ontimeout","handleTimeout","timeoutErrorMessage","xsrfValue","withCredentials","xsrfCookieName","cookies","xsrfHeaderName","setRequestHeader","onDownloadProgress","addEventListener","onUploadProgress","upload","cancelToken","promise","onCanceled","cancel","abort","DEFAULT_CONTENT_TYPE","setContentTypeIfUnset","getDefaultAdapter","adapter","process","defaults","transformRequest","transformResponse","maxContentLength","maxBodyLength","forEachMethodNoData","forEachMethodWithData","throwIfCancellationRequested","throwIfRequested","dispatchRequest","cleanHeaderConfig","onAdapterResolution","onAdapterRejection","reason","mergeConfig","config1","config2","valueFromConfig2Keys","mergeDeepPropertiesKeys","defaultToConfig2Keys","directMergeKeys","getMergedValue","source","mergeDeepProperties","prop","valueFromConfig2","defaultToConfig2","axiosKeys","otherKeys","filterAxiosKeys","Axios","instanceConfig","interceptors","chain","unshiftRequestInterceptors","interceptor","unshift","pushResponseInterceptors","getUri","Cancel","CancelToken","executor","resolvePromise","promiseExecutor","spread","callback","payload","createInstance","defaultConfig","context","instance","axios","all","promises","validators_1","events_1","WalletConnectContext","React","createContext","WalletConnectContextProvider","children","useState","wcClient","setWcClient","storage","setStorage","sessionProposals","setSessionProposals","initialized","setInitialized","chainIds","chains","setChains","accounts","setAccounts","sessions","setSessions","requests","setRequests","results","setResults","onRequestCallback","setOnRequestCallback","useEffect","st","KeyValueStorage","Client","controller","relayProvider","relayServer","resetApp","checkPersistedState","useCallback","session","history","onRequestListener","listener","approveAndMakeRequest","makeRequest","address","chainId","checkApprovedRequest","respondRequest","topic","respond","subscribeToEvents","CLIENT_EVENTS","proposal","unsupportedChains","permissions","blockchain","unsupportedMethods","jsonrpc","methods","old","requestEvent","alreadyApproved","formatJsonRpcError","created","deleted","onURI","uri","pair","getPeerOfRequest","peer","approveSession","accs","account","state","getAppMetadata","appMetadata","approve","rejectSession","disconnect","getError","ERROR","USER_DISCONNECTED","removeFromPending","approveRequest","rejectRequest","addAccountAndChain","oldAccs","removeAccountAndChain","acc","clearAccountAndChain","contextValue","Provider","useWalletConnect","useContext"],"mappings":"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"}